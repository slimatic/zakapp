# =====================================================
# ZAKAPP MINIMAL DOCKER CONFIGURATION
# =====================================================
# This is a minimal configuration for Docker deployment.
# Copy to .env and update the secrets below.
# For full options, see .env.example
# =====================================================

# =====================================================
# REQUIRED: Security Secrets
# Generate these with the commands shown below each
# =====================================================

# JWT token signing key - used for user authentication
# Generate: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_GENERATED_SECRET

# JWT refresh token signing key  
# Generate: openssl rand -base64 32
JWT_REFRESH_SECRET=REPLACE_WITH_GENERATED_SECRET

# Legacy refresh secret (same purpose)
# Generate: openssl rand -base64 32
REFRESH_SECRET=REPLACE_WITH_GENERATED_SECRET

# Data encryption key (AES-256) - used for encrypting sensitive user data
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=REPLACE_WITH_GENERATED_SECRET_64_CHARS_HEX

# App secret for encrypting admin settings
# Generate: openssl rand -base64 32
APP_SECRET=REPLACE_WITH_GENERATED_SECRET

# =====================================================
# REQUIRED: CouchDB Configuration
# =====================================================

COUCHDB_USER=admin

# CouchDB admin password
# Generate: openssl rand -base64 16
COUCHDB_PASSWORD=REPLACE_WITH_GENERATED_PASSWORD

# JWT secret for CouchDB authentication
# Generate: openssl rand -base64 32
COUCHDB_JWT_SECRET=REPLACE_WITH_GENERATED_SECRET

# =====================================================
# URL Configuration
# Modify these if not running on localhost
# =====================================================

APP_URL=http://localhost:3000
REACT_APP_API_BASE_URL=http://localhost:3001/api
REACT_APP_COUCHDB_URL=http://localhost:5984

# =====================================================
# Port Configuration
# Change if you have port conflicts
# =====================================================

FRONTEND_PORT=3000
BACKEND_PORT=3001
COUCHDB_PORT=5984

# =====================================================
# CORS Configuration
# Add your domain if accessing from another host
# =====================================================

ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
ALLOWED_HOSTS=localhost

# =====================================================
# Admin Access
# Comma-separated list of admin email addresses
# =====================================================

ADMIN_EMAILS=admin@example.com

# =====================================================
# OPTIONAL: Email Configuration
# Uncomment and configure to enable email features
# =====================================================

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@yourdomain.com
# SMTP_FROM_NAME=ZakApp

# =====================================================
# OPTIONAL: Gold/Silver Prices
# Get free API key from: https://www.goldapi.io/
# =====================================================

# GOLD_API_KEY=your-key-here

# Fallback prices if API unavailable (USD per gram)
# MANUAL_GOLD_PRICE_USD=65.00
# MANUAL_SILVER_PRICE_USD=0.80

# =====================================================
# QUICK START
# =====================================================
# 1. Generate all secrets at once:
#    ./scripts/generate-secrets.sh
#
# 2. Or generate individually:
#    openssl rand -base64 32
#
# 3. Copy this file to .env:
#    cp .env.docker.example .env
#
# 4. Replace all REPLACE_* placeholders with generated values
#
# 5. Deploy:
#    docker compose -f docker-compose.local.yml up -d
#
# 6. Access at: http://localhost:3000
# =====================================================