
> client@0.1.0 test
> vitest --run


 RUN  v3.2.4 /home/agentx/github-repos/zakapp/client

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
stdout | src/__tests__/components/dashboard/DashboardWidgets.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/ZakatDisplayCard.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/App.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/tests/performance/bundle-size.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/dashboard/DashboardWidgets.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/components/assets/__tests__/AssetForm.eligibility.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/components/tracking/AnalyticsChart.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/tests/performance/bundle-size.test.ts > Bundle Size Performance > Vendor Bundle Size > should stay within vendor bundle budget
Vendor bundle not found, may be bundled with main

stdout | src/tests/performance/bundle-size.test.ts > Bundle Size Performance > Total Bundle Size > should report bundle breakdown

Bundle Size Breakdown:
  Main JS:   1085.23 KB
  Vendor JS: 0.00 KB
  CSS:       95.26 KB
  Total:     1180.49 KB

stdout | src/tests/performance/bundle-size.test.ts > Bundle Size Performance > Performance Budget Monitoring > should fail if any budget is exceeded

=== Performance Budget Results ===
‚úó main: 1085.23 KB / 400.00 KB (271.3%)
‚úì vendor: 0.00 KB / 250.00 KB (0.0%)
‚úó css: 95.26 KB / 80.00 KB (119.1%)
‚úó total: 1180.49 KB / 420.00 KB (281.1%)
‚úì chunks: 0 chunks all under 80 KB

 ‚ùØ src/tests/performance/bundle-size.test.ts (14 tests | 4 failed) 70ms
   √ó Bundle Size Performance > Main Bundle Size > should stay within main bundle budget 14ms
     ‚Üí expected 1111276 to be less than or equal to 409600
   ‚úì Bundle Size Performance > Main Bundle Size > should be gzipped in production 1ms
   ‚úì Bundle Size Performance > Vendor Bundle Size > should stay within vendor bundle budget 1ms
   ‚úì Bundle Size Performance > Vendor Bundle Size > should not include unnecessary dependencies 0ms
   √ó Bundle Size Performance > CSS Bundle Size > should stay within CSS bundle budget 4ms
     ‚Üí expected 97547 to be less than or equal to 81920
   ‚úì Bundle Size Performance > CSS Bundle Size > should have critical CSS inline 1ms
   √ó Bundle Size Performance > Total Bundle Size > should stay within total initial load budget 2ms
     ‚Üí expected 1208823 to be less than or equal to 430080
   ‚úì Bundle Size Performance > Total Bundle Size > should report bundle breakdown 2ms
   ‚úì Bundle Size Performance > Lazy-Loaded Chunks > should split routes into separate chunks 1ms
   ‚úì Bundle Size Performance > Lazy-Loaded Chunks > should keep individual chunks under max size 0ms
   ‚úì Bundle Size Performance > Asset Optimization > should minify JavaScript files 11ms
   ‚úì Bundle Size Performance > Asset Optimization > should include source maps in development only 1ms
   ‚úì Bundle Size Performance > Tree Shaking > should remove unused code 5ms
   √ó Bundle Size Performance > Performance Budget Monitoring > should fail if any budget is exceeded 22ms
     ‚Üí expected false to be true // Object.is equality
 ‚ùØ tests/components/ZakatDisplayCard.test.tsx (1 test | 1 failed) 44ms
   √ó ZakatDisplayCard > shows total wealth and zakatable wealth and calculated zakat 41ms
     ‚Üí usePrivacy must be used within a PrivacyProvider
stderr | src/App.test.tsx
CryptoService Fatal Error: Web Crypto API is unavailable.
            Context: Insecure
            Protocol: http:
            Hostname: localhost
            
            Solution: Access the application via 'localhost', '127.0.0.1', or 'https://'.
            Browsers block crypto.subtle on 'http://' for non-local origins.

stderr | src/__tests__/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > QuickActionCard > navigates via link when href is provided
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | tests/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > QuickActionCard > navigates via link when href is provided
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx (12 tests | 12 failed) 34ms
   √ó AnalyticsChart - Wealth Trend (T043) > Loading State > shows loading spinner when data is loading 15ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Wealth Trend (T043) > With Valid Data > shows empty state when no data is returned from API 2ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Wealth Trend (T043) > Empty State > renders empty state message when no data 2ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Wealth Trend (T043) > Accessibility > has proper accessibility attributes 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Zakat Obligations (T044) > With Nisab Year Data > shows empty state when no Nisab Year Records exist 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Zakat Obligations (T044) > Empty State > shows Nisab Year specific empty state 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Zakat Obligations (T044) > Terminology > does not use "snapshot" in empty state messages 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Payment Distribution > Pie Chart Rendering > shows empty state when no payment data exists 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Payment Distribution > Pie Chart Rendering > renders multiple slices when multiple payment categories exist 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Payment Distribution > Empty State > shows payment-specific empty state 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Asset Composition (Pie) > renders multiple slices when multiple asset categories exist 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
   √ó AnalyticsChart - Error Handling > displays error message when fetch fails 1ms
     ‚Üí Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ tests/components/dashboard/DashboardWidgets.test.tsx (8 tests | 4 failed) 518ms
   √ó Dashboard widgets > DashboardHeader > encourages users without assets to add their first asset 90ms
     ‚Üí Unable to find an element with the text: /welcome back, aisha/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"mb-6"[39m
    [36m>[39m
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl md:text-3xl font-bold text-gray-900 mb-2"[39m
      [36m>[39m
        [0mWelcome to ZakApp[0m
      [36m</h1>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-base md:text-lg text-gray-600"[39m
      [36m>[39m
        [0mYour Islamic Zakat Calculator[0m
      [36m</p>[39m
      [36m<p[39m
        [33mclass[39m=[32m"mt-3 text-sm text-gray-500 max-w-2xl"[39m
      [36m>[39m
        [0mTrack your wealth, monitor your Hawl period, and calculate your Zakat obligations with confidence. Start by adding your first asset below.[0m
      [36m</p>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ‚úì Dashboard widgets > DashboardHeader > prompts users with assets but no record to create one 17ms
   ‚úì Dashboard widgets > DashboardHeader > confirms tracking is active when an active record exists 16ms
   ‚úì Dashboard widgets > QuickActionCard > navigates via link when href is provided 230ms
   ‚úì Dashboard widgets > QuickActionCard > fires onClick when rendered as a button 77ms
   √ó Dashboard widgets > ActiveRecordWidget > displays Hawl progress and wealth comparison 23ms
     ‚Üí usePrivacy must be used within a PrivacyProvider
   √ó Dashboard widgets > WealthSummaryCard > indicates whether wealth is above or below Nisab 5ms
     ‚Üí usePrivacy must be used within a PrivacyProvider
   √ó Dashboard widgets > OnboardingGuide > highlights the current step and shows progress 57ms
     ‚Üí Cannot destructure property 'basename' of 'React__namespace.useContext(...)' as it is null.
 ‚ùØ src/__tests__/components/dashboard/DashboardWidgets.test.tsx (8 tests | 2 failed) 601ms
   ‚úì Dashboard widgets > DashboardHeader > encourages users without assets to add their first asset 67ms
   ‚úì Dashboard widgets > DashboardHeader > prompts users with assets but no record to create one 11ms
   ‚úì Dashboard widgets > DashboardHeader > confirms tracking is active when an active record exists 9ms
   ‚úì Dashboard widgets > QuickActionCard > navigates via link when href is provided 247ms
   ‚úì Dashboard widgets > QuickActionCard > fires onClick when rendered as a button 69ms
   √ó Dashboard widgets > ActiveRecordWidget > displays Hawl progress and wealth comparison 112ms
     ‚Üí usePrivacy must be used within a PrivacyProvider
   √ó Dashboard widgets > WealthSummaryCard > indicates whether wealth is above or below Nisab 8ms
     ‚Üí usePrivacy must be used within a PrivacyProvider
   ‚úì Dashboard widgets > OnboardingGuide > highlights the current step and shows progress 76ms
stderr | src/App.test.tsx > renders login page
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stdout | src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Passive checkbox is disabled when zakatEligible is unchecked and cleared
DatabaseService: Creating database instance...
DatabaseService: Using Memory Storage for Test (DB: zakapp_test_db_0rgnti)

stderr | src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Passive checkbox is disabled when zakatEligible is unchecked and cleared
DatabaseService: Failed to create database RxError (DB9): 

        RxDB Error-Code: DB9.
        Hint: Error messages are not included in RxDB core to reduce build size.
        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,
        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error
        
Find out more about this error here: https://rxdb.info/errors.html?console=errors#DB9 

--------------------
Parameters:
database: "zakapp_test_db_0rgnti"

    at newRxError [90m(file:///home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mrxdb[24m/src/rx-error.ts:126:12[90m)[39m
    at [90mfile:///home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mrxdb[24m/src/rx-database.ts:677:23
    at Module.createRxDatabase [90m(file:///home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mrxdb[24m/src/rx-database.ts:733:6[90m)[39m
    at _createDb [90m(/home/agentx/github-repos/zakapp/client/[39msrc/db/index.ts:82:26[90m)[39m
    at getDb [90m(/home/agentx/github-repos/zakapp/client/[39msrc/db/index.ts:126:21[90m)[39m
    at [90m/home/agentx/github-repos/zakapp/client/[39msrc/db/index.ts:153:9
    at Object.react_stack_bottom_frame [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:23953:20[90m)[39m
    at runWithFiberInDEV [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:1522:13[90m)[39m
    at commitHookEffectListMount [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11905:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:12028:11[90m)[39m {
  code: [32m'DB9'[39m,
  url: [32m'https://rxdb.info/errors.html?console=errors#DB9'[39m,
  parameters: { database: [32m'zakapp_test_db_0rgnti'[39m },
  rxdb: [33mtrue[39m
}

 ‚ùØ src/App.test.tsx (3 tests | 2 failed) 748ms
   ‚úì renders login page 182ms
   √ó renders ZakApp branding 90ms
     ‚Üí Unable to find an element with the text: Z. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"App"[39m
    [36m>[39m
      [36m<a[39m
        [33maria-label[39m=[32m"Skip to main content"[39m
        [33mclass[39m=[32m"skip-link"[39m
        [33mhref[39m=[32m"#main-content"[39m
      [36m>[39m
        [0mSkip to main content[0m
      [36m</a>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card rounded-xl border bg-card text-card-foreground w-full max-w-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col p-6 space-y-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-center mb-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-green-100 p-3 rounded-full"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-shield-check h-8 w-8 text-green-600"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 12 2 2 4-4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"tracking-tight text-2xl font-bold text-center text-gray-900"[39m
            [36m>[39m
              [0mWelcome Back[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-center text-gray-500"[39m
            [36m>[39m
              [0mSecurely access your ZakApp local vault[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"username"[39m
                [36m>[39m
                  [0mUsername[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"username"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"username"[39m
                    [33mplaceholder[39m=[32m"Enter your username"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"password"[39m
                [36m>[39m
                  [0mPassword[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"current-password"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"password"[39m
                    [33mplaceholder[39m=[32m"Enter your password"[39m
                    [33mtype[39m=[32m"password"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-md hover:shadow-lg transition-all active:scale-[0.98] h-11 px-6 py-2 w-full bg-green-600 hover:bg-green-700 text-white"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mLogin[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"items-center p-6 pt-0 flex flex-col space-y-4 text-center text-sm text-gray-500"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1 justify-center"[39m
            [36m>[39m
              [36m<span>[39m
                [0mDon't have a vault?[0m
              [36m</span>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-green-600 hover:text-green-700 hover:underline font-medium"[39m
                [33mhref[39m=[32m"/register"[39m
              [36m>[39m
                [0mCreate Local Profile[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs"[39m
            [36m>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-gray-500 hover:text-gray-700 hover:underline"[39m
                [33mhref[39m=[32m"/forgot-password"[39m
              [36m>[39m
                [0mForgot your password?[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs text-gray-400 mt-4 flex items-center justify-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-shield-check w-3 h-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m9 12 2 2 4-4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mEnd-to-End Encrypted on your device[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mdata-rht-toaster[39m=[32m""[39m
      [33mstyle[39m=[32m"position: fixed; z-index: 9999; top: 16px; left: 16px; right: 16px; bottom: 16px; pointer-events: none;"[39m
    [36m/>[39m
  [36m</div>[39m
[36m</body>[39m
   √ó renders sign in form 473ms
     ‚Üí Unable to find an accessible element with the role "button" and name `/sign in/i`

Here are the accessible roles:

  link:

  Name "Skip to main content":
  [36m<a[39m
    [33maria-label[39m=[32m"Skip to main content"[39m
    [33mclass[39m=[32m"skip-link"[39m
    [33mhref[39m=[32m"#main-content"[39m
  [36m/>[39m

  Name "Create Local Profile":
  [36m<a[39m
    [33mclass[39m=[32m"text-green-600 hover:text-green-700 hover:underline font-medium"[39m
    [33mhref[39m=[32m"/register"[39m
  [36m/>[39m

  Name "Forgot your password?":
  [36m<a[39m
    [33mclass[39m=[32m"text-gray-500 hover:text-gray-700 hover:underline"[39m
    [33mhref[39m=[32m"/forgot-password"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Welcome Back":
  [36m<h3[39m
    [33mclass[39m=[32m"tracking-tight text-2xl font-bold text-center text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-center text-gray-500"[39m
  [36m/>[39m

  --------------------------------------------------
  textbox:

  Name "Username":
  [36m<input[39m
    [33maria-required[39m=[32m"true"[39m
    [33mautocomplete[39m=[32m"username"[39m
    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
    [33mid[39m=[32m"username"[39m
    [33mplaceholder[39m=[32m"Enter your username"[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "Login":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-md hover:shadow-lg transition-all active:scale-[0.98] h-11 px-6 py-2 w-full bg-green-600 hover:bg-green-700 text-white"[39m
    [33mdisabled[39m=[32m""[39m
    [33mtype[39m=[32m"submit"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"App"[39m
    [36m>[39m
      [36m<a[39m
        [33maria-label[39m=[32m"Skip to main content"[39m
        [33mclass[39m=[32m"skip-link"[39m
        [33mhref[39m=[32m"#main-content"[39m
      [36m>[39m
        [0mSkip to main content[0m
      [36m</a>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card rounded-xl border bg-card text-card-foreground w-full max-w-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col p-6 space-y-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-center mb-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-green-100 p-3 rounded-full"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-shield-check h-8 w-8 text-green-600"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 12 2 2 4-4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"tracking-tight text-2xl font-bold text-center text-gray-900"[39m
            [36m>[39m
              [0mWelcome Back[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-center text-gray-500"[39m
            [36m>[39m
              [0mSecurely access your ZakApp local vault[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"username"[39m
                [36m>[39m
                  [0mUsername[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"username"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"username"[39m
                    [33mplaceholder[39m=[32m"Enter your username"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"password"[39m
                [36m>[39m
                  [0mPassword[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"current-password"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"password"[39m
                    [33mplaceholder[39m=[32m"Enter your password"[39m
                    [33mtype[39m=[32m"password"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-md hover:shadow-lg transition-all active:scale-[0.98] h-11 px-6 py-2 w-full bg-green-600 hover:bg-green-700 text-white"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mLogin[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"items-center p-6 pt-0 flex flex-col space-y-4 text-center text-sm text-gray-500"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1 justify-center"[39m
            [36m>[39m
              [36m<span>[39m
                [0mDon't have a vault?[0m
              [36m</span>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-green-600 hover:text-green-700 hover:underline font-medium"[39m
                [33mhref[39m=[32m"/register"[39m
              [36m>[39m
                [0mCreate Local Profile[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs"[39m
            [36m>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-gray-500 hover:text-gray-700 hover:underline"[39m
                [33mhref[39m=[32m"/forgot-password"[39m
              [36m>[39m
                [0mForgot your password?[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs text-gray-400 mt-4 flex items-center justify-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-shield-check w-3 h-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m9 12 2 2 4-4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mEnd-to-End Encrypted on your device[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mdata-rht-toaster[39m=[32m""[39m
      [33mstyle[39m=[32m"position: fixed; z-index: 9999; top: 16px; left: 16px; right: 16px; bottom: 16px; pointer-events: none;"[39m
    [36m/>[39m
  [36m</div>[39m
[36m</body>[39m
stdout | src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Update submission includes zakatEligible and cleared passive when eligibility removed
DatabaseService: Creating database instance...
DatabaseService: Using Memory Storage for Test (DB: zakapp_test_db_wph9qb)

stderr | src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Update submission includes zakatEligible and cleared passive when eligibility removed
Asset save failed: Error: Database not initialized
    at updateAsset [90m(/home/agentx/github-repos/zakapp/client/[39msrc/hooks/useAssetRepository.ts:55:24[90m)[39m
    at handleSubmit [90m(/home/agentx/github-repos/zakapp/client/[39msrc/components/assets/AssetForm.tsx:144:15[90m)[39m
    at executeDispatch [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:16368:9[90m)[39m
    at runWithFiberInDEV [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:1522:13[90m)[39m
    at processDispatchQueue [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:16418:19[90m)[39m
    at [90m/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:17016:9
    at batchedUpdates$1 [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:3262:40[90m)[39m
    at dispatchEventForPluginEventSystem [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:16572:7[90m)[39m
    at dispatchEvent [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:20658:11[90m)[39m
    at dispatchDiscreteEvent [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:20626:11[90m)[39m
An update to AssetForm inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AssetForm inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Update submission includes zakatEligible and cleared passive when eligibility removed
DatabaseService: Failed to create database RxError (DB9): 

        RxDB Error-Code: DB9.
        Hint: Error messages are not included in RxDB core to reduce build size.
        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,
        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error
        
Find out more about this error here: https://rxdb.info/errors.html?console=errors#DB9 

--------------------
Parameters:
database: "zakapp_test_db_wph9qb"

    at newRxError [90m(file:///home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mrxdb[24m/src/rx-error.ts:126:12[90m)[39m
    at [90mfile:///home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mrxdb[24m/src/rx-database.ts:677:23
    at Module.createRxDatabase [90m(file:///home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mrxdb[24m/src/rx-database.ts:733:6[90m)[39m
    at _createDb [90m(/home/agentx/github-repos/zakapp/client/[39msrc/db/index.ts:82:26[90m)[39m
    at getDb [90m(/home/agentx/github-repos/zakapp/client/[39msrc/db/index.ts:126:21[90m)[39m
    at [90m/home/agentx/github-repos/zakapp/client/[39msrc/db/index.ts:153:9
    at Object.react_stack_bottom_frame [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:23953:20[90m)[39m
    at runWithFiberInDEV [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:1522:13[90m)[39m
    at commitHookEffectListMount [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:11905:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/home/agentx/github-repos/zakapp/client/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:12028:11[90m)[39m {
  code: [32m'DB9'[39m,
  url: [32m'https://rxdb.info/errors.html?console=errors#DB9'[39m,
  parameters: { database: [32m'zakapp_test_db_wph9qb'[39m },
  rxdb: [33mtrue[39m
}

 ‚ùØ src/components/assets/__tests__/AssetForm.eligibility.test.tsx (2 tests | 2 failed) 636ms
   √ó AssetForm eligibility and passive behavior > Passive checkbox is disabled when zakatEligible is unchecked and cleared 269ms
     ‚Üí Unable to find a label with the text of: /Passive Investment/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-6"[39m
      [36m>[39m
        [0mEdit Asset[0m
      [36m</h2>[39m
      [36m<form[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<label[39m
            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [33mfor[39m=[32m"name"[39m
          [36m>[39m
            [0mAsset Name *[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full space-y-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m/>[39m
            [36m<input[39m
              [33maria-describedby[39m=[32m"name-help"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33maria-required[39m=[32m"true"[39m
              [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
              [33mid[39m=[32m"name"[39m
              [33mplaceholder[39m=[32m"e.g., Chase Savings Account"[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m"Test"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [33mid[39m=[32m"name-help"[39m
          [36m>[39m
            [0mEnter a descriptive name for your asset[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<label[39m
            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [33mfor[39m=[32m"category"[39m
          [36m>[39m
            [0mCategory *[0m
          [36m</label>[39m
          [36m<select[39m
            [33maria-describedby[39m=[32m"category-help"[39m
            [33maria-required[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
            [33mid[39m=[32m"category"[39m
          [36m>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"cash"[39m
            [36m>[39m
              [0mCash & Savings[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"gold"[39m
            [36m>[39m
              [0mGold[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"silver"[39m
            [36m>[39m
              [0mSilver[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"business"[39m
            [36m>[39m
              [0mBusiness Assets[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"property"[39m
            [36m>[39m
              [0mProperty[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"stocks"[39m
            [36m>[39m
              [0mStocks & Investments[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"crypto"[39m
            [36m>[39m
              [0mCryptocurrency[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"debts"[39m
            [36m>[39m
              [0mDebts Owed to You[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"expenses"[39m
            [36m>[39m
              [0mExpenses[0m
            [36m</option>[39m
          [36m</select>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [33mid[39m=[32m"category-help"[39m
          [36m>[39m
            [0mSelect the type of asset you're adding[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<label[39m
            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [33mfor[39m=[32m"subCategory"[39m
          [36m>[39m
            [0mSub-Category[0m
          [36m</label>[39m
          [36m<select[39m
            [33maria-describedby[39m=[32m"subcategory-help"[39m
            [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
            [33mid[39m=[32m"subCategory"[39m
          [36m>[39m
            [36m<option[39m
              [33mvalue[39m=[32m""[39m
            [36m>[39m
              [0mSelect a sub-category[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"savings"[39m
            [36m>[39m
              [0mSavings Account[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"checking"[39m
            [36m>[39m
              [0mChecking Account[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"cash_on_hand"[39m
            [36m>[39m
              [0mCash on Hand[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"certificates_of_deposit"[39m
            [36m>[39m
              [0mCertificates of Deposit[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"money_market"[39m
            [36m>[39m
              [0mMoney Market Account[0m
            [36m</option>[39m
          [36m</select>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [33mid[39m=[32m"subcategory-help"[39m
          [36m>[39m
            [0mOptional: Specify a more detailed classification[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-full space-y-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-...
   √ó AssetForm eligibility and passive behavior > Update submission includes zakatEligible and cleared passive when eligibility removed 363ms
     ‚Üí expected "spy" to be called 1 times, but got 0 times
stdout | src/tests/pwa/service-worker.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚ùØ src/tests/pwa/service-worker.test.ts (19 tests | 3 failed) 71ms
   ‚úì Service Worker Tests > Service Worker Registration > should register service worker in production 7ms
   ‚úì Service Worker Tests > Service Worker Registration > should not register service worker in development 1ms
   ‚úì Service Worker Tests > Service Worker Registration > should handle registration failure gracefully 1ms
   ‚úì Service Worker Tests > Service Worker Registration > should check for service worker support 0ms
   ‚úì Service Worker Tests > Service Worker Lifecycle > should handle installation event 10ms
   ‚úì Service Worker Tests > Service Worker Lifecycle > should handle activation event 5ms
   ‚úì Service Worker Tests > Service Worker Lifecycle > should skip waiting when updating 1ms
   ‚úì Service Worker Tests > Service Worker Lifecycle > should claim clients after activation 0ms
   ‚úì Service Worker Tests > Caching Strategies > should cache static assets on install 1ms
   √ó Service Worker Tests > Caching Strategies > should use cache-first strategy for static assets 26ms
     ‚Üí Failed to parse URL from /static/js/main.js
   √ó Service Worker Tests > Caching Strategies > should use network-first strategy for API calls 4ms
     ‚Üí Failed to parse URL from /api/v1/assets
   √ó Service Worker Tests > Caching Strategies > should fall back to cache on network failure 2ms
     ‚Üí Failed to parse URL from /api/v1/assets
   ‚úì Service Worker Tests > Cache Management > should delete old caches on activation 2ms
   ‚úì Service Worker Tests > Cache Management > should update cache on new version 1ms
   ‚úì Service Worker Tests > Service Worker Updates > should notify user of available update 1ms
   ‚úì Service Worker Tests > Service Worker Updates > should reload page after update 2ms
   ‚úì Service Worker Tests > Background Sync > should register sync event 1ms
   ‚úì Service Worker Tests > Push Notifications > should request notification permission 1ms
   ‚úì Service Worker Tests > Push Notifications > should subscribe to push notifications 1ms
stdout | src/components/tracking/PaymentCard.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚ùØ src/components/tracking/PaymentCard.test.tsx (1 test | 1 failed) 79ms
   √ó Encrypted recipient masking > shows masked placeholder when recipientName looks encrypted 75ms
     ‚Üí usePrivacy must be used within a PrivacyProvider
stdout | src/pages/AnalyticsPage.fixed.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/pages/PaymentsPage.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/components/assets/AssetFormPage.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚ùØ src/pages/AnalyticsPage.fixed.test.tsx (2 tests | 2 failed) 17ms
   √ó AnalyticsPage (fixed) > renders page header while loading 12ms
     ‚Üí Cannot find module '../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.fixed.test.tsx
   √ó AnalyticsPage (fixed) > renders all chart sections 2ms
     ‚Üí Cannot find module '../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.fixed.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx (11 tests | 11 failed) 73ms
   √ó PaymentsPage > Page Rendering > renders page header and description 17ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Page Rendering > renders payment list component 5ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Nisab Year Filter > renders filter dropdown when snapshots exist 1ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Nisab Year Filter > includes "All Payments" option in filter 3ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Summary Statistics > displays summary stats when payments exist 6ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Summary Statistics > does not display summary when no payments 1ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Payment Form Modal > opens form modal when "Add Payment" clicked 2ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Empty State > shows warning when no Nisab Years exist 12ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Terminology Compliance > does not use "snapshot" terminology 8ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Terminology Compliance > uses "Nisab Year" terminology 3ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
   √ó PaymentsPage > Help Section > renders Islamic recipients information 2ms
     ‚Üí Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/components/assets/AssetFormPage.test.tsx (1 test | 1 failed) 22ms
   √ó AssetFormPage > renders asset form with navigation handlers 13ms
     ‚Üí Cannot find module './AssetFormPage'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/assets/AssetFormPage.test.tsx
stdout | src/pages/AnalyticsPage.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/AuditTrailView.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/FinalizationModal.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/HawlProgressIndicator.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/UnlockReasonDialog.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/NisabComparisonWidget.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/tests/accessibility/screen-reader.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/__tests__/accessibility/analytics-dashboard-accessibility.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/tests/accessibility/keyboard-navigation.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/tests/accessibility/screen-reader.test.tsx (16 tests) 2132ms
   ‚úì Screen Reader Accessibility > Semantic HTML Structure > should use semantic landmarks  687ms
   ‚úì Screen Reader Accessibility > Table Accessibility > should have proper table structure  317ms
stdout | src/__tests__/accessibility/reminder-notification-accessibility.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/tests/accessibility/color-contrast.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/AssetSelectionTable.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/tests/accessibility/keyboard-navigation.test.tsx (13 tests) 1155ms
stdout | src/__tests__/components/layout/MobileNav.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/__tests__/accessibility/analytics-dashboard-accessibility.test.tsx (9 tests) 1225ms
   ‚úì AnalyticsDashboard Accessibility > should have no accessibility violations  683ms
stderr | src/__tests__/components/layout/MobileNav.test.tsx > MobileNav component > toggles the menu when hamburger button is clicked
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/__tests__/components/layout/MobileNav.test.tsx (5 tests) 856ms
   ‚úì MobileNav component > toggles the menu when hamburger button is clicked  505ms
 ‚úì src/tests/accessibility/color-contrast.test.tsx (19 tests) 1455ms
   ‚úì Color Contrast Accessibility > Text Contrast > should have sufficient contrast for normal text (4.5:1)  377ms
 ‚úì src/__tests__/accessibility/reminder-notification-accessibility.test.tsx (11 tests) 1189ms
   ‚úì ReminderNotification Accessibility > should render without accessibility issues  562ms
stdout | src/tests/property/zakat-property.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì tests/components/AssetSelectionTable.test.tsx (23 tests) 2346ms
   ‚úì AssetSelectionTable > Selection/Deselection Functionality > should pre-select all zakatable assets by default  386ms
 ‚úì src/tests/property/zakat-property.test.ts (3 tests) 1137ms
   ‚úì Zakat Calculation Properties (Fuzzing) > should never return NaN or Infinity for valid inputs  1009ms
stdout | src/__tests__/accessibility/export-controls-accessibility.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/__tests__/components/analytics-dashboard.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/components/tracking/PaymentRecordForm.refactor.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | tests/components/layout/MobileNav.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/__tests__/components/layout/Navigation.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
An update to NisabYearRecordsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | tests/components/layout/MobileNav.test.tsx > MobileNav component > toggles the menu when hamburger button is clicked
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/pages/NisabYearRecordsPage.integration.test.tsx (2 tests) 646ms
   ‚úì NisabYearRecordsPage Integration > opens payment modal without crashing  512ms
stderr | ApiService.handleResponse (/home/agentx/github-repos/zakapp/client/src/services/api.ts:119:17)
API: 401 Unauthorized. Ignoring redirect for Local-First mode.

 ‚úì tests/components/layout/MobileNav.test.tsx (5 tests) 782ms
   ‚úì MobileNav component > toggles the menu when hamburger button is clicked  385ms
stderr | src/__tests__/components/layout/Navigation.test.tsx > Navigation component > renders all navigation items
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/__tests__/accessibility/export-controls-accessibility.test.tsx > ExportControls Accessibility > should maintain accessibility across different formats
An update to ExportControls inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to ExportControls inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚úì src/__tests__/accessibility/export-controls-accessibility.test.tsx (8 tests) 888ms
 ‚úì src/__tests__/components/layout/Navigation.test.tsx (4 tests) 635ms
   ‚úì Navigation component > renders all navigation items  381ms
stdout | tests/components/layout/Navigation.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/components/tracking/PaymentRecordForm.refactor.test.tsx (4 tests) 1317ms
   ‚úì PaymentRecordForm Refactor > validates required fields  484ms
   ‚úì PaymentRecordForm Refactor > submits valid data for creation  455ms
 ‚úì src/__tests__/components/analytics-dashboard.test.tsx (8 tests) 583ms
stderr | tests/components/layout/Navigation.test.tsx > Navigation component > renders all navigation items
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì tests/components/layout/Navigation.test.tsx (4 tests) 846ms
   ‚úì Navigation component > renders all navigation items  527ms
stdout | src/tests/pwa/installation.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/tests/pwa/offline.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/__tests__/unit/pdfGenerator.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/tests/pwa/installation.test.tsx (22 tests) 443ms
stdout | src/components/tracking/PaymentRecordForm.render.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/components/tracking/PaymentRecordForm.delete.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/tests/pwa/offline.test.tsx (21 tests) 406ms
 ‚úì src/__tests__/unit/pdfGenerator.test.ts (28 tests) 246ms
stdout | src/__tests__/EncryptionIssues.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/__tests__/unit/chartFormatter.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/components/tracking/PaymentRecordForm.render.test.tsx (1 test) 250ms
 ‚úì src/__tests__/EncryptionIssues.test.tsx (2 tests) 224ms
 ‚úì src/components/tracking/PaymentRecordForm.delete.test.tsx (3 tests) 477ms
 ‚úì src/__tests__/unit/chartFormatter.test.ts (50 tests) 74ms
stdout | src/__tests__/unit/calendarConverter.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/tests/performance/core-web-vitals.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/core/calculations/zakat.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/__tests__/unit/calendarConverter.test.ts (35 tests) 72ms
 ‚úì src/core/calculations/zakat.test.ts (3 tests) 15ms
 ‚úì src/tests/performance/core-web-vitals.test.ts (18 tests | 12 skipped) 34ms
stdout | src/utils/__tests__/formatters.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stdout | src/utils/__tests__/chartFormatters.test.ts
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚úì src/utils/__tests__/formatters.test.ts (2 tests) 10ms
 ‚úì src/utils/__tests__/chartFormatters.test.ts (3 tests) 11ms
stdout | src/components/assets/__tests__/AssetForm.passive.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚Üì src/components/assets/__tests__/AssetForm.passive.test.tsx (1 test | 1 skipped)
stdout | src/components/assets/__tests__/AssetList.passive.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

 ‚Üì src/components/assets/__tests__/AssetList.passive.test.tsx (1 test | 1 skipped)

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 6 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/pages/AnalyticsPage.test.tsx [ src/pages/AnalyticsPage.test.tsx ]
Error: Transform failed with 8 errors:
/home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.test.tsx:65:6: ERROR: The symbol "render" has already been declared
/home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.test.tsx:65:6: ERROR: The symbol "screen" has already been declared
/home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.test.tsx:66:6: ERROR: The symbol "QueryClient" has already been declared
/home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.test.tsx:66:6: ERROR: The symbol "QueryClientProvider" has already been declared
/home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.test.tsx:67:6: ERROR: The symbol "BrowserRouter" has already been declared
...
  Plugin: vite:esbuild
  File: /home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.test.tsx:65:6
  
  The symbol "render" has already been declared
  63 |   */
  64 |  
  65 |  const { render, screen } = require('@testing-library/react');
     |        ^
  66 |  const { QueryClient, QueryClientProvider } = require('@tanstack/react-query');
  67 |  const { BrowserRouter } = require('react-router-dom');
  
  The symbol "screen" has already been declared
  63 |   */
  64 |  
  65 |  const { render, screen } = require('@testing-library/react');
     |        ^
  66 |  const { QueryClient, QueryClientProvider } = require('@tanstack/react-query');
  67 |  const { BrowserRouter } = require('react-router-dom');
  
  The symbol "QueryClient" has already been declared
  64 |  
  65 |  const { render, screen } = require('@testing-library/react');
  66 |  const { QueryClient, QueryClientProvider } = require('@tanstack/react-query');
     |        ^
  67 |  const { BrowserRouter } = require('react-router-dom');
  68 |  require('@testing-library/jest-dom');
  
  The symbol "QueryClientProvider" has already been declared
  64 |  
  65 |  const { render, screen } = require('@testing-library/react');
  66 |  const { QueryClient, QueryClientProvider } = require('@tanstack/react-query');
     |        ^
  67 |  const { BrowserRouter } = require('react-router-dom');
  68 |  require('@testing-library/jest-dom');
  
  The symbol "BrowserRouter" has already been declared
  65 |  const { render, screen } = require('@testing-library/react');
  66 |  const { QueryClient, QueryClientProvider } = require('@tanstack/react-query');
  67 |  const { BrowserRouter } = require('react-router-dom');
     |        ^
  68 |  require('@testing-library/jest-dom');
  69 |  
  
  The symbol "createWrapper" has already been declared
  73 |  // NOTE: the SUT mock will be applied per-test using `jest.doMock` inside `jest.isolateModules`
  74 |  
  75 |  const createWrapper = () => {
     |        ^
  76 |    const queryClient = new QueryClient({ defaultOptions: { queries: { retry: false } } });
  77 |    return function Wrapper(props) { const _React = require('react'); return _React.createElement(QueryClientProvider, { client: queryClient }, _React.createElement(BrowserRouter, null, props.children)); };
  
  The symbol "setSnapshotsMock" has already been declared
  78 |  };
  79 |  
  80 |  const setSnapshotsMock = (value) => {
     |        ^
  81 |    const m = jest.fn().mockReturnValue(value);
  82 |    try { require('../hooks/useZakatSnapshots').useSnapshots = m; } catch (e) {}
  
  Unexpected "*"
  224|    });
  225|  });
  226|  */
     |  ^
  227|  
  228|  
  
 ‚ùØ failureErrorWithLog node_modules/esbuild/lib/main.js:1472:15
 ‚ùØ node_modules/esbuild/lib/main.js:755:50
 ‚ùØ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:622:9
 ‚ùØ handleIncomingPacket node_modules/esbuild/lib/main.js:677:12
 ‚ùØ Socket.readFromStdout node_modules/esbuild/lib/main.js:600:7

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/51]‚éØ

 FAIL  tests/components/AuditTrailView.test.tsx [ tests/components/AuditTrailView.test.tsx ]
Error: Failed to resolve import "../../../src/components/AuditTrailView" from "tests/components/AuditTrailView.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /home/agentx/github-repos/zakapp/client/tests/components/AuditTrailView.test.tsx:11:31
  2  |  import { render, screen } from "@testing-library/react";
  3  |  import userEvent from "@testing-library/user-event";
  4  |  import { AuditTrailView } from "../../../src/components/AuditTrailView";
     |                                  ^
  5  |  describe("AuditTrailView Component", () => {
  6  |    const mockAuditTrail = [
 ‚ùØ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 ‚ùØ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 ‚ùØ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 ‚ùØ node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 ‚ùØ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 ‚ùØ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 ‚ùØ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/51]‚éØ

 FAIL  tests/components/FinalizationModal.test.tsx [ tests/components/FinalizationModal.test.tsx ]
Error: Failed to resolve import "../../../src/components/FinalizationModal" from "tests/components/FinalizationModal.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /home/agentx/github-repos/zakapp/client/tests/components/FinalizationModal.test.tsx:11:34
  2  |  import { render, screen, fireEvent } from "@testing-library/react";
  3  |  import userEvent from "@testing-library/user-event";
  4  |  import { FinalizationModal } from "../../../src/components/FinalizationModal";
     |                                     ^
  5  |  describe("FinalizationModal Component", () => {
  6  |    const mockRecord = {
 ‚ùØ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 ‚ùØ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 ‚ùØ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 ‚ùØ node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 ‚ùØ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 ‚ùØ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 ‚ùØ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/51]‚éØ

 FAIL  tests/components/HawlProgressIndicator.test.tsx [ tests/components/HawlProgressIndicator.test.tsx ]
Error: Failed to resolve import "../../../src/components/HawlProgressIndicator" from "tests/components/HawlProgressIndicator.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /home/agentx/github-repos/zakapp/client/tests/components/HawlProgressIndicator.test.tsx:10:38
  1  |  import { jsxDEV } from "react/jsx-dev-runtime";
  2  |  import { render, screen } from "@testing-library/react";
  3  |  import { HawlProgressIndicator } from "../../../src/components/HawlProgressIndicator";
     |                                         ^
  4  |  describe("HawlProgressIndicator Component", () => {
  5  |    const mockActiveHawl = {
 ‚ùØ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 ‚ùØ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 ‚ùØ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 ‚ùØ node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 ‚ùØ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 ‚ùØ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 ‚ùØ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/51]‚éØ

 FAIL  tests/components/NisabComparisonWidget.test.tsx [ tests/components/NisabComparisonWidget.test.tsx ]
Error: Failed to resolve import "../../../src/components/NisabComparisonWidget" from "tests/components/NisabComparisonWidget.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /home/agentx/github-repos/zakapp/client/tests/components/NisabComparisonWidget.test.tsx:10:38
  1  |  import { jsxDEV } from "react/jsx-dev-runtime";
  2  |  import { render, screen } from "@testing-library/react";
  3  |  import { NisabComparisonWidget } from "../../../src/components/NisabComparisonWidget";
     |                                         ^
  4  |  describe("NisabComparisonWidget Component", () => {
  5  |    const mockComparisonData = {
 ‚ùØ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 ‚ùØ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 ‚ùØ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 ‚ùØ node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 ‚ùØ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 ‚ùØ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 ‚ùØ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/51]‚éØ

 FAIL  tests/components/UnlockReasonDialog.test.tsx [ tests/components/UnlockReasonDialog.test.tsx ]
Error: Failed to resolve import "../../../src/components/UnlockReasonDialog" from "tests/components/UnlockReasonDialog.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /home/agentx/github-repos/zakapp/client/tests/components/UnlockReasonDialog.test.tsx:11:35
  2  |  import { render, screen } from "@testing-library/react";
  3  |  import userEvent from "@testing-library/user-event";
  4  |  import { UnlockReasonDialog } from "../../../src/components/UnlockReasonDialog";
     |                                      ^
  5  |  describe("UnlockReasonDialog Component", () => {
  6  |    const mockOnSubmit = jest.fn();
 ‚ùØ TransformPluginContext._formatError node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49258:41
 ‚ùØ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49253:16
 ‚ùØ normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64307:23
 ‚ùØ node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64439:39
 ‚ùØ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:64366:7
 ‚ùØ PluginContainer.transform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:49099:18
 ‚ùØ loadAndTransform node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:51978:27

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/51]‚éØ


‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 45 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/App.test.tsx > renders ZakApp branding
TestingLibraryElementError: Unable to find an element with the text: Z. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"App"[39m
    [36m>[39m
      [36m<a[39m
        [33maria-label[39m=[32m"Skip to main content"[39m
        [33mclass[39m=[32m"skip-link"[39m
        [33mhref[39m=[32m"#main-content"[39m
      [36m>[39m
        [0mSkip to main content[0m
      [36m</a>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card rounded-xl border bg-card text-card-foreground w-full max-w-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col p-6 space-y-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-center mb-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-green-100 p-3 rounded-full"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-shield-check h-8 w-8 text-green-600"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 12 2 2 4-4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"tracking-tight text-2xl font-bold text-center text-gray-900"[39m
            [36m>[39m
              [0mWelcome Back[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-center text-gray-500"[39m
            [36m>[39m
              [0mSecurely access your ZakApp local vault[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"username"[39m
                [36m>[39m
                  [0mUsername[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"username"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"username"[39m
                    [33mplaceholder[39m=[32m"Enter your username"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"password"[39m
                [36m>[39m
                  [0mPassword[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"current-password"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"password"[39m
                    [33mplaceholder[39m=[32m"Enter your password"[39m
                    [33mtype[39m=[32m"password"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-md hover:shadow-lg transition-all active:scale-[0.98] h-11 px-6 py-2 w-full bg-green-600 hover:bg-green-700 text-white"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mLogin[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"items-center p-6 pt-0 flex flex-col space-y-4 text-center text-sm text-gray-500"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1 justify-center"[39m
            [36m>[39m
              [36m<span>[39m
                [0mDon't have a vault?[0m
              [36m</span>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-green-600 hover:text-green-700 hover:underline font-medium"[39m
                [33mhref[39m=[32m"/register"[39m
              [36m>[39m
                [0mCreate Local Profile[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs"[39m
            [36m>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-gray-500 hover:text-gray-700 hover:underline"[39m
                [33mhref[39m=[32m"/forgot-password"[39m
              [36m>[39m
                [0mForgot your password?[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs text-gray-400 mt-4 flex items-center justify-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-shield-check w-3 h-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m9 12 2 2 4-4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mEnd-to-End Encrypted on your device[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mdata-rht-toaster[39m=[32m""[39m
      [33mstyle[39m=[32m"position: fixed; z-index: 9999; top: 16px; left: 16px; right: 16px; bottom: 16px; pointer-events: none;"[39m
    [36m/>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/App.test.tsx:13:31
     11| test('renders ZakApp branding', () => {
     12|   render(<App />);
     13|   const brandElement = screen.getByText('Z');
       |                               ^
     14|   expect(brandElement).toBeInTheDocument();
     15| });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/51]‚éØ

 FAIL  src/App.test.tsx > renders sign in form
TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/sign in/i`

Here are the accessible roles:

  link:

  Name "Skip to main content":
  [36m<a[39m
    [33maria-label[39m=[32m"Skip to main content"[39m
    [33mclass[39m=[32m"skip-link"[39m
    [33mhref[39m=[32m"#main-content"[39m
  [36m/>[39m

  Name "Create Local Profile":
  [36m<a[39m
    [33mclass[39m=[32m"text-green-600 hover:text-green-700 hover:underline font-medium"[39m
    [33mhref[39m=[32m"/register"[39m
  [36m/>[39m

  Name "Forgot your password?":
  [36m<a[39m
    [33mclass[39m=[32m"text-gray-500 hover:text-gray-700 hover:underline"[39m
    [33mhref[39m=[32m"/forgot-password"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Welcome Back":
  [36m<h3[39m
    [33mclass[39m=[32m"tracking-tight text-2xl font-bold text-center text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-center text-gray-500"[39m
  [36m/>[39m

  --------------------------------------------------
  textbox:

  Name "Username":
  [36m<input[39m
    [33maria-required[39m=[32m"true"[39m
    [33mautocomplete[39m=[32m"username"[39m
    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
    [33mid[39m=[32m"username"[39m
    [33mplaceholder[39m=[32m"Enter your username"[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "Login":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-md hover:shadow-lg transition-all active:scale-[0.98] h-11 px-6 py-2 w-full bg-green-600 hover:bg-green-700 text-white"[39m
    [33mdisabled[39m=[32m""[39m
    [33mtype[39m=[32m"submit"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"App"[39m
    [36m>[39m
      [36m<a[39m
        [33maria-label[39m=[32m"Skip to main content"[39m
        [33mclass[39m=[32m"skip-link"[39m
        [33mhref[39m=[32m"#main-content"[39m
      [36m>[39m
        [0mSkip to main content[0m
      [36m</a>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"glass-card rounded-xl border bg-card text-card-foreground w-full max-w-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col p-6 space-y-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-center mb-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-green-100 p-3 rounded-full"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-shield-check h-8 w-8 text-green-600"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 12 2 2 4-4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"tracking-tight text-2xl font-bold text-center text-gray-900"[39m
            [36m>[39m
              [0mWelcome Back[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-center text-gray-500"[39m
            [36m>[39m
              [0mSecurely access your ZakApp local vault[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"username"[39m
                [36m>[39m
                  [0mUsername[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"username"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"username"[39m
                    [33mplaceholder[39m=[32m"Enter your username"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                  [33mfor[39m=[32m"password"[39m
                [36m>[39m
                  [0mPassword[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full space-y-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-center"[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33maria-required[39m=[32m"true"[39m
                    [33mautocomplete[39m=[32m"current-password"[39m
                    [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
                    [33mid[39m=[32m"password"[39m
                    [33mplaceholder[39m=[32m"Enter your password"[39m
                    [33mtype[39m=[32m"password"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-md hover:shadow-lg transition-all active:scale-[0.98] h-11 px-6 py-2 w-full bg-green-600 hover:bg-green-700 text-white"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mLogin[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"items-center p-6 pt-0 flex flex-col space-y-4 text-center text-sm text-gray-500"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1 justify-center"[39m
            [36m>[39m
              [36m<span>[39m
                [0mDon't have a vault?[0m
              [36m</span>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-green-600 hover:text-green-700 hover:underline font-medium"[39m
                [33mhref[39m=[32m"/register"[39m
              [36m>[39m
                [0mCreate Local Profile[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs"[39m
            [36m>[39m
              [36m<a[39m
                [33mclass[39m=[32m"text-gray-500 hover:text-gray-700 hover:underline"[39m
                [33mhref[39m=[32m"/forgot-password"[39m
              [36m>[39m
                [0mForgot your password?[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-xs text-gray-400 mt-4 flex items-center justify-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-shield-check w-3 h-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m9 12 2 2 4-4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mEnd-to-End Encrypted on your device[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mdata-rht-toaster[39m=[32m""[39m
      [33mstyle[39m=[32m"position: fixed; z-index: 9999; top: 16px; left: 16px; right: 16px; bottom: 16px; pointer-events: none;"[39m
    [36m/>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/App.test.tsx:19:31
     17| test('renders sign in form', () => {
     18|   render(<App />);
     19|   const signInButton = screen.getByRole('button', { name: /sign in/i }‚Ä¶
       |                               ^
     20|   expect(signInButton).toBeInTheDocument();
     21| });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/51]‚éØ

 FAIL  src/pages/AnalyticsPage.fixed.test.tsx > AnalyticsPage (fixed) > renders page header while loading
Error: Cannot find module '../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.fixed.test.tsx
 ‚ùØ src/pages/AnalyticsPage.fixed.test.tsx:49:30
     47| 
     48|   it('renders page header while loading', () => {
     49|     const { useAnalytics } = require('../hooks/useAnalytics');
       |                              ^
     50|     const { useAssets } = require('../services/apiHooks');
     51| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[9/51]‚éØ

 FAIL  src/pages/AnalyticsPage.fixed.test.tsx > AnalyticsPage (fixed) > renders all chart sections
Error: Cannot find module '../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/AnalyticsPage.fixed.test.tsx
 ‚ùØ src/pages/AnalyticsPage.fixed.test.tsx:71:30
     69| 
     70|   it('renders all chart sections', () => {
     71|     const { useAnalytics } = require('../hooks/useAnalytics');
       |                              ^
     72|     const { useAssets } = require('../services/apiHooks');
     73| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[10/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Page Rendering > renders page header and description
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:78:31
     76|   describe('Page Rendering', () => {
     77|     it('renders page header and description', () => {
     78|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
     79|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
     80| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[11/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Page Rendering > renders payment list component
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:92:31
     90| 
     91|     it('renders payment list component', () => {
     92|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
     93|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
     94| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[12/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Nisab Year Filter > renders filter dropdown when snapshots exist
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:106:31
    104|   describe('Nisab Year Filter', () => {
    105|     it('renders filter dropdown when snapshots exist', () => {
    106|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    107|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    108| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[13/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Nisab Year Filter > includes "All Payments" option in filter
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:128:31
    126| 
    127|     it('includes "All Payments" option in filter', () => {
    128|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    129|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    130| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[14/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Summary Statistics > displays summary stats when payments exist
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:155:31
    153|   describe('Summary Statistics', () => {
    154|     it('displays summary stats when payments exist', () => {
    155|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    156|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    157| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[15/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Summary Statistics > does not display summary when no payments
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:176:31
    174| 
    175|     it('does not display summary when no payments', () => {
    176|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    177|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    178| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[16/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Payment Form Modal > opens form modal when "Add Payment" clicked
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:191:31
    189|   describe('Payment Form Modal', () => {
    190|     it('opens form modal when "Add Payment" clicked', async () => {
    191|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    192|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    193| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[17/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Empty State > shows warning when no Nisab Years exist
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:212:31
    210|   describe('Empty State', () => {
    211|     it('shows warning when no Nisab Years exist', () => {
    212|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    213|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    214| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[18/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Terminology Compliance > does not use "snapshot" terminology
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:233:31
    231|   describe('Terminology Compliance', () => {
    232|     it('does not use "snapshot" terminology', () => {
    233|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    234|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    235| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[19/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Terminology Compliance > uses "Nisab Year" terminology
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:254:31
    252| 
    253|     it('uses "Nisab Year" terminology', () => {
    254|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    255|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    256| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[20/51]‚éØ

 FAIL  src/pages/PaymentsPage.test.tsx > PaymentsPage > Help Section > renders Islamic recipients information
Error: Cannot find module '../hooks/usePayments'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/pages/PaymentsPage.test.tsx
 ‚ùØ src/pages/PaymentsPage.test.tsx:276:31
    274|   describe('Help Section', () => {
    275|     it('renders Islamic recipients information', () => {
    276|       const { usePayments } = require('../hooks/usePayments');
       |                               ^
    277|       const { useNisabYearRecords } = require('../hooks/useNisabYearRe‚Ä¶
    278| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[21/51]‚éØ

 FAIL  tests/components/ZakatDisplayCard.test.tsx > ZakatDisplayCard > shows total wealth and zakatable wealth and calculated zakat
Error: usePrivacy must be used within a PrivacyProvider
 ‚ùØ usePrivacy src/contexts/PrivacyContext.tsx:65:11
     63|   const context = useContext(PrivacyContext);
     64|   if (!context) {
     65|     throw new Error('usePrivacy must be used within a PrivacyProvider'‚Ä¶
       |           ^
     66|   }
     67|   return context;
 ‚ùØ Module.useMaskedCurrency src/contexts/PrivacyContext.tsx:74:27
 ‚ùØ ZakatDisplayCard src/components/tracking/ZakatDisplayCard.tsx:49:26
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ‚ùØ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ‚ùØ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:19
 ‚ùØ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:18
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ‚ùØ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:22
 ‚ùØ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:41

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[22/51]‚éØ

 FAIL  src/components/assets/AssetFormPage.test.tsx > AssetFormPage > renders asset form with navigation handlers
Error: Cannot find module './AssetFormPage'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/assets/AssetFormPage.test.tsx
 ‚ùØ loadAssetFormPage src/components/assets/AssetFormPage.test.tsx:6:33
      4| import { QueryClient, QueryClientProvider } from '@tanstack/react-quer‚Ä¶
      5| // Avoid importing SUT at module scope so jest.mock('../ui') can be ap‚Ä¶
      6| const loadAssetFormPage = () => require('./AssetFormPage').AssetFormPa‚Ä¶
       |                                 ^
      7| 
      8| // Mock the API hooks
 ‚ùØ src/components/assets/AssetFormPage.test.tsx:38:27

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[23/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Wealth Trend (T043) > Loading State > shows loading spinner when data is loading
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:112:32
    110|   describe('Loading State', () => {
    111|     it('shows loading spinner when data is loading', () => {
    112|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    113|       useAnalytics.mockReturnValue({ data: undefined, isLoading: true,‚Ä¶
    114| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[24/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Wealth Trend (T043) > With Valid Data > shows empty state when no data is returned from API
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:126:32
    124|   describe('With Valid Data', () => {
    125|     it('shows empty state when no data is returned from API', () => {
    126|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    127|       useAnalytics.mockReturnValue({
    128|         data: {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[25/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Wealth Trend (T043) > Empty State > renders empty state message when no data
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:146:32
    144|   describe('Empty State', () => {
    145|     it('renders empty state message when no data', () => {
    146|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    147|       useAnalytics.mockReturnValue({
    148|         data: { data: [] },

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[26/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Wealth Trend (T043) > Accessibility > has proper accessibility attributes
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:165:32
    163|   describe('Accessibility', () => {
    164|     it('has proper accessibility attributes', () => {
    165|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    166|       useAnalytics.mockReturnValue({
    167|         data: {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[27/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Zakat Obligations (T044) > With Nisab Year Data > shows empty state when no Nisab Year Records exist
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:197:32
    195|   describe('With Nisab Year Data', () => {
    196|     it('shows empty state when no Nisab Year Records exist', () => {
    197|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    198|       useAnalytics.mockReturnValue({
    199|         data: { data: [] },

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[28/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Zakat Obligations (T044) > Empty State > shows Nisab Year specific empty state
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:213:32
    211|   });  describe('Empty State', () => {
    212|     it('shows Nisab Year specific empty state', () => {
    213|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    214|       useAnalytics.mockReturnValue({
    215|         data: { data: [] },

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[29/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Zakat Obligations (T044) > Terminology > does not use "snapshot" in empty state messages
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:232:32
    230|   describe('Terminology', () => {
    231|     it('does not use "snapshot" in empty state messages', () => {
    232|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    233|       useAnalytics.mockReturnValue({
    234|         data: { data: [] },

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[30/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Payment Distribution > Pie Chart Rendering > shows empty state when no payment data exists
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:253:32
    251|   describe('Pie Chart Rendering', () => {
    252|     it('shows empty state when no payment data exists', () => {
    253|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    254|       useAnalytics.mockReturnValue({
    255|         data: { data: [] },

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[31/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Payment Distribution > Pie Chart Rendering > renders multiple slices when multiple payment categories exist
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:269:32
    267| 
    268|     it('renders multiple slices when multiple payment categories exist‚Ä¶
    269|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    270|       useAnalytics.mockReturnValue({
    271|         data: {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[32/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Payment Distribution > Empty State > shows payment-specific empty state
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:294:32
    292|   describe('Empty State', () => {
    293|     it('shows payment-specific empty state', () => {
    294|       const { useAnalytics } = require('../../hooks/useAnalytics');
       |                                ^
    295|       useAnalytics.mockReturnValue({
    296|         data: { data: [] },

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[33/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Asset Composition (Pie) > renders multiple slices when multiple asset categories exist
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:314:30
    312| describe('AnalyticsChart - Asset Composition (Pie)', () => {
    313|   it('renders multiple slices when multiple asset categories exist', (‚Ä¶
    314|     const { useAnalytics } = require('../../hooks/useAnalytics');
       |                              ^
    315|     useAnalytics.mockReturnValue({
    316|       data: {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[34/51]‚éØ

 FAIL  src/components/tracking/AnalyticsChart.test.tsx > AnalyticsChart - Error Handling > displays error message when fetch fails
Error: Cannot find module '../../hooks/useAnalytics'
Require stack:
- /home/agentx/github-repos/zakapp/client/src/components/tracking/AnalyticsChart.test.tsx
 ‚ùØ src/components/tracking/AnalyticsChart.test.tsx:344:30
    342| describe('AnalyticsChart - Error Handling', () => {
    343|   it('displays error message when fetch fails', () => {
    344|     const { useAnalytics } = require('../../hooks/useAnalytics');
       |                              ^
    345|     useAnalytics.mockReturnValue({
    346|       data: undefined,

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[35/51]‚éØ

 FAIL  src/components/tracking/PaymentCard.test.tsx > Encrypted recipient masking > shows masked placeholder when recipientName looks encrypted
Error: usePrivacy must be used within a PrivacyProvider
 ‚ùØ usePrivacy src/contexts/PrivacyContext.tsx:65:11
     63|   const context = useContext(PrivacyContext);
     64|   if (!context) {
     65|     throw new Error('usePrivacy must be used within a PrivacyProvider'‚Ä¶
       |           ^
     66|   }
     67|   return context;
 ‚ùØ Module.useMaskedCurrency src/contexts/PrivacyContext.tsx:74:27
 ‚ùØ src/components/tracking/PaymentCard.tsx:57:26
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ‚ùØ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ‚ùØ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:19
 ‚ùØ updateSimpleMemoComponent node_modules/react-dom/cjs/react-dom-client.development.js:8752:14
 ‚ùØ updateMemoComponent node_modules/react-dom/cjs/react-dom-client.development.js:8685:13
 ‚ùØ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10950:18
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[36/51]‚éØ

 FAIL  src/tests/performance/bundle-size.test.ts > Bundle Size Performance > Main Bundle Size > should stay within main bundle budget
AssertionError: expected 1111276 to be less than or equal to 409600
 ‚ùØ src/tests/performance/bundle-size.test.ts:63:25
     61|       const totalSize = getTotalSize(mainFiles);
     62|       
     63|       expect(totalSize).toBeLessThanOrEqual(BUNDLE_BUDGETS.mainBundle);
       |                         ^
     64|       
     65|       // Log bundle size for monitoring

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[37/51]‚éØ

 FAIL  src/tests/performance/bundle-size.test.ts > Bundle Size Performance > CSS Bundle Size > should stay within CSS bundle budget
AssertionError: expected 97547 to be less than or equal to 81920
 ‚ùØ src/tests/performance/bundle-size.test.ts:124:25
    122|       const totalSize = getTotalSize(cssFiles);
    123|       
    124|       expect(totalSize).toBeLessThanOrEqual(BUNDLE_BUDGETS.cssBundle);
       |                         ^
    125|       
    126|       console.log(`CSS bundle size: ${(totalSize / 1024).toFixed(2)} K‚Ä¶

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[38/51]‚éØ

 FAIL  src/tests/performance/bundle-size.test.ts > Bundle Size Performance > Total Bundle Size > should stay within total initial load budget
AssertionError: expected 1208823 to be less than or equal to 430080
 ‚ùØ src/tests/performance/bundle-size.test.ts:159:25
    157|       const totalSize = getTotalSize([...mainFiles, ...vendorFiles, ..‚Ä¶
    158|       
    159|       expect(totalSize).toBeLessThanOrEqual(BUNDLE_BUDGETS.totalBundle‚Ä¶
       |                         ^
    160|       
    161|       console.log(`Total initial load: ${(totalSize / 1024).toFixed(2)‚Ä¶

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39/51]‚éØ

 FAIL  src/tests/performance/bundle-size.test.ts > Bundle Size Performance > Performance Budget Monitoring > should fail if any budget is exceeded
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ‚ùØ src/tests/performance/bundle-size.test.ts:323:35
    321| 
    322|       // All budgets must pass
    323|       expect(results.main.passed).toBe(true);
       |                                   ^
    324|       expect(results.css.passed).toBe(true);
    325|       expect(results.total.passed).toBe(true);

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[40/51]‚éØ

 FAIL  src/tests/pwa/service-worker.test.ts > Service Worker Tests > Caching Strategies > should use cache-first strategy for static assets
TypeError: Failed to parse URL from /static/js/main.js
 ‚ùØ src/tests/pwa/service-worker.test.ts:180:23
    178|       });
    179| 
    180|       const request = new Request('/static/js/main.js');
       |                       ^
    181|       const cachedResponse = await caches.match(request);
    182| 

Caused by: TypeError: Invalid URL: /static/js/main.js
 ‚ùØ new URLImpl node_modules/whatwg-url/lib/URL-impl.js:20:13
 ‚ùØ Object.exports.setup node_modules/whatwg-url/lib/URL.js:54:12
 ‚ùØ new URL node_modules/whatwg-url/lib/URL.js:115:22
 ‚ùØ src/tests/pwa/service-worker.test.ts:180:23

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[41/51]‚éØ

 FAIL  src/tests/pwa/service-worker.test.ts > Service Worker Tests > Caching Strategies > should use network-first strategy for API calls
TypeError: Failed to parse URL from /api/v1/assets
 ‚ùØ src/tests/pwa/service-worker.test.ts:194:23
    192|       );
    193| 
    194|       const request = new Request('/api/v1/assets');
       |                       ^
    195|       const response = await fetch(request);
    196|       const data = await response.json();

Caused by: TypeError: Invalid URL: /api/v1/assets
 ‚ùØ new URLImpl node_modules/whatwg-url/lib/URL-impl.js:20:13
 ‚ùØ Object.exports.setup node_modules/whatwg-url/lib/URL.js:54:12
 ‚ùØ new URL node_modules/whatwg-url/lib/URL.js:115:22
 ‚ùØ src/tests/pwa/service-worker.test.ts:194:23

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[42/51]‚éØ

 FAIL  src/tests/pwa/service-worker.test.ts > Service Worker Tests > Caching Strategies > should fall back to cache on network failure
TypeError: Failed to parse URL from /api/v1/assets
 ‚ùØ src/tests/pwa/service-worker.test.ts:222:23
    220|       });
    221| 
    222|       const request = new Request('/api/v1/assets');
       |                       ^
    223|       
    224|       try {

Caused by: TypeError: Invalid URL: /api/v1/assets
 ‚ùØ new URLImpl node_modules/whatwg-url/lib/URL-impl.js:20:13
 ‚ùØ Object.exports.setup node_modules/whatwg-url/lib/URL.js:54:12
 ‚ùØ new URL node_modules/whatwg-url/lib/URL.js:115:22
 ‚ùØ src/tests/pwa/service-worker.test.ts:222:23

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[43/51]‚éØ

 FAIL  tests/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > DashboardHeader > encourages users without assets to add their first asset
TestingLibraryElementError: Unable to find an element with the text: /welcome back, aisha/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"mb-6"[39m
    [36m>[39m
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl md:text-3xl font-bold text-gray-900 mb-2"[39m
      [36m>[39m
        [0mWelcome to ZakApp[0m
      [36m</h1>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-base md:text-lg text-gray-600"[39m
      [36m>[39m
        [0mYour Islamic Zakat Calculator[0m
      [36m</p>[39m
      [36m<p[39m
        [33mclass[39m=[32m"mt-3 text-sm text-gray-500 max-w-2xl"[39m
      [36m>[39m
        [0mTrack your wealth, monitor your Hawl period, and calculate your Zakat obligations with confidence. Start by adding your first asset below.[0m
      [36m</p>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ tests/components/dashboard/DashboardWidgets.test.tsx:21:21
     19|       render(<DashboardHeader userName="Aisha" hasAssets={false} hasAc‚Ä¶
     20| 
     21|       expect(screen.getByText(/welcome back, aisha/i)).toBeInTheDocume‚Ä¶
       |                     ^
     22|       expect(screen.getByText(/add your assets/i)).toBeInTheDocument();
     23|     });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[44/51]‚éØ

 FAIL  tests/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > ActiveRecordWidget > displays Hawl progress and wealth comparison
 FAIL  src/__tests__/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > ActiveRecordWidget > displays Hawl progress and wealth comparison
Error: usePrivacy must be used within a PrivacyProvider
 ‚ùØ usePrivacy src/contexts/PrivacyContext.tsx:65:11
     63|   const context = useContext(PrivacyContext);
     64|   if (!context) {
     65|     throw new Error('usePrivacy must be used within a PrivacyProvider'‚Ä¶
       |           ^
     66|   }
     67|   return context;
 ‚ùØ Module.useMaskedCurrency src/contexts/PrivacyContext.tsx:74:27
 ‚ùØ ActiveRecordWidget src/components/dashboard/ActiveRecordWidget.tsx:31:26
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ‚ùØ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ‚ùØ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:19
 ‚ùØ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:18
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ‚ùØ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:22
 ‚ùØ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:41

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[45/51]‚éØ

 FAIL  tests/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > WealthSummaryCard > indicates whether wealth is above or below Nisab
 FAIL  src/__tests__/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > WealthSummaryCard > indicates whether wealth is above or below Nisab
Error: usePrivacy must be used within a PrivacyProvider
 ‚ùØ usePrivacy src/contexts/PrivacyContext.tsx:65:11
     63|   const context = useContext(PrivacyContext);
     64|   if (!context) {
     65|     throw new Error('usePrivacy must be used within a PrivacyProvider'‚Ä¶
       |           ^
     66|   }
     67|   return context;
 ‚ùØ Module.useMaskedCurrency src/contexts/PrivacyContext.tsx:74:27
 ‚ùØ WealthSummaryCard src/components/dashboard/WealthSummaryCard.tsx:36:26
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ‚ùØ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ‚ùØ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:8897:19
 ‚ùØ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10522:18
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ‚ùØ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:22
 ‚ùØ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:41

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[46/51]‚éØ

 FAIL  tests/components/dashboard/DashboardWidgets.test.tsx > Dashboard widgets > OnboardingGuide > highlights the current step and shows progress
TypeError: Cannot destructure property 'basename' of 'React__namespace.useContext(...)' as it is null.
 ‚ùØ LinkWithRef node_modules/react-router-dom/index.tsx:975:11
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ‚ùØ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ‚ùØ updateForwardRef node_modules/react-dom/cjs/react-dom-client.development.js:8645:19
 ‚ùØ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:10861:18
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ‚ùØ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:15140:22
 ‚ùØ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:14956:41
 ‚ùØ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:14936:11
 ‚ùØ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:14462:44

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[47/51]‚éØ

 FAIL  src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Passive checkbox is disabled when zakatEligible is unchecked and cleared
TestingLibraryElementError: Unable to find a label with the text of: /Passive Investment/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"max-w-2xl mx-auto p-6"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-bold text-gray-900 mb-6"[39m
      [36m>[39m
        [0mEdit Asset[0m
      [36m</h2>[39m
      [36m<form[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<label[39m
            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [33mfor[39m=[32m"name"[39m
          [36m>[39m
            [0mAsset Name *[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full space-y-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m/>[39m
            [36m<input[39m
              [33maria-describedby[39m=[32m"name-help"[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33maria-required[39m=[32m"true"[39m
              [33mclass[39m=[32m"flex h-11 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all shadow-sm hover:border-primary-200"[39m
              [33mid[39m=[32m"name"[39m
              [33mplaceholder[39m=[32m"e.g., Chase Savings Account"[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m"Test"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [33mid[39m=[32m"name-help"[39m
          [36m>[39m
            [0mEnter a descriptive name for your asset[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<label[39m
            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [33mfor[39m=[32m"category"[39m
          [36m>[39m
            [0mCategory *[0m
          [36m</label>[39m
          [36m<select[39m
            [33maria-describedby[39m=[32m"category-help"[39m
            [33maria-required[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
            [33mid[39m=[32m"category"[39m
          [36m>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"cash"[39m
            [36m>[39m
              [0mCash & Savings[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"gold"[39m
            [36m>[39m
              [0mGold[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"silver"[39m
            [36m>[39m
              [0mSilver[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"business"[39m
            [36m>[39m
              [0mBusiness Assets[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"property"[39m
            [36m>[39m
              [0mProperty[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"stocks"[39m
            [36m>[39m
              [0mStocks & Investments[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"crypto"[39m
            [36m>[39m
              [0mCryptocurrency[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"debts"[39m
            [36m>[39m
              [0mDebts Owed to You[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"expenses"[39m
            [36m>[39m
              [0mExpenses[0m
            [36m</option>[39m
          [36m</select>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [33mid[39m=[32m"category-help"[39m
          [36m>[39m
            [0mSelect the type of asset you're adding[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<label[39m
            [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [33mfor[39m=[32m"subCategory"[39m
          [36m>[39m
            [0mSub-Category[0m
          [36m</label>[39m
          [36m<select[39m
            [33maria-describedby[39m=[32m"subcategory-help"[39m
            [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
            [33mid[39m=[32m"subCategory"[39m
          [36m>[39m
            [36m<option[39m
              [33mvalue[39m=[32m""[39m
            [36m>[39m
              [0mSelect a sub-category[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"savings"[39m
            [36m>[39m
              [0mSavings Account[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"checking"[39m
            [36m>[39m
              [0mChecking Account[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"cash_on_hand"[39m
            [36m>[39m
              [0mCash on Hand[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"certificates_of_deposit"[39m
            [36m>[39m
              [0mCertificates of Deposit[0m
            [36m</option>[39m
            [36m<option[39m
              [33mvalue[39m=[32m"money_market"[39m
            [36m>[39m
              [0mMoney Market Account[0m
            [36m</option>[39m
          [36m</select>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [33mid[39m=[32m"subcategory-help"[39m
          [36m>[39m
            [0mOptional: Specify a more detailed classification[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-full space-y-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium leading-none peer-...
 ‚ùØ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ src/components/assets/__tests__/AssetForm.eligibility.test.tsx:24:36
     22| 
     23|     // Passive checkbox should be checked initially
     24|     const passiveCheckbox = screen.getByLabelText(/Passive Investment/‚Ä¶
       |                                    ^
     25|     expect(passiveCheckbox).toBeInTheDocument();
     26|     expect(passiveCheckbox).toBeEnabled();

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[48/51]‚éØ

 FAIL  src/components/assets/__tests__/AssetForm.eligibility.test.tsx > AssetForm eligibility and passive behavior > Update submission includes zakatEligible and cleared passive when eligibility removed
AssertionError: expected "spy" to be called 1 times, but got 0 times
 ‚ùØ src/components/assets/__tests__/AssetForm.eligibility.test.tsx:48:30
     46|     fireEvent.click(submitButton);
     47| 
     48|     expect(mockUpdateMutate).toHaveBeenCalledTimes(1);
       |                              ^
     49|     const callArg = mockUpdateMutate.mock.calls[0][0];
     50|     // Expect shape { assetId, assetData }

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[49/51]‚éØ

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Unhandled Errors ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

‚éØ‚éØ‚éØ‚éØ Unhandled Rejection ‚éØ‚éØ‚éØ‚éØ‚éØ
RxError (DB9): 

        RxDB Error-Code: DB9.
        Hint: Error messages are not included in RxDB core to reduce build size.
        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,
        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error
        
Find out more about this error here: https://rxdb.info/errors.html?console=errors#DB9 

--------------------
Parameters:
database: "zakapp_test_db_0rgnti"

 ‚ùØ newRxError node_modules/rxdb/src/rx-error.ts:126:12
 ‚ùØ node_modules/rxdb/src/rx-database.ts:677:23
 ‚ùØ Module.createRxDatabase node_modules/rxdb/src/rx-database.ts:733:6
 ‚ùØ _createDb src/db/index.ts:82:26
     80| 
     81|     try {
     82|         const db = await createRxDatabase<ZakAppCollections>({
       |                          ^
     83|             name: dbName,
     84|             storage: storage,
 ‚ùØ getDb src/db/index.ts:126:21
 ‚ùØ src/db/index.ts:153:9
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23953:20
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ‚ùØ commitHookEffectListMount node_modules/react-dom/cjs/react-dom-client.development.js:11905:29
 ‚ùØ commitHookPassiveMountEffects node_modules/react-dom/cjs/react-dom-client.development.js:12028:11

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'DB9', url: 'https://rxdb.info/errors.html?console=errors#DB9', parameters: { database: 'zakapp_test_db_0rgnti' }, rxdb: true, typeError: false }
This error originated in "src/components/assets/__tests__/AssetForm.eligibility.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

‚éØ‚éØ‚éØ‚éØ Unhandled Rejection ‚éØ‚éØ‚éØ‚éØ‚éØ
RxError (DB9): 

        RxDB Error-Code: DB9.
        Hint: Error messages are not included in RxDB core to reduce build size.
        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,
        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error
        
Find out more about this error here: https://rxdb.info/errors.html?console=errors#DB9 

--------------------
Parameters:
database: "zakapp_test_db_wph9qb"

 ‚ùØ newRxError node_modules/rxdb/src/rx-error.ts:126:12
 ‚ùØ node_modules/rxdb/src/rx-database.ts:677:23
 ‚ùØ Module.createRxDatabase node_modules/rxdb/src/rx-database.ts:733:6
 ‚ùØ _createDb src/db/index.ts:82:26
     80| 
     81|     try {
     82|         const db = await createRxDatabase<ZakAppCollections>({
       |                          ^
     83|             name: dbName,
     84|             storage: storage,
 ‚ùØ getDb src/db/index.ts:126:21
 ‚ùØ src/db/index.ts:153:9
 ‚ùØ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:23953:20
 ‚ùØ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ‚ùØ commitHookEffectListMount node_modules/react-dom/cjs/react-dom-client.development.js:11905:29
 ‚ùØ commitHookPassiveMountEffects node_modules/react-dom/cjs/react-dom-client.development.js:12028:11

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Serialized Error: { code: 'DB9', url: 'https://rxdb.info/errors.html?console=errors#DB9', parameters: { database: 'zakapp_test_db_wph9qb' }, rxdb: true, typeError: false }
This error originated in "src/components/assets/__tests__/AssetForm.eligibility.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ


 Test Files  18 failed | 27 passed | 2 skipped (47)
      Tests  45 failed | 347 passed | 14 skipped (406)
     Errors  2 errors
   Start at  21:06:53
   Duration  35.48s (transform 4.44s, setup 79.48s, collect 31.26s, tests 22.37s, environment 74.68s, prepare 11.49s)

