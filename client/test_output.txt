
> client@0.1.0 test
> vitest src/pages/NisabYearRecordsPage.integration.test.tsx


 DEV  v3.2.4 /home/agentx/github-repos/zakapp/client

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
stdout | src/pages/NisabYearRecordsPage.integration.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
Is mock: [33mtrue[39m
HOOK CALLED WITH RECORDS: [33m1[39m
Mock return value: {
  records: [
    {
      id: [32m'r1'[39m,
      status: [32m'DRAFT'[39m,
      hawlStartDate: [32m'2024-01-01T00:00:00.000Z'[39m,
      zakatAmount: [33m1000[39m,
      totalWealth: [33m40000[39m,
      zakatableWealth: [33m40000[39m,
      nisabBasis: [32m'GOLD'[39m,
      hawlCompletionDate: [32m'2025-01-01T00:00:00.000Z'[39m,
      hijriYear: [33m1445[39m,
      currency: [32m'USD'[39m
    }
  ],
  isLoading: [33mfalse[39m,
  addRecord: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  updateRecord: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  removeRecord: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  getRecord: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  },
  bulkAddRecords: [Function: spy] {
    getMockName: [36m[Function (anonymous)][39m,
    mockName: [36m[Function (anonymous)][39m,
    mockClear: [36m[Function (anonymous)][39m,
    mockReset: [36m[Function (anonymous)][39m,
    mockRestore: [36m[Function (anonymous)][39m,
    getMockImplementation: [36m[Function (anonymous)][39m,
    mockImplementation: [36m[Function (anonymous)][39m,
    mockImplementationOnce: [36m[Function (anonymous)][39m,
    withImplementation: [36m[Function: withImplementation][39m,
    mockReturnThis: [36m[Function (anonymous)][39m,
    mockReturnValue: [36m[Function (anonymous)][39m,
    mockReturnValueOnce: [36m[Function (anonymous)][39m,
    mockResolvedValue: [36m[Function (anonymous)][39m,
    mockResolvedValueOnce: [36m[Function (anonymous)][39m,
    mockRejectedValue: [36m[Function (anonymous)][39m,
    mockRejectedValueOnce: [36m[Function (anonymous)][39m,
    [[32mSymbol(nodejs.dispose)[39m]: [36m[Function (anonymous)][39m
  }
}
HOOK CALLED WITH RECORDS: [33m1[39m
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px "[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-gray-200 bg-white hover:bg-gray-50 shadow-sm hover:shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-green-700"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakat Obligation[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-bold text-blue-700"[39m
                      [36m>[39m
                        [0m$1,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-3 sm:gap-4 text-xs text-gray-600 flex-wrap"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [0mStarted: [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                      [36m>[39m
                        [0mDec 31, 2023[0m
                      [36m</span>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [0mEnds: [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                      [36m>[39m
                        [0m12/31/2024[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2 flex-wrap"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-2 py-1 bg-green-600 text-white rounded text-xs"[39m
                    [36m>[39m
                      [0mFinalize[0m
                    [36m</button>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-2 py-1 text-red-600 hover:bg-red-50 rounded text-xs"[39m
                    [36m>[39m
                      [0mDelete[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-1 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"hidden lg:block rounded-lg border border-dashed border-gray-300 p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mSelect a record to view details[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx (2 tests | 1 failed) 1220ms
   ‚úì NisabYearRecordsPage Integration > renders without crashing 82ms
   √ó NisabYearRecordsPage Integration > opens payment modal without crashing 1135ms
     ‚Üí Found multiple elements with the text: Draft

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
[36m>[39m
  [0mDraft[0m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
[36m>[39m
  [0mDraft[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px "[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-gray-200 bg-white hover:bg-gray-50 shadow-sm hover:shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-green-700"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakat Obligation[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-bold text-blue-700"[39m
                      [36m>[39m
                        [0m$1,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-3 sm:gap-4 text-xs text-gray-600 flex-wrap"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [0mStarted: [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                      [36m>[39m
                        [0mDec 31, 2023[0m
                      [36m</span>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [0mEnds: [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                      [36m>[39m
                        [0m12/31/2024[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2 flex-wrap"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-2 py-1 bg-green-600 text-white rounded text-xs"[39m
                    [36m>[39m
                      [0mFinalize[0m
                    [36m</button>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-2 py-1 text-red-600 hover:bg-red-50 rounded text-xs"[39m
                    [36m>[39m
                      [0mDelete[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-1 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"hidden lg:block rounded-lg border border-dashed border-gray-300 p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mSelect a record to view details[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
          [33mid[39m=[32m"main-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mNisab Year Records[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
                [36m>[39m
                  [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
                [36m>[39m
                  [0m‚Üê Back to Dashboard[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                [36m>[39m
                  [0m+ New Record[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px "[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
                [36m>[39m
                  [0mAll[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mDraft[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mFinalized[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mUnlocked for Editing[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-gray-200 bg-white hover:bg-gray-50 shadow-sm hover:shadow-md"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                        [36m>[39m
                          [0m1445 H[0m
                        [36m</h3>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                        [36m>[39m
                          [0mDraft[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mNisab Basis[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0müü° Gold[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mTotal Wealth[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mZakatable[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-green-700"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mZakat Obligation[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-bold text-blue-700"[39m
                        [36m>[39m
                          [0m$1,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex gap-3 sm:gap-4 text-xs text-gray-600 flex-wrap"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mStarted: [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                        [36m>[39m
                          [0mDec 31, 2023[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [0mEnds: [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                        [36m>[39m
                          [0m12/31/2024[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex gap-2 flex-wrap"[39m
                    [36m>[39m
                      [36m<button[39m
                        [33mclass[39m=[32m"px-2 py-1 bg-green-600 text-white rounded text-xs"[39m
                      [36m>[39m
                        [0mFinalize[0m
                      [36m</button>[39m
                      [36m<button[39m
                        [33mclass[39m=[32m"px-2 py-1 text-red-600 hover:bg-red-50 rounded text-xs"[39m
                      [36m>[39m
                        [0mDelete[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-1 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden lg:block rounded-lg border border-dashed border-gray-300 p-8 text-center text-gray-500"[39m
              [36m>[39m
                [0mSelect a record to view details[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
TestingLibraryElementError: Found multiple elements with the text: Draft

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
[36m>[39m
  [0mDraft[0m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
[36m>[39m
  [0mDraft[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px "[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-gray-200 bg-white hover:bg-gray-50 shadow-sm hover:shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-green-700"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakat Obligation[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-bold text-blue-700"[39m
                      [36m>[39m
                        [0m$1,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-3 sm:gap-4 text-xs text-gray-600 flex-wrap"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [0mStarted: [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                      [36m>[39m
                        [0mDec 31, 2023[0m
                      [36m</span>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [0mEnds: [0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                      [36m>[39m
                        [0m12/31/2024[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2 flex-wrap"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-2 py-1 bg-green-600 text-white rounded text-xs"[39m
                    [36m>[39m
                      [0mFinalize[0m
                    [36m</button>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-2 py-1 text-red-600 hover:bg-red-50 rounded text-xs"[39m
                    [36m>[39m
                      [0mDelete[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-1 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"hidden lg:block rounded-lg border border-dashed border-gray-300 p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mSelect a record to view details[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
          [33mid[39m=[32m"main-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mNisab Year Records[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
                [36m>[39m
                  [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
                [36m>[39m
                  [0m‚Üê Back to Dashboard[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                [36m>[39m
                  [0m+ New Record[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px "[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
                [36m>[39m
                  [0mAll[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mDraft[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mFinalized[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mUnlocked for Editing[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-gray-200 bg-white hover:bg-gray-50 shadow-sm hover:shadow-md"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                        [36m>[39m
                          [0m1445 H[0m
                        [36m</h3>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                        [36m>[39m
                          [0mDraft[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mNisab Basis[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0müü° Gold[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mTotal Wealth[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mZakatable[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-green-700"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mZakat Obligation[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-bold text-blue-700"[39m
                        [36m>[39m
                          [0m$1,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex gap-3 sm:gap-4 text-xs text-gray-600 flex-wrap"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mStarted: [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                        [36m>[39m
                          [0mDec 31, 2023[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [0mEnds: [0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-gray-900 font-medium"[39m
                        [36m>[39m
                          [0m12/31/2024[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex gap-2 flex-wrap"[39m
                    [36m>[39m
                      [36m<button[39m
                        [33mclass[39m=[32m"px-2 py-1 bg-green-600 text-white rounded text-xs"[39m
                      [36m>[39m
                        [0mFinalize[0m
                      [36m</button>[39m
                      [36m<button[39m
                        [33mclass[39m=[32m"px-2 py-1 text-red-600 hover:bg-red-50 rounded text-xs"[39m
                      [36m>[39m
                        [0mDelete[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-1 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden lg:block rounded-lg border border-dashed border-gray-300 p-8 text-center text-gray-500"[39m
              [36m>[39m
                [0mSelect a record to view details[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ‚ùØ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:137:15
    135| 
    136|         // Wait for record to appear
    137|         await waitFor(() => {
       |               ^
    138|             expect(screen.getByText('Draft')).toBeInTheDocument();
    139|         });

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  20:26:44
   Duration  7.65s (transform 768ms, setup 1.52s, collect 1.50s, tests 1.22s, environment 1.01s, prepare 584ms)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/pages/NisabYearRecordsPage.integration.test.tsx x1 
        Filename pattern: src/pages/NisabYearRecordsPage.integration.test.tsx

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
Is mock: [33mtrue[39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
An update to NisabYearRecordsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
API: 401 Unauthorized. Ignoring redirect for Local-First mode.

 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx (2 tests | 1 failed) 3984ms
   ‚úì NisabYearRecordsPage Integration > renders without crashing  441ms
   √ó NisabYearRecordsPage Integration > opens payment modal without crashing 3533ms
     ‚Üí Found a label with the text of: /Amount Paid/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
            [36m>[39m
              [0m‚Üê Back to list[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mcl...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
          [33mid[39m=[32m"main-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mNisab Year Records[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
                [36m>[39m
                  [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
                [36m>[39m
                  [0m‚Üê Back to Dashboard[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                [36m>[39m
                  [0m+ New Record[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
              [36m>[39m
                [0m‚Üê Back to list[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
                [36m>[39m
                  [0mAll[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mDraft[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mFinalized[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mUnlocked for Editing[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                        [36m>[39m
                          [0m1445 H[0m
                        [36m</h3>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                        [36m>[39m
                          [0mDraft[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mNisab Basis[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0müü° Gold[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mTotal Wealth[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>...

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
TestingLibraryElementError: Found a label with the text of: /Amount Paid/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
            [36m>[39m
              [0m‚Üê Back to list[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mcl...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
          [33mid[39m=[32m"main-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mNisab Year Records[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
                [36m>[39m
                  [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
                [36m>[39m
                  [0m‚Üê Back to Dashboard[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                [36m>[39m
                  [0m+ New Record[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
              [36m>[39m
                [0m‚Üê Back to list[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
                [36m>[39m
                  [0mAll[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mDraft[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mFinalized[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mUnlocked for Editing[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                        [36m>[39m
                          [0m1445 H[0m
                        [36m</h3>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                        [36m>[39m
                          [0mDraft[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mNisab Basis[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0müü° Gold[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mTotal Wealth[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>...
 ‚ùØ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:148:15
    146| 
    147|         // Verify form appears
    148|         await waitFor(() => {
       |               ^
    149|             expect(screen.getByText('Record Zakat Payment')).toBeInThe‚Ä¶
    150|             // Check if PaymentRecordForm rendered inputs

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  20:27:09
   Duration  13.51s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/pages/NisabYearRecordsPage.integration.test.tsx x2 
        Filename pattern: src/pages/NisabYearRecordsPage.integration.test.tsx

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
An update to NisabYearRecordsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
API: 401 Unauthorized. Ignoring redirect for Local-First mode.

 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx (2 tests | 1 failed) 3597ms
   ‚úì NisabYearRecordsPage Integration > renders without crashing 257ms
   √ó NisabYearRecordsPage Integration > opens payment modal without crashing 3332ms
     ‚Üí Found a label with the text of: /Amount Paid/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
            [36m>[39m
              [0m‚Üê Back to list[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mcl...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
          [33mid[39m=[32m"main-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mNisab Year Records[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
                [36m>[39m
                  [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
                [36m>[39m
                  [0m‚Üê Back to Dashboard[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                [36m>[39m
                  [0m+ New Record[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
              [36m>[39m
                [0m‚Üê Back to list[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
                [36m>[39m
                  [0mAll[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mDraft[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mFinalized[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mUnlocked for Editing[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                        [36m>[39m
                          [0m1445 H[0m
                        [36m</h3>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                        [36m>[39m
                          [0mDraft[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mNisab Basis[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0müü° Gold[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mTotal Wealth[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>...

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
TestingLibraryElementError: Found a label with the text of: /Amount Paid/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
        [33mid[39m=[32m"main-content"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
              [36m>[39m
                [0mNisab Year Records[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
              [36m>[39m
                [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
              [36m>[39m
                [0m‚Üê Back to Dashboard[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
              [36m>[39m
                [0m+ New Record[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
            [36m>[39m
              [0m‚Üê Back to list[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
              [36m>[39m
                [0mAll[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mDraft[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mFinalized[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
              [36m>[39m
                [0mUnlocked for Editing[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                      [36m>[39m
                        [0m1445 H[0m
                      [36m</h3>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                      [36m>[39m
                        [0mDraft[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mNisab Basis[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0müü° Gold[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mTotal Wealth[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0m$40,000[0m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                      [36m>[39m
                        [0mZakatable[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mcl...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 pb-20 md:pb-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"[39m
          [33mid[39m=[32m"main-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 sm:mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl sm:text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mNisab Year Records[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600"[39m
                [36m>[39m
                  [0mTrack Hawl periods, Nisab thresholds, and Zakat calculations[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 sm:gap-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary-500 text-white hover:bg-secondary-600 shadow-sm h-9 rounded-md px-3 whitespace-nowrap"[39m
                [36m>[39m
                  [0m‚Üê Back to Dashboard[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"flex-1 sm:flex-none px-3 sm:px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"[39m
                [36m>[39m
                  [0m+ New Record[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"lg:col-span-2 space-y-4 sm:space-y-6"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"lg:hidden flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"[39m
              [36m>[39m
                [0m‚Üê Back to list[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 border-b border-gray-200 overflow-x-auto pb-px hidden lg:flex"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-blue-600 text-blue-600"[39m
                [36m>[39m
                  [0mAll[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mDraft[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mFinalized[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-3 sm:px-4 py-2 font-medium border-b-2 transition-colors whitespace-nowrap text-sm sm:text-base border-transparent text-gray-600 hover:text-gray-900"[39m
                [36m>[39m
                  [0mUnlocked for Editing[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border rounded-lg p-4 sm:p-5 cursor-pointer transition-all  border-blue-500 bg-blue-50 shadow-md"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between gap-3"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 sm:gap-3 min-w-0"[39m
                      [36m>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-base sm:text-lg font-semibold text-gray-900 truncate"[39m
                        [36m>[39m
                          [0m1445 H[0m
                        [36m</h3>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 bg-blue-100 text-blue-800"[39m
                        [36m>[39m
                          [0mDraft[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"grid grid-cols-2 gap-3 sm:gap-4"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mNisab Basis[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0müü° Gold[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-600 mb-1"[39m
                        [36m>[39m
                          [0mTotal Wealth[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0m$40,000[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div>...
 ‚ùØ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:145:15
    143| 
    144|         // Verify form appears
    145|         await waitFor(() => {
       |               ^
    146|             expect(screen.getByText('Record Zakat Payment')).toBeInThe‚Ä¶
    147|             // Check if PaymentRecordForm rendered inputs

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  20:27:57
   Duration  10.27s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/pages/NisabYearRecordsPage.integration.test.tsx x3 
        Filename pattern: src/pages/NisabYearRecordsPage.integration.test.tsx

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
An update to NisabYearRecordsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx (2 tests | 2 failed) 23883ms
   √ó NisabYearRecordsPage Integration > renders without crashing 10350ms
     ‚Üí Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   √ó NisabYearRecordsPage Integration > opens payment modal without crashing 13437ms
     ‚Üí Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
stderr | ApiService.handleResponse (/home/agentx/github-repos/zakapp/client/src/services/api.ts:119:17)
API: 401 Unauthorized. Ignoring redirect for Local-First mode.


‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 2 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:87:5
     85|     });
     86| 
     87|     it('renders without crashing', async () => {
       |     ^
     88|         renderWithClient(<NisabYearRecordsPage />);
     89| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:95:5
     93|     });
     94| 
     95|     it('opens payment modal without crashing', async () => {
       |     ^
     96|         // Mock data with one record
     97|         const mockData = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ


 Test Files  1 failed (1)
      Tests  2 failed (2)
   Start at  20:31:16
   Duration  79.11s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/pages/NisabYearRecordsPage.integration.test.tsx x4 
        Filename pattern: src/pages/NisabYearRecordsPage.integration.test.tsx

stdout | src/pages/NisabYearRecordsPage.integration.test.tsx
RxDB Storage Adapter (Dexie): [36m[Function: getRxStorageDexie][39m

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
An update to NisabYearRecordsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx (2 tests | 2 failed) 31944ms
   √ó NisabYearRecordsPage Integration > renders without crashing 11537ms
     ‚Üí Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   √ó NisabYearRecordsPage Integration > opens payment modal without crashing 20105ms
     ‚Üí Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
stderr | ApiService.handleResponse (/home/agentx/github-repos/zakapp/client/src/services/api.ts:119:17)
API: 401 Unauthorized. Ignoring redirect for Local-First mode.


‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 2 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > renders without crashing
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:87:5
     85|     });
     86| 
     87|     it('renders without crashing', async () => {
       |     ^
     88|         renderWithClient(<NisabYearRecordsPage />);
     89| 

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ

 FAIL  src/pages/NisabYearRecordsPage.integration.test.tsx > NisabYearRecordsPage Integration > opens payment modal without crashing
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ‚ùØ src/pages/NisabYearRecordsPage.integration.test.tsx:95:5
     93|     });
     94| 
     95|     it('opens payment modal without crashing', async () => {
       |     ^
     96|         // Mock data with one record
     97|         const mockData = {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ


 Test Files  1 failed (1)
      Tests  2 failed (2)
   Start at  20:35:58
   Duration  89.42s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  src/pages/NisabYearRecordsPage.integration.test.tsx x5 
        Filename pattern: src/pages/NisabYearRecordsPage.integration.test.tsx

