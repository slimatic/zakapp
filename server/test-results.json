
> zakapp-server@0.9.2 test
> vitest run --reporter=json

[globalSetup] Preparing test database schema...
Prisma schema loaded from prisma/schema.prisma
Datasource "db": SQLite database "base.db" at "file:/home/chuwi_agent/workspace/zakapp/server/prisma/test/base.db"

SQLite database base.db created at file:/home/chuwi_agent/workspace/zakapp/server/prisma/test/base.db

ðŸš€  Your database is now in sync with your Prisma schema. Done in 772ms

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[Gâœ” Generated Prisma Client (v6.19.2) to ./node_modules/@prisma/client in 289ms

[globalSetup] Base test database schema created.
[globalSetup] Test database schema is ready.
[0mPOST /api/auth/register [32m201[0m 369.167 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 371.316 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 377.552 ms - -[0m
[0mPOST /api/assets [32m201[0m 11.882 ms - 503[0m
[0mGET /api/nisab-year-records/status [32m200[0m 4.337 ms - 16[0m
[0mPOST /api/auth/register [33m400[0m 2.422 ms - 243[0m
[0mPOST /api/auth/register [33m400[0m 1.462 ms - 382[0m
[0mPOST /api/auth/register [33m400[0m 1.383 ms - 183[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 5.495 ms - 66[0m
[0mPOST /api/auth/register [33m400[0m 1.305 ms - 197[0m
[0mPOST /api/auth/register [33m400[0m 1.123 ms - 192[0m
[0mPOST /api/assets [32m201[0m 10.476 ms - 503[0m
[0mPOST /api/auth/register [33m400[0m 0.991 ms - 203[0m
[0mPOST /api/auth/register [33m400[0m 1.143 ms - 202[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.946 ms - 66[0m
[0mPOST /api/auth/register [33m400[0m 1.132 ms - 312[0m
[0mPOST /api/assets [33m400[0m 0.933 ms - 191[0m
[0mPOST /api/auth/register [33m400[0m 1.105 ms - 227[0m
[0mPOST /api/auth/register [33m400[0m 0.851 ms - 227[0m
[0mPOST /api/auth/register [33m400[0m 0.861 ms - 230[0m
[0mPOST /api/auth/register [33m400[0m 0.757 ms - 231[0m
[0mPOST /api/assets [32m201[0m 8.341 ms - 506[0m
[0mPOST /api/auth/register [33m400[0m 0.793 ms - 231[0m
[0mPOST /api/auth/register [33m400[0m 0.950 ms - 228[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.567 ms - 66[0m
[0mPOST /api/auth/register [33m400[0m 1.413 ms - 206[0m
[0mPOST /api/assets [32m201[0m 8.159 ms - 506[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 1.871 ms - 66[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 1.991 ms - 66[0m
[0mPOST /api/assets [32m201[0m 6.926 ms - 515[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.199 ms - 66[0m
[0mPOST /api/assets [32m201[0m 65.780 ms - 497[0m
[0mPOST /api/assets [32m201[0m 70.445 ms - 497[0m
[0mPOST /api/assets [32m201[0m 70.473 ms - 497[0m
[0mPOST /api/assets [32m201[0m 74.480 ms - 497[0m
[0mPOST /api/assets [32m201[0m 76.948 ms - 498[0m
[0mPOST /api/assets [32m201[0m 80.347 ms - 498[0m
[0mPOST /api/assets [32m201[0m 83.799 ms - 498[0m
[0mPOST /api/assets [32m201[0m 88.339 ms - 498[0m
[0mPOST /api/assets [32m201[0m 88.986 ms - 498[0m
[0mPOST /api/assets [32m201[0m 98.398 ms - 498[0m
[0mPOST /api/assets [32m201[0m 98.909 ms - 498[0m
[0mPOST /api/assets [32m201[0m 108.952 ms - 498[0m
[0mPOST /api/assets [32m201[0m 104.443 ms - 498[0m
[0mPOST /api/assets [32m201[0m 119.553 ms - 498[0m
[0mPOST /api/assets [32m201[0m 114.083 ms - 498[0m
[0mPOST /api/assets [32m201[0m 128.616 ms - 498[0m
[0mPOST /api/assets [32m201[0m 124.329 ms - 498[0m
[0mPOST /api/assets [32m201[0m 128.913 ms - 498[0m
[0mPOST /api/assets [32m201[0m 127.536 ms - 498[0m
[0mPOST /api/assets [32m201[0m 138.430 ms - 498[0m
[0mPOST /api/auth/login [32m200[0m 331.467 ms - -[0m
[0mPOST /api/assets [32m201[0m 138.725 ms - 498[0m
[0mPOST /api/assets [32m201[0m 149.994 ms - 498[0m
[0mPOST /api/assets [32m201[0m 148.967 ms - 498[0m
[0mPOST /api/assets [32m201[0m 160.515 ms - 498[0m
[0mPOST /api/assets [32m201[0m 162.007 ms - 498[0m
[0mPOST /api/assets [32m201[0m 173.727 ms - 498[0m
[0mPOST /api/assets [32m201[0m 171.286 ms - 498[0m
[0mPOST /api/assets [32m201[0m 183.207 ms - 498[0m
[0mPOST /api/assets [32m201[0m 181.754 ms - 498[0m
[0mPOST /api/assets [32m201[0m 194.483 ms - 498[0m
[0mPOST /api/assets [32m201[0m 192.118 ms - 498[0m
[0mPOST /api/assets [32m201[0m 196.457 ms - 498[0m
[0mPOST /api/assets [32m201[0m 198.312 ms - 498[0m
[0mPOST /api/assets [32m201[0m 206.644 ms - 498[0m
[0mPOST /api/assets [32m201[0m 212.290 ms - 498[0m
[0mPOST /api/assets [32m201[0m 220.745 ms - 498[0m
[0mPOST /api/assets [32m201[0m 225.575 ms - 498[0m
[0mPOST /api/assets [32m201[0m 276.830 ms - 497[0m
[0mPOST /api/auth/register [32m201[0m 343.064 ms - -[0m
[0mPOST /api/assets [32m201[0m 277.588 ms - 498[0m
[0mPOST /api/assets [32m201[0m 289.484 ms - 497[0m
[0mPOST /api/assets [32m201[0m 254.020 ms - 498[0m
[0mPOST /api/assets [32m201[0m 309.288 ms - 497[0m
[0mPOST /api/assets [32m201[0m 293.340 ms - 498[0m
[0mPOST /api/assets [32m201[0m 297.065 ms - 498[0m
[0mPOST /api/assets [32m201[0m 299.843 ms - 498[0m
[0mPOST /api/assets [32m201[0m 306.189 ms - 498[0m
[0mPOST /api/assets [32m201[0m 333.743 ms - 497[0m
[0mPOST /api/assets [31m500[0m 378.597 ms - 236[0m
[0mPOST /api/assets [32m201[0m 490.477 ms - 497[0m
[0mPOST /api/assets [32m201[0m 501.622 ms - 497[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.063 ms - 66[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.045 ms - 66[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.410 ms - 66[0m
[0mPOST /api/auth/register [32m201[0m 332.876 ms - -[0m
[0mPOST /api/auth/register [33m409[0m 1.950 ms - 105[0m
[0mPOST /api/auth/register [32m201[0m 339.155 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 324.895 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 297.290 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 298.838 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 305.920 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 327.170 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 295.098 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 285.064 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 292.682 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 318.442 ms - -[0m
[0mPOST /api/auth/register [33m429[0m 0.448 ms - 140[0m
[0mPOST /api/auth/login [32m200[0m 308.804 ms - -[0m
[0mPOST /api/calendar/convert [32m200[0m 3.032 ms - 210[0m
[0mPOST /api/auth/register [32m201[0m 325.710 ms - -[0m
[0mPOST /api/calendar/convert [32m200[0m 1.434 ms - 210[0m
[0mPOST /api/calendar/convert [33m400[0m 0.880 ms - 111[0m
[0mPOST /api/calendar/convert [33m400[0m 3.013 ms - 93[0m
[0mPOST /api/calendar/convert [33m400[0m 1.152 ms - 114[0m
[0mPOST /api/calendar/convert [33m401[0m 0.422 ms - 94[0m
[0mPOST /api/calendar/zakat-year [32m200[0m 1.096 ms - 284[0m
[0mPOST /api/calendar/zakat-year [32m200[0m 0.967 ms - 150[0m
[0mPOST /api/calendar/zakat-year [33m400[0m 0.810 ms - 107[0m
[0mPOST /api/calendar/zakat-year [33m400[0m 0.731 ms - 101[0m
[0mPOST /api/calendar/zakat-year [33m401[0m 0.433 ms - 94[0m
[0mGET /api/calendar/preference [32m200[0m 6.958 ms - 43[0m
[0mGET /api/calendar/preference [33m401[0m 0.446 ms - 94[0m
[0mPUT /api/calendar/preference [32m200[0m 7.491 ms - 98[0m
[0mGET /api/calendar/preference [32m200[0m 1.582 ms - 39[0m
[0mPUT /api/calendar/preference [32m200[0m 6.074 ms - 102[0m
[0mPUT /api/calendar/preference [33m400[0m 0.704 ms - 101[0m
[0mPUT /api/calendar/preference [33m400[0m 0.697 ms - 146[0m
[0mPUT /api/calendar/preference [33m401[0m 0.301 ms - 94[0m
[0mPOST /api/auth/login [32m200[0m 321.056 ms - -[0m
[0mPOST /api/auth/login [33m401[0m 1.976 ms - 103[0m
[0mPOST /api/auth/login [33m400[0m 1.152 ms - 198[0m
[0mPOST /api/auth/login [33m400[0m 0.845 ms - 155[0m
[0mPOST /api/auth/login [33m400[0m 0.914 ms - 186[0m
[0mPOST /api/auth/login [33m401[0m 1.921 ms - 103[0m
[0mPOST /api/auth/register [32m201[0m 339.757 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 330.667 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 290.178 ms - -[0m
[0mGET /api/assets [33m401[0m 0.697 ms - 94[0m
[0mGET /api/assets [33m401[0m 0.734 ms - 91[0m
[0mGET /api/assets [33m401[0m 1.373 ms - 91[0m
[0mPOST /api/auth/login [32m200[0m 306.881 ms - -[0m
[0mGET /api/methodologies [32m200[0m 6.269 ms - -[0m
[0mGET /api/methodologies [33m401[0m 0.718 ms - 94[0m
[0mGET /api/methodologies/STANDARD [32m200[0m 1.575 ms - -[0m
[0mGET /api/methodologies/UNKNOWN [33m404[0m 2.203 ms - 87[0m
[0mPUT /api/methodologies/STANDARD [33m400[0m 2.602 ms - 94[0m
[0mGET /api/methodologies/UNKNOWN [33m404[0m 1.989 ms - 87[0m
[0mPOST /api/methodologies/custom [32m201[0m 7.639 ms - 178[0m
[0mPUT /api/methodologies/cmld82qff00040g90atrl3am9 [32m200[0m 12.134 ms - 180[0m
[0mPUT /api/methodologies/STANDARD [33m400[0m 1.718 ms - 172[0m
[0mPUT /api/methodologies/INVALID_ID [33m404[0m 1.871 ms - 97[0m
[0mPOST /api/methodologies/custom [32m201[0m 8.336 ms - 235[0m
[0mPOST /api/methodologies/custom [33m400[0m 1.099 ms - 287[0m
[0mPOST /api/methodologies/custom [32m201[0m 6.446 ms - 178[0m
[0mDELETE /api/methodologies/cmld82qgr00080g90sl5wo8kf [32m200[0m 5.899 ms - 68[0m
[0mGET /api/methodologies/cmld82qgr00080g90sl5wo8kf [33m404[0m 1.540 ms - 105[0m
[0mDELETE /api/methodologies/STANDARD [33m400[0m 0.711 ms - 94[0m
[0mPOST /api/auth/register [32m201[0m 355.889 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 315.204 ms - -[0m
[0mPOST /api/assets [32m201[0m 12.326 ms - 524[0m
[0mDELETE /api/assets/cmld82se300040ga18c7hnz1j [33m401[0m 0.684 ms - 94[0m
[0mPOST /api/assets [32m201[0m 11.049 ms - 530[0m
[0mDELETE /api/assets/cmld82sen00060ga1iumzt3w5 [32m200[0m 9.071 ms - 811[0m
[0mDELETE /api/assets/12345678-1234-4123-a123-123456789012 [33m404[0m 1.738 ms - 150[0m
[0mDELETE /api/assets/cmld82se300040ga18c7hnz1j [33m403[0m 0.320 ms - 89[0m
[0mDELETE /api/assets/invalid-uuid [33m400[0m 0.821 ms - 237[0m
[0mPOST /api/assets [32m201[0m 10.167 ms - 537[0m
[0mDELETE /api/assets/cmld82sfs00080ga10mhp9o3k [32m200[0m 7.350 ms - 818[0m
[0mGET /api/assets/cmld82sfs00080ga10mhp9o3k [33m404[0m 1.741 ms - 150[0m
[0mPOST /api/assets [32m201[0m 7.720 ms - 530[0m
[0mDELETE /api/assets/cmld82sgh000a0ga1eb7ncpyw [32m200[0m 6.959 ms - 811[0m
[0mPOST /api/assets [32m201[0m 9.190 ms - 529[0m
[0mDELETE /api/assets/cmld82sh0000c0ga1z4nxqbx9 [32m200[0m 7.144 ms - 810[0m
[0mPOST /api/assets [32m201[0m 7.802 ms - 530[0m
[0mDELETE /api/assets/cmld82shm000e0ga12m0ll4vu?force=true [32m200[0m 9.128 ms - 765[0m
[0mPOST /api/assets [32m201[0m 7.754 ms - 532[0m
[0mDELETE /api/assets/cmld82sia000g0ga1knda7sm0 [32m200[0m 6.732 ms - 813[0m
[0mPOST /api/assets [32m201[0m 7.884 ms - 535[0m
[0mDELETE /api/assets/cmld82sit000i0ga1vzcpu0h3 [32m200[0m 10.118 ms - 816[0m
[0mDELETE /api/assets/cmld82sit000i0ga1vzcpu0h3 [33m404[0m 11.721 ms - 150[0m
[0mPOST /api/auth/register [32m201[0m 348.448 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 328.501 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 286.935 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 5.000 ms - 209[0m
[0mPOST /api/auth/login [32m200[0m 288.223 ms - -[0m
[0mPOST /api/assets [32m201[0m 12.643 ms - 503[0m
[0mPOST /api/assets [32m201[0m 18.451 ms - 508[0m
[0mPOST /api/assets [32m201[0m 7.392 ms - 510[0m
[0mGET /api/nisab-year-records/cmld82unh00080gf3x538wnef/assets/refresh [32m200[0m 10.046 ms - 662[0m
[0mPOST /api/auth/register [32m201[0m 309.134 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 288.145 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 2.143 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 297.313 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 298.454 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 317.353 ms - -[0m
[0mGET /api/nisab-year-records/cmld82v6i000f0gf3k4qxwhum/assets/refresh [33m400[0m 2.961 ms - 96[0m
[0mPOST /api/auth/login [32m200[0m 291.193 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.689 ms - 162[0m
[0mPOST /api/auth/register [32m201[0m 293.883 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 294.639 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 283.229 ms - -[0m
[0mGET /api/nisab-year-records/cmld82vnc000k0gf3u0xwbnkx/assets/refresh [33m400[0m 1.998 ms - 96[0m
[0mPOST /api/auth/login [32m200[0m 292.716 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.144 ms - 233[0m
[0mPOST /api/auth/register [32m201[0m 308.610 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 345.964 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 331.269 ms - -[0m
[0mGET /api/nisab-year-records/clxxxxxxxxxxxxxxxxxxxxxxxx/assets/refresh [33m404[0m 4.451 ms - 66[0m
[0mPOST /api/auth/login [32m200[0m 324.458 ms - -[0m
[0mPOST /api/zakat/payments [33m401[0m 0.460 ms - 94[0m
[0mPOST /api/auth/register [32m201[0m 332.528 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 343.710 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 328.783 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 319.771 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 2.054 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.911 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 2.317 ms - 209[0m
[0mGET /api/zakat/payments [32m200[0m 2.595 ms - 188[0m
[0mPOST /api/auth/register [32m201[0m 337.235 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 333.599 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 322.965 ms - -[0m
[0mGET /api/nisab-year-records/cmld82x79000v0gf3z72pwa71/assets/refresh [33m403[0m 2.099 ms - 101[0m
[0mPOST /api/auth/login [32m200[0m 318.383 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 2.018 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.975 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.723 ms - 209[0m
[0mGET /api/zakat/payments?year=2024 [32m200[0m 1.797 ms - 188[0m
[0mPOST /api/auth/register [32m201[0m 327.689 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 321.997 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 311.503 ms - -[0m
[0mPOST /api/assets [32m201[0m 10.193 ms - 498[0m
[0mPOST /api/assets [32m201[0m 17.226 ms - 500[0m
[0mGET /api/nisab-year-records/cmld82xq700140gf3nicrdoyo/assets/refresh [32m200[0m 4.309 ms - 263[0m
[0mPOST /api/auth/login [32m200[0m 317.706 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.718 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.677 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.592 ms - 209[0m
[0mGET /api/zakat/payments?page=1&limit=2 [32m200[0m 1.523 ms - 187[0m
[0mPOST /api/auth/register [32m201[0m 325.322 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 324.194 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 332.952 ms - -[0m
[0mPOST /api/assets [32m201[0m 9.423 ms - 495[0m
[0mPOST /api/assets [32m201[0m 8.596 ms - 505[0m
[0mPOST /api/auth/register [32m201[0m 361.542 ms - -[0m
[0mPOST /api/assets [32m201[0m 8.987 ms - 503[0m
[0mPOST /api/assets [32m201[0m 7.928 ms - 495[0m
[0mGET /api/nisab-year-records/cmld82yaq001h0gf3zc8uhbaj/assets/refresh [32m200[0m 4.001 ms - 638[0m
[0mPOST /api/auth/login [32m200[0m 314.100 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.808 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.566 ms - 209[0m
[0mPOST /api/zakat/payments [33m400[0m 1.400 ms - 209[0m
[0mGET /api/zakat/payments [33m401[0m 0.249 ms - 94[0m
[0mPOST /api/auth/login [32m200[0m 313.891 ms - -[0m
[0mGET /api/auth/me [32m200[0m 3.843 ms - 554[0m
[0mPOST /api/auth/login [33m401[0m 1.675 ms - 103[0m
[0mPOST /api/auth/register [32m201[0m 325.999 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 328.861 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 402.722 ms - -[0m
[0mPOST /api/assets [32m201[0m 8.763 ms - 494[0m
[0mPOST /api/assets [32m201[0m 8.429 ms - 506[0m
[0mGET /api/nisab-year-records/cmld82ywh001q0gf3b9b23m97/assets/refresh [32m200[0m 4.449 ms - 453[0m
[0mPUT /api/nisab-year-records/cmld82ywh001q0gf3b9b23m97 [32m200[0m 17.465 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 326.204 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.868 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 338.076 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 351.588 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 315.441 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 356.025 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.813 ms - 209[0m
[0mGET /api/nisab-year-records/some-id/assets/refresh [33m401[0m 0.373 ms - 94[0m
[0mPOST /api/auth/register [32m201[0m 350.966 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 325.854 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 2.034 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 340.006 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 328.933 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.750 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 373.004 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 327.468 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 315.495 ms - -[0m
[0mPOST /api/assets [32m201[0m 17.717 ms - 506[0m
[0mPOST /api/assets [32m201[0m 20.185 ms - 503[0m
[0mPOST /api/assets [32m201[0m 30.306 ms - 500[0m
[0mPOST /api/auth/login [32m200[0m 322.275 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.653 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 325.650 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 327.553 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 361.557 ms - -[0m
[0mPOST /api/assets [32m201[0m 8.873 ms - 506[0m
[0mPOST /api/auth/login [32m200[0m 325.253 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.987 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 330.405 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 362.623 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 316.872 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 322.040 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 314.345 ms - -[0m
[0mPOST /api/assets [32m201[0m 15.005 ms - 505[0m
[0mPOST /api/assets [32m201[0m 12.284 ms - 495[0m
[0mGET /api/assets [32m200[0m 5.779 ms - 693[0m
[0mPOST /api/assets [32m201[0m 9.518 ms - 515[0m
[0mPUT /api/assets/cmld8320600040gk2jjd349gc [32m200[0m 12.787 ms - 506[0m
[0mGET /api/assets [32m200[0m 2.287 ms - 691[0m
[0mPOST /api/assets [32m201[0m 12.962 ms - 495[0m
[0mPOST /api/auth/login [32m200[0m 319.330 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 1.679 ms - 209[0m
[0mPOST /api/auth/register [32m201[0m 335.772 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 348.967 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 326.238 ms - -[0m
[0mPOST /api/zakat/payments [33m400[0m 2.657 ms - 209[0m
[0mPOST /api/auth/login [32m200[0m 374.666 ms - -[0m
[0mPOST /api/assets [32m201[0m 10.901 ms - 499[0m
[0mPOST /api/auth/register [32m201[0m 341.558 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 338.487 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 344.557 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 328.387 ms - -[0m
[0mPOST /api/assets [32m201[0m 7.990 ms - 504[0m
[0mPOST /api/auth/register [32m201[0m 367.869 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 322.780 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 317.342 ms - -[0m
[0mPOST /api/assets [32m201[0m 11.941 ms - 513[0m
[0mPOST /api/auth/login [32m200[0m 319.812 ms - -[0m
[0mPOST /api/assets [32m201[0m 8.135 ms - 505[0m
[0mPOST /api/auth/register [32m201[0m 352.679 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 381.855 ms - -[0m
[0mPOST /api/assets [32m201[0m 13.130 ms - 496[0m
[0mPOST /api/auth/login [32m200[0m 333.609 ms - -[0m
[0mPOST /api/assets [32m201[0m 13.081 ms - 496[0m
[0mPOST /api/assets [32m201[0m 8.891 ms - 495[0m
[0mPOST /api/auth/register [32m201[0m 343.336 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 343.200 ms - -[0m
[0mPOST /api/assets [32m201[0m 8.042 ms - 505[0m
[0mPOST /api/assets [32m201[0m 8.218 ms - 501[0m
[0mPOST /api/auth/register [32m201[0m 353.065 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 363.507 ms - -[0m
[0mPOST /api/assets [32m201[0m 7.700 ms - 502[0m
[0mPOST /api/assets [32m201[0m 10.093 ms - 503[0m
[0mPOST /api/auth/register [32m201[0m 360.277 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 324.342 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 330.639 ms - -[0m
[0mGET /api/nisab-year-records [33m401[0m 0.823 ms - 94[0m
[0mGET /api/nisab-year-records [33m401[0m 1.040 ms - 91[0m
[0mGET /api/nisab-year-records [33m401[0m 1.575 ms - 91[0m
[0mPOST /api/nisab-year-records [32m201[0m 23.000 ms - 805[0m
[0mGET /api/nisab-year-records/cmld836l800060gn64u2r89d2 [33m404[0m 5.402 ms - 66[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.258 ms - 803[0m
[0mPUT /api/nisab-year-records/cmld836ma00090gn6ewxz4pzx [33m404[0m 3.135 ms - 66[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.122 ms - 803[0m
[0mDELETE /api/nisab-year-records/cmld836n0000c0gn64jcmwm18 [33m404[0m 2.500 ms - 66[0m
[0mPOST /api/nisab-year-records [33m400[0m 0.818 ms - 82[0m
[0mPOST /api/nisab-year-records [33m400[0m 0.818 ms - 90[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.752 ms - 806[0m
[0mPOST /api/nisab-year-records [32m201[0m 13.263 ms - 805[0m
[0mPOST /api/nisab-year-records [32m201[0m 13.604 ms - 805[0m
[0mGET /api/nisab-year-records/nonexistent_id_12345 [33m404[0m 1.918 ms - 66[0m
[0mPOST /api/nisab-year-records/fake_id/finalize [33m404[0m 2.262 ms - 66[0m
[0mPOST /api/nisab-year-records/fake_id/unlock [33m400[0m 0.887 ms - 81[0m
[0mPOST /api/nisab-year-records [32m201[0m 12.905 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld836pt000o0gn660qhspap/finalize [33m409[0m 3.571 ms - 115[0m
[0mPOST /api/nisab-year-records [32m201[0m 13.527 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld836qe000r0gn6ij106uvc/finalize [32m200[0m 15.286 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld836qe000r0gn6ij106uvc/unlock [33m400[0m 0.804 ms - 81[0m
[0mPOST /api/nisab-year-records [32m201[0m 14.114 ms - 803[0m
[0mPOST /api/auth/login [32m200[0m 355.188 ms - -[0m
[0mPOST /api/nisab-year-records/cmld836ri000w0gn6o977e1wj/finalize [32m200[0m 16.972 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld836ri000w0gn6o977e1wj/unlock [33m400[0m 0.642 ms - 81[0m
[0mPOST /api/assets [32m201[0m 10.054 ms - 502[0m
[0mPOST /api/nisab-year-records [32m201[0m 17.873 ms - 831[0m
[0mPOST /api/nisab-year-records [33m400[0m 2.786 ms - 145[0m
[0mPOST /api/nisab-year-records [31m500[0m 1.917 ms - 49[0m
[0mPOST /api/auth/register [32m201[0m 389.248 ms - -[0m
[0mPOST /api/assets [32m201[0m 14.908 ms - 506[0m
[0mPOST /api/assets [32m201[0m 8.765 ms - 495[0m
[0mGET /api/nisab-year-records/status [32m200[0m 6.214 ms - 16[0m
[0mGET /api/assets [32m200[0m 3.642 ms - 678[0m
[0mPOST /api/assets [32m201[0m 9.912 ms - 498[0m
[0mPOST /api/assets [32m201[0m 13.331 ms - 497[0m
[0mPOST /api/assets [32m201[0m 8.877 ms - 497[0m
[0mGET /api/nisab-year-records/status [32m200[0m 3.914 ms - 16[0m
[0mPOST /api/assets [32m201[0m 10.873 ms - 495[0m
[0mGET /api/nisab-year-records/status [32m200[0m 2.557 ms - 16[0m
[0mGET /api/assets [32m200[0m 3.126 ms - 678[0m
[0mPOST /api/assets [32m201[0m 10.028 ms - 498[0m
[0mGET /api/nisab-year-records/status [32m200[0m 4.613 ms - 16[0m
[0mPOST /api/auth/register [32m201[0m 369.601 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 366.191 ms - -[0m
[0mPOST /api/assets [32m201[0m 15.548 ms - 506[0m
[0mPOST /api/nisab-year-records [32m201[0m 35.256 ms - 805[0m
[0mGET /api/nisab-year-records/status [32m200[0m 5.268 ms - 16[0m
[0mPOST /api/assets [32m201[0m 11.621 ms - 504[0m
[0mGET /api/nisab-year-records/status [32m200[0m 3.239 ms - 16[0m
[0mPOST /api/nisab-year-records/cmld838zx00030gostey86vi6/finalize [32m200[0m 27.606 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld838zx00030gostey86vi6/unlock [32m200[0m 19.171 ms - 820[0m
[0mPOST /api/assets [32m201[0m 11.107 ms - 498[0m
[0mGET /api/nisab-year-records/status [32m200[0m 3.018 ms - 16[0m
[0mPOST /api/assets [32m201[0m 8.884 ms - 502[0m
[0mGET /api/nisab-year-records/status [32m200[0m 2.942 ms - 16[0m
[0mPOST /api/nisab-year-records [32m201[0m 19.756 ms - 803[0m
[0mPOST /api/assets [32m201[0m 10.131 ms - 496[0m
[0mGET /api/nisab-year-records/status [32m200[0m 1.800 ms - 16[0m
[0mPOST /api/nisab-year-records/cmld8392s000a0gos3ru4r0c0/finalize [32m200[0m 18.334 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld8392s000a0gos3ru4r0c0/unlock [33m400[0m 0.935 ms - 100[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 6.564 ms - 66[0m
[0mPOST /api/assets [32m201[0m 11.636 ms - 498[0m
[0mGET /api/nisab-year-records/status [32m200[0m 2.048 ms - 16[0m
[0mPOST /api/nisab-year-records [32m201[0m 20.059 ms - 805[0m
[0mPOST /api/assets [32m201[0m 9.471 ms - 495[0m
[0mGET /api/nisab-year-records/status [32m200[0m 1.832 ms - 16[0m
[0mGET /api/nisab-year-records/undefined [33m404[0m 2.067 ms - 66[0m
[0mPOST /api/nisab-year-records/cmld8394f000f0gosthx8zbki/finalize [32m200[0m 18.587 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld8394f000f0gosthx8zbki/unlock [32m200[0m 19.503 ms - 820[0m
[0mPUT /api/nisab-year-records/cmld8394f000f0gosthx8zbki [32m200[0m 17.781 ms - 820[0m
[0mPOST /api/nisab-year-records [32m201[0m 14.657 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld8397g000o0gos3bz00fi8/finalize [32m200[0m 13.564 ms - 823[0m
[0mPOST /api/nisab-year-records/cmld8397g000o0gos3bz00fi8/unlock [32m200[0m 16.045 ms - 822[0m
[0mGET /api/nisab-year-records/cmld8397g000o0gos3bz00fi8/audit [32m200[0m 6.853 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 385.055 ms - -[0m
[0mPOST /api/nisab-year-records [32m201[0m 17.572 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld8399r000v0gosp3eptyin/finalize [32m200[0m 19.244 ms - 821[0m
[0mPOST /api/nisab-year-records [32m201[0m 34.118 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld8399r000v0gosp3eptyin/unlock [32m200[0m 17.277 ms - 820[0m
[0mPOST /api/nisab-year-records/cmld839a700030gpth390goa9/finalize [32m200[0m 23.766 ms - 821[0m
[0mPUT /api/nisab-year-records/cmld8399r000v0gosp3eptyin [32m200[0m 16.153 ms - 820[0m
[0mPUT /api/nisab-year-records/cmld839a700030gpth390goa9 [33m409[0m 8.296 ms - 94[0m
[0mGET /api/nisab-year-records/cmld8399r000v0gosp3eptyin/audit [32m200[0m 10.816 ms - -[0m
[0mPOST /api/nisab-year-records [32m201[0m 25.809 ms - 803[0m
[0mPOST /api/nisab-year-records/cmld839ch00080gptojqpk8fm/finalize [33m409[0m 4.451 ms - 115[0m
[0mPOST /api/nisab-year-records [32m201[0m 25.094 ms - 803[0m
[0mPOST /api/nisab-year-records [32m201[0m 22.023 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld839cx00140gos8gorvvku/finalize [32m200[0m 19.709 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld839dj000b0gpt9eac2kik/finalize [33m409[0m 2.979 ms - 115[0m
[0mPOST /api/nisab-year-records/cmld839cx00140gos8gorvvku/unlock [32m200[0m 16.424 ms - 820[0m
[0mPOST /api/nisab-year-records [32m201[0m 21.365 ms - 805[0m
[0mPUT /api/nisab-year-records/cmld839cx00140gos8gorvvku [32m200[0m 22.440 ms - 820[0m
[0mPOST /api/nisab-year-records/cmld839ef000e0gptf5sjcsq6/finalize [32m200[0m 18.872 ms - 821[0m
[0mGET /api/nisab-year-records/cmld839ef000e0gptf5sjcsq6/audit-trail [33m404[0m 2.156 ms - 199[0m
[0mPOST /api/nisab-year-records/cmld839cx00140gos8gorvvku/finalize [32m200[0m 24.382 ms - 821[0m
[0mPOST /api/nisab-year-records [32m201[0m 20.149 ms - 803[0m
[0mPOST /api/nisab-year-records/cmld839fu000j0gptw26fcnir/finalize [32m200[0m 17.402 ms - 821[0m
[0mDELETE /api/nisab-year-records/cmld839fu000j0gptw26fcnir [33m409[0m 2.510 ms - 137[0m
[0mPOST /api/nisab-year-records [32m201[0m 21.162 ms - 803[0m
[0mPOST /api/nisab-year-records [32m201[0m 30.765 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld839gu001f0gosrisg7cpw/finalize [32m200[0m 24.541 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld839h5000o0gpt5baclfq0/finalize [32m200[0m 20.668 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld839gu001f0gosrisg7cpw/unlock [32m200[0m 18.730 ms - 820[0m
[0mGET /api/nisab-year-records/cmld839h5000o0gpt5baclfq0 [32m200[0m 5.462 ms - 821[0m
[0mPUT /api/nisab-year-records/cmld839gu001f0gosrisg7cpw [32m200[0m 22.900 ms - 820[0m
[0mPOST /api/nisab-year-records [32m201[0m 23.412 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld839gu001f0gosrisg7cpw/finalize [32m200[0m 22.448 ms - 821[0m
[0mGET /api/nisab-year-records/cmld839gu001f0gosrisg7cpw/audit [32m200[0m 3.789 ms - -[0m
[0mPOST /api/nisab-year-records/cmld839j4000t0gptnbjfispa/finalize [32m200[0m 18.974 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld839j4000t0gptnbjfispa/finalize [33m409[0m 2.237 ms - 96[0m
[0mPOST /api/nisab-year-records [32m201[0m 21.469 ms - 805[0m
[0mPOST /api/nisab-year-records [32m201[0m 18.425 ms - 804[0m
[0mPOST /api/nisab-year-records/cmld839kr001q0gosmekvvdkr/unlock [33m409[0m 4.290 ms - 90[0m
[0mPOST /api/nisab-year-records/cmld839kj000y0gpti1yv46yr/finalize [32m200[0m 16.789 ms - 821[0m
[0mPOST /api/nisab-year-records [32m201[0m 17.939 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld839lz001t0gosvifz1vto/finalize [32m200[0m 14.573 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld839lz001t0gosvifz1vto/unlock [32m200[0m 15.396 ms - 820[0m
[0mGET /api/nisab-year-records/cmld839lz001t0gosvifz1vto/audit [32m200[0m 3.989 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 372.479 ms - -[0m
[0mGET /api/analytics/summary [32m200[0m 31.942 ms - 841[0m
[0mGET /api/analytics/summary?year=2024 [32m200[0m 19.164 ms - 841[0m
[0mGET /api/analytics/summary?includeTrends=true [32m200[0m 19.269 ms - -[0m
[0mGET /api/analytics/metrics [32m200[0m 37.426 ms - -[0m
[0mGET /api/analytics/metrics?metricTypes=wealth_trend,zakat_trend [32m200[0m 21.560 ms - 763[0m
[0mGET /api/analytics/trends [32m200[0m 21.000 ms - 780[0m
[0mGET /api/analytics/trends?period=6months [32m200[0m 31.205 ms - 779[0m
[0mGET /api/analytics/comparison [32m200[0m 12.479 ms - 421[0m
[0mGET /api/analytics/comparison?period1=2025&period2=2026 [32m200[0m 8.872 ms - 416[0m
[0mPOST /api/analytics/cache/clear [32m200[0m 6.165 ms - 65[0m
[0mPOST /api/auth/register [32m201[0m 379.671 ms - -[0m
[0mPOST /api/nisab-year-records [32m201[0m 27.937 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld83bsf00030grunsmqvk7w/finalize [32m200[0m 22.361 ms - 821[0m
[0mPOST /api/nisab-year-records [32m201[0m 20.370 ms - 803[0m
[0mPOST /api/nisab-year-records/cmld83bu400080grungg2ykno/finalize [32m200[0m 15.310 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld83bu400080grungg2ykno/unlock [32m200[0m 17.268 ms - 820[0m
[0mPOST /api/nisab-year-records [32m201[0m 31.733 ms - 803[0m
[0mPOST /api/nisab-year-records/cmld83bvw000f0gruqdqwa91l/finalize [32m200[0m 21.738 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld83bvw000f0gruqdqwa91l/unlock [32m200[0m 14.637 ms - 820[0m
[0mPOST /api/nisab-year-records/cmld83bvw000f0gruqdqwa91l/finalize [32m200[0m 15.520 ms - 821[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.353 ms - 803[0m
[0mPOST /api/nisab-year-records/cmld83byl000o0gruwk6m54bj/unlock [33m409[0m 8.834 ms - 90[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.939 ms - 803[0m
[0mPOST /api/nisab-year-records/cmld83bzh000r0grusmou3cpr/finalize [32m200[0m 18.231 ms - 821[0m
[0mPUT /api/nisab-year-records/cmld83bzh000r0grusmou3cpr [33m400[0m 1.048 ms - 113[0m
[0mPOST /api/nisab-year-records [32m201[0m 15.457 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld83c0p000w0gru6rrvyv2a/finalize [32m200[0m 23.113 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld83c0p000w0gru6rrvyv2a/unlock [32m200[0m 16.232 ms - 820[0m
[0mPUT /api/nisab-year-records/cmld83c0p000w0gru6rrvyv2a [33m400[0m 0.769 ms - 113[0m
[0mPOST /api/nisab-year-records [32m201[0m 15.299 ms - 805[0m
[0mPUT /api/nisab-year-records/cmld83c2h00130gruj45sqpr9 [33m400[0m 0.719 ms - 113[0m
[0mPOST /api/nisab-year-records/cmld83c1q00020gtdmexyminq/finalize [33m401[0m 11.484 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83c1x00040gtdslpu7w9i/finalize [33m401[0m 1.280 ms - 91[0m
[0mPOST /api/nisab-year-records [32m201[0m 17.631 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld83c1x00040gtdslpu7w9i/finalize [33m401[0m 0.695 ms - 91[0m
[0mPOST /api/nisab-year-records/nonexistent-id/finalize [33m401[0m 0.697 ms - 91[0m
[0mGET /api/nisab-year-records/cmld83c3200160gruhy9gm4zm [32m200[0m 4.451 ms - 1013[0m
[0mPOST /api/nisab-year-records/cmld83c1q00020gtdmexyminq/finalize [33m401[0m 0.660 ms - 94[0m
[0mPOST /api/nisab-year-records/cmld83c1q00020gtdmexyminq/finalize [33m401[0m 0.609 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83c3200160gruhy9gm4zm/finalize [32m200[0m 20.190 ms - 821[0m
[0mGET /api/nisab-year-records/cmld83c3200160gruhy9gm4zm [32m200[0m 1.957 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld83c3200160gruhy9gm4zm/unlock [32m200[0m 16.190 ms - 820[0m
[0mGET /api/nisab-year-records/cmld83c3200160gruhy9gm4zm [32m200[0m 2.258 ms - 820[0m
[0mPOST /api/nisab-year-records [32m201[0m 17.658 ms - 805[0m
[0mPOST /api/nisab-year-records/cmld83c57001d0grucmtdxzp1/finalize [32m200[0m 20.973 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld83c57001d0grucmtdxzp1/finalize [32m200[0m 40.002 ms - 821[0m
[0mPOST /api/nisab-year-records/cmld83dgh00020gu6dasln7od/unlock [32m200[0m 34.732 ms - -[0m
[0mPOST /api/nisab-year-records/cmld83dii00060gu6lt3ad9jt/unlock [32m200[0m 15.302 ms - -[0m
[0mPOST /api/nisab-year-records/cmld83djg000a0gu66rvwgcg2/unlock [33m400[0m 1.052 ms - 81[0m
[0mPOST /api/nisab-year-records/cmld83djz000c0gu6k3zvc3rx/unlock [33m400[0m 0.924 ms - 100[0m
[0mPOST /api/nisab-year-records/cmld83dkf000e0gu6u0j0iac4/unlock [33m409[0m 4.377 ms - 90[0m
[0mPOST /api/nisab-year-records/cmld83dkz000g0gu6vnm7uuuy/unlock [33m409[0m 2.817 ms - 93[0m
[0mPOST /api/nisab-year-records/00000000-0000-0000-0000-000000000000/unlock [33m404[0m 2.550 ms - 66[0m
[0mPOST /api/nisab-year-records/some-id/unlock [33m401[0m 0.513 ms - 94[0m
[0mPOST /api/nisab-year-records/cmld83dlw000i0gu6xqgzstgp/unlock [33m404[0m 3.852 ms - 66[0m
[0mPOST /api/nisab-year-records/cmld83dmr000l0gu6wq8sid7a/unlock [32m200[0m 13.826 ms - -[0m
[0mGET /api/nisab-year-records/cmld83e0j00020guybg2jdu78 [32m200[0m 19.198 ms - -[0m
[0mGET /api/nisab-year-records/cmld83e0j00020guybg2jdu78 [32m200[0m 4.630 ms - -[0m
[0mGET /api/nisab-year-records/00000000-0000-0000-0000-000000000000 [33m404[0m 6.865 ms - 66[0m
[0mGET /api/nisab-year-records/cmld83e0j00020guybg2jdu78 [33m401[0m 0.381 ms - 94[0m
[0mGET /api/nisab-year-records/cmld83e0j00020guybg2jdu78 [33m404[0m 2.976 ms - 66[0m
[0mGET /api/nisab-year-records/cmld83e0j00020guybg2jdu78 [32m200[0m 4.218 ms - -[0m
[0mGET /api/nisab-year-records/cmld83e0j00020guybg2jdu78 [32m200[0m 3.149 ms - -[0m
[0mGET /api/nisab-year-records/cmld83e4000020gvhezgsqm03 [33m401[0m 3.967 ms - 91[0m
[0mGET /api/nisab-year-records/cmld83e4000020gvhezgsqm03 [33m401[0m 0.846 ms - 91[0m
[0mGET /api/nisab-year-records/cmld83e4000020gvhezgsqm03 [33m401[0m 0.550 ms - 91[0m
[0mGET /api/nisab-year-records/nonexistent-id [33m401[0m 0.434 ms - 91[0m
[0mGET /api/nisab-year-records/cmld83e4000020gvhezgsqm03 [33m401[0m 0.366 ms - 94[0m
[0mGET /api/nisab-year-records/cmld83e4000020gvhezgsqm03 [33m401[0m 0.325 ms - 116[0m
[0mPOST /api/nisab-year-records [32m201[0m 37.153 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 20.325 ms - 797[0m
[0mPOST /api/nisab-year-records [32m201[0m 17.088 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.383 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.143 ms - 825[0m
[0mPOST /api/nisab-year-records [32m201[0m 15.640 ms - 795[0m
[0mPOST /api/nisab-year-records [33m400[0m 0.844 ms - 82[0m
[0mPOST /api/nisab-year-records [33m400[0m 0.910 ms - 90[0m
[0mPOST /api/nisab-year-records [33m400[0m 1.177 ms - 90[0m
[0mPOST /api/nisab-year-records [33m400[0m 1.005 ms - 91[0m
[0mPOST /api/nisab-year-records [33m400[0m 0.786 ms - 97[0m
[0mPOST /api/nisab-year-records [33m401[0m 0.535 ms - 94[0m
[0mPOST /api/nisab-year-records [33m401[0m 0.801 ms - 91[0m
[0mPOST /api/nisab-year-records [32m201[0m 15.452 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.166 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.488 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 15.704 ms - 795[0m
[0mPOST /api/nisab-year-records [32m201[0m 16.522 ms - 795[0m
[0mGET /api/nisab-year-records [32m200[0m 10.985 ms - 86[0m
[0mGET /api/nisab-year-records [32m200[0m 6.771 ms - -[0m
[0mGET /api/nisab-year-records?status=DRAFT [32m200[0m 3.764 ms - -[0m
[0mGET /api/nisab-year-records?status=FINALIZED [32m200[0m 3.086 ms - -[0m
[0mPOST /api/nisab-year-records/cmld83g2t00020gxh9ud617fw/finalize [32m200[0m 37.574 ms - -[0m
[0mGET /api/nisab-year-records?year=2025 [32m200[0m 4.617 ms - -[0m
[0mPOST /api/nisab-year-records/cmld83g5800060gxh6dfakz1c/finalize [33m409[0m 4.914 ms - 115[0m
[0mGET /api/nisab-year-records?status=ALL [32m200[0m 4.665 ms - -[0m
[0mGET /api/nisab-year-records [33m401[0m 0.406 ms - 94[0m
[0mGET /api/nisab-year-records [33m401[0m 0.585 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83g5800060gxh6dfakz1c/finalize [32m200[0m 29.900 ms - -[0m
[0mGET /api/nisab-year-records [32m200[0m 2.149 ms - 86[0m
[0mPOST /api/nisab-year-records/cmld83g6x000a0gxhtnzabd1j/finalize [33m409[0m 2.826 ms - 115[0m
[0mPOST /api/nisab-year-records/cmld83g7k000c0gxho7itrm3u/finalize [33m409[0m 3.828 ms - 115[0m
[0mGET /api/nisab-year-records/cmld83g7j000f0gxa7fq287ka [32m200[0m 10.288 ms - -[0m
[0mPOST /api/nisab-year-records/cmld83g86000e0gxhax26q6va/finalize [33m409[0m 2.391 ms - 96[0m
[0mPOST /api/nisab-year-records/00000000-0000-0000-0000-000000000000/finalize [33m404[0m 2.289 ms - 66[0m
[0mPOST /api/nisab-year-records/some-id/finalize [33m401[0m 0.347 ms - 94[0m
[0mPOST /api/auth/register [32m201[0m 379.216 ms - -[0m
[0mPOST /api/nisab-year-records [33m401[0m 10.560 ms - 91[0m
[0mPOST /api/nisab-year-records [33m401[0m 1.150 ms - 91[0m
[0mPOST /api/nisab-year-records [33m401[0m 0.573 ms - 91[0m
[0mPOST /api/nisab-year-records [33m401[0m 0.636 ms - 91[0m
[0mPOST /api/nisab-year-records [33m401[0m 0.712 ms - 94[0m
[0mPOST /api/nisab-year-records [33m401[0m 0.586 ms - 91[0m
[0mPOST /api/auth/login [32m200[0m 329.138 ms - -[0m
[0mGET /api/admin/system/status [32m200[0m 27.071 ms - 304[0m
[0mGET /api/admin/system/status/schema [32m200[0m 3.805 ms - 214[0m
[0mPOST /api/auth/register [32m201[0m 376.322 ms - -[0m
[0mPOST /api/auth/register [32m201[0m 337.114 ms - -[0m
[0mPOST /api/auth/login [32m200[0m 335.525 ms - -[0m
[0mPOST /api/admin/encryption/scan [32m200[0m 6.129 ms - 28[0m
[0mGET /api/admin/encryption/issues [32m200[0m 2.464 ms - 28[0m
[0mPOST /api/auth/login [32m200[0m 328.556 ms - -[0m
[0mGET /api/admin/system/status [33m403[0m 2.957 ms - 95[0m
[0mDELETE /api/nisab-year-records/cmld83jzy00020g17dqr71xkl [32m200[0m 17.726 ms - 56[0m
[0mDELETE /api/nisab-year-records/cmld83k1b00040g176rvwu4hx [32m200[0m 9.842 ms - 56[0m
[0mDELETE /api/nisab-year-records/cmld83k1x00060g17rsw6b65v [33m409[0m 4.873 ms - 137[0m
[0mDELETE /api/nisab-year-records/cmld83k2k00080g178p9apjpo [33m409[0m 2.897 ms - 137[0m
[0mDELETE /api/nisab-year-records/00000000-0000-0000-0000-000000000000 [33m404[0m 2.840 ms - 66[0m
[0mDELETE /api/nisab-year-records/some-id [33m401[0m 0.364 ms - 94[0m
[0mDELETE /api/nisab-year-records/cmld83k3d000a0g17ste43kah [33m404[0m 2.517 ms - 66[0m
[0mDELETE /api/nisab-year-records/cmld83kod00020g1y2l3cjr7j [33m401[0m 4.033 ms - 91[0m
[0mDELETE /api/nisab-year-records/cmld83kom00040g1yckrh1sif [33m401[0m 0.889 ms - 91[0m
[0mDELETE /api/nisab-year-records/nonexistent-id [33m401[0m 0.483 ms - 91[0m
[0mDELETE /api/nisab-year-records/cmld83kod00020g1y2l3cjr7j [33m401[0m 0.397 ms - 94[0m
[0mDELETE /api/nisab-year-records/cmld83kod00020g1y2l3cjr7j [33m401[0m 0.432 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83kql00020g2hu2a2y8hv/unlock [33m401[0m 12.100 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83kql00020g2hu2a2y8hv/unlock [33m401[0m 1.252 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83kql00020g2hu2a2y8hv/unlock [33m401[0m 0.666 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83kql00020g2hu2a2y8hv/unlock [33m401[0m 0.672 ms - 91[0m
[0mPOST /api/nisab-year-records/nonexistent-id/unlock [33m401[0m 0.683 ms - 91[0m
[0mPOST /api/nisab-year-records/cmld83kql00020g2hu2a2y8hv/unlock [33m401[0m 0.624 ms - 94[0m
[0mPOST /api/nisab-year-records/cmld83kql00020g2hu2a2y8hv/unlock [33m401[0m 0.629 ms - 91[0m
[0mPUT /api/nisab-year-records/cmld83m0i00020g3hw2sz1s5k [33m401[0m 11.538 ms - 91[0m
[0mPUT /api/nisab-year-records/cmld83m0i00020g3hw2sz1s5k [33m401[0m 1.234 ms - 91[0m
[0mPUT /api/nisab-year-records/cmld83m0i00020g3hw2sz1s5k [33m401[0m 0.702 ms - 91[0m
[0mPUT /api/nisab-year-records/cmld83m0i00020g3hw2sz1s5k [33m401[0m 0.693 ms - 91[0m
[0mPUT /api/nisab-year-records/nonexistent-id [33m401[0m 0.687 ms - 91[0m
[0mPUT /api/nisab-year-records/cmld83m0i00020g3hw2sz1s5k [33m401[0m 0.588 ms - 94[0m
[0mGET /api/nisab-year-records [32m200[0m 12.920 ms - 820[0m
[0mGET /api/nisab-year-records?status=DRAFT [32m200[0m 3.887 ms - 820[0m
[0mGET /api/nisab-year-records?year=2025 [32m200[0m 3.360 ms - 820[0m
[0mGET /api/nisab-year-records [33m401[0m 0.409 ms - 94[0m
[0mGET /api/nisab-year-records?status=FINALIZED&year=1900 [32m200[0m 5.765 ms - 86[0m
[0mPUT /api/nisab-year-records/cmld83ms300020g4oagaytitz [32m200[0m 38.463 ms - -[0m
[0mPUT /api/nisab-year-records/cmld83muc00060g4o0oe3nk0j [32m200[0m 21.880 ms - -[0m
[0mPUT /api/nisab-year-records/cmld83mvf000a0g4ot1hucux1 [32m200[0m 18.350 ms - -[0m
[0mPUT /api/nisab-year-records/cmld83mwi000e0g4o996upn0u [33m409[0m 6.972 ms - 94[0m
[0mPUT /api/nisab-year-records/00000000-0000-0000-0000-000000000000 [33m404[0m 5.690 ms - 66[0m
[0mPUT /api/nisab-year-records/some-id [33m401[0m 0.607 ms - 94[0m
{"numTotalTestSuites":420,"numPassedTestSuites":283,"numFailedTestSuites":137,"numPendingTestSuites":0,"numTotalTests":849,"numPassedTests":649,"numFailedTests":166,"numPendingTests":34,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1770523648619,"success":false,"testResults":[{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Playwright Test did not expect test.describe() to be called here.\nMost common reasons include:\n- You are calling test.describe() in a configuration file.\n- You are calling test.describe() in a file that is imported by the configuration file.\n- You have two different versions of @playwright/test. This usually happens\n  when one of the dependencies in your package.json depends on @playwright/test.","name":"/home/chuwi_agent/workspace/zakapp/tests/accessibility/a11y.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should require authentication","status":"passed","title":"should require authentication","duration":6.045724000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should delete asset and return standardized response","status":"passed","title":"should delete asset and return standardized response","duration":27.25137100000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should handle asset not found","status":"passed","title":"should handle asset not found","duration":4.5821679999999105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should handle unauthorized access to other users assets","status":"passed","title":"should handle unauthorized access to other users assets","duration":3.12558399999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should validate UUID format for asset ID","status":"passed","title":"should validate UUID format for asset ID","duration":4.661513999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should prevent deletion of asset with dependent zakat calculations","status":"skipped","title":"should prevent deletion of asset with dependent zakat calculations","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should verify asset is actually deleted from database","status":"passed","title":"should verify asset is actually deleted from database","duration":27.613718999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should create audit log entry for deletion","status":"passed","title":"should create audit log entry for deletion","duration":19.060597000000143,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should handle soft delete with recovery option","status":"passed","title":"should handle soft delete with recovery option","duration":21.48786199999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should handle force delete option for immediate permanent deletion","status":"passed","title":"should handle force delete option for immediate permanent deletion","duration":23.446336999999858,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should include deleted asset summary in response","status":"passed","title":"should include deleted asset summary in response","duration":19.231917000000067,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: DELETE /api/assets/:id","DELETE /api/assets/:id"],"fullName":"Contract Test: DELETE /api/assets/:id DELETE /api/assets/:id should handle concurrent deletion attempts","status":"passed","title":"should handle concurrent deletion attempts","duration":25.725738000000092,"failureMessages":[],"meta":{}}],"startTime":1770523666499,"endTime":1770523666682.7258,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/assets-delete.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should require authentication","status":"passed","title":"should require authentication","duration":6.935699999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should return user assets with standardized response format","status":"failed","title":"should return user assets with standardized response format","duration":0.9606170000001839,"failureMessages":["Error: App or auth token not available\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/assets-get.test.ts:71:15\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should return encrypted asset data with proper structure","status":"failed","title":"should return encrypted asset data with proper structure","duration":0.44253400000025067,"failureMessages":["Error: App or auth token not available\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/assets-get.test.ts:105:15\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should handle empty asset list correctly","status":"failed","title":"should handle empty asset list correctly","duration":3.9190269999999146,"failureMessages":["AssertionError: expected true to be false // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/assets-get.test.ts:147:22\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should reject invalid JWT tokens","status":"passed","title":"should reject invalid JWT tokens","duration":3.5723539999999048,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should reject expired JWT tokens","status":"passed","title":"should reject expired JWT tokens","duration":4.859677000000374,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: GET /api/assets","GET /api/assets"],"fullName":"Contract Test: GET /api/assets GET /api/assets should respect rate limiting","status":"failed","title":"should respect rate limiting","duration":0.7868400000002111,"failureMessages":["AssertionError: expected true to be false // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/assets-get.test.ts:198:22\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1770523663646,"endTime":1770523663667.7869,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/assets-get.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should require authentication","status":"skipped","title":"should require authentication","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should create asset with valid data and return standardized response","status":"skipped","title":"should create asset with valid data and return standardized response","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should validate required fields","status":"skipped","title":"should validate required fields","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should validate asset type enum","status":"skipped","title":"should validate asset type enum","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should validate currency format (ISO 4217)","status":"skipped","title":"should validate currency format (ISO 4217)","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should validate minimum asset value","status":"skipped","title":"should validate minimum asset value","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should validate description length limit","status":"skipped","title":"should validate description length limit","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/assets","POST /api/assets"],"fullName":"Contract Test: POST /api/assets POST /api/assets should handle all valid asset types","status":"skipped","title":"should handle all valid asset types","failureMessages":[],"meta":{}}],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/assets-post.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should require authentication","status":"skipped","title":"should require authentication","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should update asset with valid data and return standardized response","status":"skipped","title":"should update asset with valid data and return standardized response","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should handle asset not found","status":"skipped","title":"should handle asset not found","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should handle unauthorized access to other users assets","status":"skipped","title":"should handle unauthorized access to other users assets","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should validate asset value when provided","status":"skipped","title":"should validate asset value when provided","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should validate currency format when provided","status":"skipped","title":"should validate currency format when provided","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should validate description length when provided","status":"skipped","title":"should validate description length when provided","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should validate notes length when provided","status":"skipped","title":"should validate notes length when provided","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should not allow changing asset type","status":"skipped","title":"should not allow changing asset type","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should handle partial updates","status":"skipped","title":"should handle partial updates","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should handle empty update request","status":"skipped","title":"should handle empty update request","failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: PUT /api/assets/:id","PUT /api/assets/:id"],"fullName":"Contract Test: PUT /api/assets/:id PUT /api/assets/:id should validate UUID format for asset ID","status":"skipped","title":"should validate UUID format for asset ID","failureMessages":[],"meta":{}}],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/assets-put.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: POST /api/auth/login","POST /api/auth/login"],"fullName":"Contract Test: POST /api/auth/login POST /api/auth/login should accept valid login credentials and return standardized response","status":"passed","title":"should accept valid login credentials and return standardized response","duration":676.2825700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/login","POST /api/auth/login"],"fullName":"Contract Test: POST /api/auth/login POST /api/auth/login should reject invalid credentials with standardized error response","status":"passed","title":"should reject invalid credentials with standardized error response","duration":5.9177270000000135,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/login","POST /api/auth/login"],"fullName":"Contract Test: POST /api/auth/login POST /api/auth/login should validate required fields","status":"passed","title":"should validate required fields","duration":7.906891000000087,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/login","POST /api/auth/login"],"fullName":"Contract Test: POST /api/auth/login POST /api/auth/login should validate email format","status":"passed","title":"should validate email format","duration":3.9100079999998343,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/login","POST /api/auth/login"],"fullName":"Contract Test: POST /api/auth/login POST /api/auth/login should enforce minimum password length","status":"passed","title":"should enforce minimum password length","duration":5.04724299999998,"failureMessages":[],"meta":{}}],"startTime":1770523660505,"endTime":1770523661205.0474,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/auth-login.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should refresh tokens with valid refresh token and return standardized response","status":"failed","title":"should refresh tokens with valid refresh token and return standardized response","duration":1.6246040000000903,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should require refresh token in request body","status":"failed","title":"should require refresh token in request body","duration":0.40282200000001467,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle invalid refresh token format","status":"failed","title":"should handle invalid refresh token format","duration":0.2602990000000318,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle expired refresh token","status":"failed","title":"should handle expired refresh token","duration":0.25535100000024613,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle revoked refresh token","status":"failed","title":"should handle revoked refresh token","duration":0.3206199999999626,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle non-existent refresh token","status":"failed","title":"should handle non-existent refresh token","duration":0.24558500000011918,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle deactivated user account","status":"failed","title":"should handle deactivated user account","duration":0.2393059999999423,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should revoke old refresh token after successful refresh","status":"failed","title":"should revoke old refresh token after successful refresh","duration":0.27516300000024785,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should include user info in refresh response","status":"failed","title":"should include user info in refresh response","duration":0.3284169999997175,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should validate token rotation security","status":"failed","title":"should validate token rotation security","duration":0.29048899999997957,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle concurrent refresh attempts","status":"failed","title":"should handle concurrent refresh attempts","duration":0.2410610000001725,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should handle refresh rate limiting","status":"failed","title":"should handle refresh rate limiting","duration":0.27484899999990375,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/refresh","POST /api/auth/refresh"],"fullName":"Contract Test: POST /api/auth/refresh POST /api/auth/refresh should create audit log entry for token refresh","status":"failed","title":"should create audit log entry for token refresh","duration":0.22611300000016854,"failureMessages":["TypeError: resetAuthState is not a function\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts:78:5\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"meta":{}}],"startTime":1770523658160,"endTime":1770523658165.275,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/auth-refresh.test.ts"},{"assertionResults":[{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should register user with valid data and return standardized response","status":"failed","title":"should register user with valid data and return standardized response","duration":427.1030259999998,"failureMessages":["AssertionError: expected { â€¦(13) } to have property \"createdAt\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-register.test.ts:106:20\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should validate required fields","status":"passed","title":"should validate required fields","duration":18.49831600000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should validate email format","status":"passed","title":"should validate email format","duration":17.31789200000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should validate password strength requirements","status":"passed","title":"should validate password strength requirements","duration":25.500452999999652,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should validate password confirmation match","status":"passed","title":"should validate password confirmation match","duration":5.056725999999799,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should validate name fields format","status":"failed","title":"should validate name fields format","duration":348.8246570000001,"failureMessages":["Error: expected 400 \"Bad Request\", got 201 \"Created\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-register.test.ts:300:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should handle duplicate email registration","status":"passed","title":"should handle duplicate email registration","duration":342.35467900000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should normalize email to lowercase","status":"passed","title":"should normalize email to lowercase","duration":344.3808689999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should validate optional fields when provided","status":"passed","title":"should validate optional fields when provided","duration":328.4905609999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should create user audit log entry","status":"passed","title":"should create user audit log entry","duration":300.8286189999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Contract Test: POST /api/auth/register","POST /api/auth/register"],"fullName":"Contract Test: POST /api/auth/register POST /api/auth/register should handle registration rate limiting","status":"failed","title":"should handle registration rate limiting","duration":1527.8887409999998,"failureMessages":["Error: expected 201 \"Created\", got 429 \"Too Many Requests\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/auth-register.test.ts:462:10\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}}],"startTime":1770523654822,"endTime":1770523658508.8887,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/auth-register.test.ts"},{"assertionResults":[{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/convert"],"fullName":"Calendar API Contract Tests POST /api/calendar/convert should convert Gregorian date to Hijri","status":"passed","title":"should convert Gregorian date to Hijri","duration":10.79078699999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/convert"],"fullName":"Calendar API Contract Tests POST /api/calendar/convert should convert Hijri date to Gregorian","status":"passed","title":"should convert Hijri date to Gregorian","duration":5.211651000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/convert"],"fullName":"Calendar API Contract Tests POST /api/calendar/convert should reject missing date","status":"passed","title":"should reject missing date","duration":4.354996999999912,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/convert"],"fullName":"Calendar API Contract Tests POST /api/calendar/convert should reject invalid date format","status":"passed","title":"should reject invalid date format","duration":6.741196999999829,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/convert"],"fullName":"Calendar API Contract Tests POST /api/calendar/convert should reject same source and target calendar","status":"passed","title":"should reject same source and target calendar","duration":4.104765000000043,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/convert"],"fullName":"Calendar API Contract Tests POST /api/calendar/convert should require authentication","status":"passed","title":"should require authentication","duration":2.8415829999999005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/zakat-year"],"fullName":"Calendar API Contract Tests POST /api/calendar/zakat-year should calculate Hijri Zakat year (354 days)","status":"passed","title":"should calculate Hijri Zakat year (354 days)","duration":3.8429889999997613,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/zakat-year"],"fullName":"Calendar API Contract Tests POST /api/calendar/zakat-year should calculate Gregorian Zakat year (365 days)","status":"passed","title":"should calculate Gregorian Zakat year (365 days)","duration":4.042554999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/zakat-year"],"fullName":"Calendar API Contract Tests POST /api/calendar/zakat-year should reject missing referenceDate","status":"passed","title":"should reject missing referenceDate","duration":3.661622999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/zakat-year"],"fullName":"Calendar API Contract Tests POST /api/calendar/zakat-year should reject invalid calendar type","status":"passed","title":"should reject invalid calendar type","duration":2.94796099999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","POST /api/calendar/zakat-year"],"fullName":"Calendar API Contract Tests POST /api/calendar/zakat-year should require authentication","status":"passed","title":"should require authentication","duration":2.4526599999999235,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","GET /api/calendar/preference"],"fullName":"Calendar API Contract Tests GET /api/calendar/preference should return user calendar preference","status":"passed","title":"should return user calendar preference","duration":10.359046000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","GET /api/calendar/preference"],"fullName":"Calendar API Contract Tests GET /api/calendar/preference should require authentication","status":"passed","title":"should require authentication","duration":4.138304999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","PUT /api/calendar/preference"],"fullName":"Calendar API Contract Tests PUT /api/calendar/preference should update calendar preference to HIJRI","status":"passed","title":"should update calendar preference to HIJRI","duration":13.646698999999899,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","PUT /api/calendar/preference"],"fullName":"Calendar API Contract Tests PUT /api/calendar/preference should update calendar preference to GREGORIAN","status":"passed","title":"should update calendar preference to GREGORIAN","duration":8.08326199999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","PUT /api/calendar/preference"],"fullName":"Calendar API Contract Tests PUT /api/calendar/preference should reject invalid calendar preference","status":"passed","title":"should reject invalid calendar preference","duration":2.7655730000001313,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","PUT /api/calendar/preference"],"fullName":"Calendar API Contract Tests PUT /api/calendar/preference should reject missing calendarPreference","status":"passed","title":"should reject missing calendarPreference","duration":2.8382510000001275,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calendar API Contract Tests","PUT /api/calendar/preference"],"fullName":"Calendar API Contract Tests PUT /api/calendar/preference should require authentication","status":"passed","title":"should require authentication","duration":2.1328379999999925,"failureMessages":[],"meta":{}}],"startTime":1770523660834,"endTime":1770523660930.1328,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/calendar.contract.test.ts"},{"assertionResults":[{"ancestorTitles":["Methodology Configuration Contract Tests","GET /api/methodologies"],"fullName":"Methodology Configuration Contract Tests GET /api/methodologies returns all available methodologies","status":"passed","title":"returns all available methodologies","duration":14.894150999999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","GET /api/methodologies"],"fullName":"Methodology Configuration Contract Tests GET /api/methodologies requires authentication","status":"passed","title":"requires authentication","duration":4.564099000000169,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","GET /api/methodologies/:id"],"fullName":"Methodology Configuration Contract Tests GET /api/methodologies/:id returns specific methodology configuration","status":"passed","title":"returns specific methodology configuration","duration":5.6982509999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","GET /api/methodologies/:id"],"fullName":"Methodology Configuration Contract Tests GET /api/methodologies/:id returns 404 for unknown methodology","status":"passed","title":"returns 404 for unknown methodology","duration":4.954283000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","PUT /api/methodologies/:id"],"fullName":"Methodology Configuration Contract Tests PUT /api/methodologies/:id updates methodology configuration","status":"passed","title":"updates methodology configuration","duration":5.219109000000117,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","POST /api/methodologies/custom"],"fullName":"Methodology Configuration Contract Tests POST /api/methodologies/custom returns 404 for unknown methodology","status":"passed","title":"returns 404 for unknown methodology","duration":4.629290999999739,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","PUT /api/methodologies/:id"],"fullName":"Methodology Configuration Contract Tests PUT /api/methodologies/:id updates methodology configuration","status":"passed","title":"updates methodology configuration","duration":26.278929000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","PUT /api/methodologies/:id"],"fullName":"Methodology Configuration Contract Tests PUT /api/methodologies/:id validates nisab thresholds are positive","status":"passed","title":"validates nisab thresholds are positive","duration":4.703107999999702,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","PUT /api/methodologies/:id"],"fullName":"Methodology Configuration Contract Tests PUT /api/methodologies/:id validates methodology ID exists","status":"passed","title":"validates methodology ID exists","duration":4.120629000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","POST /api/methodologies/custom"],"fullName":"Methodology Configuration Contract Tests POST /api/methodologies/custom creates custom methodology","status":"passed","title":"creates custom methodology","duration":11.12087799999972,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","POST /api/methodologies/custom"],"fullName":"Methodology Configuration Contract Tests POST /api/methodologies/custom validates required fields","status":"passed","title":"validates required fields","duration":3.7037860000000364,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","DELETE /api/methodologies/custom/:id"],"fullName":"Methodology Configuration Contract Tests DELETE /api/methodologies/custom/:id deletes custom methodology","status":"passed","title":"deletes custom methodology","duration":20.763398999999936,"failureMessages":[],"meta":{}},{"ancestorTitles":["Methodology Configuration Contract Tests","DELETE /api/methodologies/custom/:id"],"fullName":"Methodology Configuration Contract Tests DELETE /api/methodologies/custom/:id cannot delete fixed methodologies","status":"passed","title":"cannot delete fixed methodologies","duration":2.95479000000023,"failureMessages":[],"meta":{}}],"startTime":1770523663901,"endTime":1770523664015.9548,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/methodology-config.contract.test.ts"},{"assertionResults":[{"ancestorTitles":["DELETE /api/nisab-year-records/:id"],"fullName":"DELETE /api/nisab-year-records/:id should delete a DRAFT record","status":"failed","title":"should delete a DRAFT record","duration":31.884799000000385,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.delete.test.ts:92:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id"],"fullName":"DELETE /api/nisab-year-records/:id should not delete FINALIZED records","status":"failed","title":"should not delete FINALIZED records","duration":5.967640000000301,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.delete.test.ts:102:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id"],"fullName":"DELETE /api/nisab-year-records/:id should return 404 for non-existent record","status":"failed","title":"should return 404 for non-existent record","duration":5.528001000000131,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.delete.test.ts:112:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id"],"fullName":"DELETE /api/nisab-year-records/:id should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":6.788739000000078,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.delete.test.ts:121:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id"],"fullName":"DELETE /api/nisab-year-records/:id should not return deleted record in subsequent GET","status":"passed","title":"should not return deleted record in subsequent GET","duration":4.623231999999916,"failureMessages":[],"meta":{}}],"startTime":1770523703166,"endTime":1770523703221.6233,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.delete.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize"],"fullName":"POST /api/nisab-year-records/:id/finalize should finalize a DRAFT record when Hawl is complete","status":"failed","title":"should finalize a DRAFT record when Hawl is complete","duration":39.15938300000016,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.finalize.test.ts:95:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize"],"fullName":"POST /api/nisab-year-records/:id/finalize should not finalize when Hawl is incomplete","status":"failed","title":"should not finalize when Hawl is incomplete","duration":5.908937000000151,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.finalize.test.ts:112:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize"],"fullName":"POST /api/nisab-year-records/:id/finalize should allow override with acknowledgePremature flag","status":"failed","title":"should allow override with acknowledgePremature flag","duration":5.114681000000019,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.finalize.test.ts:126:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize"],"fullName":"POST /api/nisab-year-records/:id/finalize should return 404 for non-existent record","status":"failed","title":"should return 404 for non-existent record","duration":5.110364000000118,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.finalize.test.ts:136:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize"],"fullName":"POST /api/nisab-year-records/:id/finalize should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":6.575347999999849,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.finalize.test.ts:146:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize"],"fullName":"POST /api/nisab-year-records/:id/finalize should create audit trail entry for finalization","status":"passed","title":"should create audit trail entry for finalization","duration":3.875850000000355,"failureMessages":[],"meta":{}}],"startTime":1770523691981,"endTime":1770523692046.8757,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.finalize.test.ts"},{"assertionResults":[{"ancestorTitles":["GET /api/nisab-year-records"],"fullName":"GET /api/nisab-year-records should return 200 with all records for authenticated user","status":"failed","title":"should return 200 with all records for authenticated user","duration":40.10888299999988,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.get.test.ts:82:42\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records"],"fullName":"GET /api/nisab-year-records should filter records by status=DRAFT","status":"failed","title":"should filter records by status=DRAFT","duration":12.835321000000022,"failureMessages":["AssertionError: expected { records: [ { â€¦(28) } ], â€¦(4) } to deeply equal ArrayContaining{â€¦}\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.get.test.ts:100:27\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records"],"fullName":"GET /api/nisab-year-records should filter records by year parameter","status":"failed","title":"should filter records by year parameter","duration":8.852044000000205,"failureMessages":["TypeError: actual value must be number or bigint, received \"undefined\"\n    at assertTypes (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/utils/dist/helpers.js:25:9)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1210:3)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.get.test.ts:117:34\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records"],"fullName":"GET /api/nisab-year-records should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":4.909512000000177,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.get.test.ts:125:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records"],"fullName":"GET /api/nisab-year-records should return empty array when no records match filter","status":"failed","title":"should return empty array when no records match filter","duration":10.744076000000405,"failureMessages":["AssertionError: expected { records: [], total: +0, â€¦(3) } to deeply equal []\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.get.test.ts:134:27\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523705745,"endTime":1770523705822.7441,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.get.test.ts"},{"assertionResults":[{"ancestorTitles":["GET /api/nisab-year-records/:id"],"fullName":"GET /api/nisab-year-records/:id should return 200 with record details","status":"failed","title":"should return 200 with record details","duration":31.53799799999979,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts:70:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id"],"fullName":"GET /api/nisab-year-records/:id should include audit trail in response","status":"failed","title":"should include audit trail in response","duration":5.547156000000086,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts:87:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id"],"fullName":"GET /api/nisab-year-records/:id should include live tracking fields for DRAFT records","status":"failed","title":"should include live tracking fields for DRAFT records","duration":4.676621999999952,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts:97:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id"],"fullName":"GET /api/nisab-year-records/:id should return 404 for non-existent record","status":"failed","title":"should return 404 for non-existent record","duration":4.2843370000000505,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts:109:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id"],"fullName":"GET /api/nisab-year-records/:id should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":5.9428750000001855,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts:118:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id"],"fullName":"GET /api/nisab-year-records/:id should not return records of other users","status":"failed","title":"should not return records of other users","duration":9.78098799999998,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts:133:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523694648,"endTime":1770523694709.781,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.getById.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/nisab-year-records"],"fullName":"POST /api/nisab-year-records should create a new DRAFT record with valid data","status":"failed","title":"should create a new DRAFT record with valid data","duration":35.692315000000235,"failureMessages":["AssertionError: expected 401 to be 201 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts:51:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records"],"fullName":"POST /api/nisab-year-records should reject request without required hawlStartDate","status":"failed","title":"should reject request without required hawlStartDate","duration":5.486139999999978,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts:69:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records"],"fullName":"POST /api/nisab-year-records should reject request without required nisabBasis","status":"failed","title":"should reject request without required nisabBasis","duration":4.298625999999786,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts:82:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records"],"fullName":"POST /api/nisab-year-records should reject invalid nisabBasis value","status":"failed","title":"should reject invalid nisabBasis value","duration":5.1483180000000175,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts:95:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records"],"fullName":"POST /api/nisab-year-records should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":6.046421999999893,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts:108:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records"],"fullName":"POST /api/nisab-year-records should calculate nisabThresholdAtStart if not provided","status":"failed","title":"should calculate nisabThresholdAtStart if not provided","duration":3.822834999999941,"failureMessages":["AssertionError: expected 401 to be 201 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts:121:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523699829,"endTime":1770523699889.8228,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.post.test.ts"},{"assertionResults":[{"ancestorTitles":["PUT /api/nisab-year-records/:id"],"fullName":"PUT /api/nisab-year-records/:id should update record fields for DRAFT status","status":"failed","title":"should update record fields for DRAFT status","duration":38.54557399999976,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts:71:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id"],"fullName":"PUT /api/nisab-year-records/:id should transition from DRAFT to FINALIZED","status":"failed","title":"should transition from DRAFT to FINALIZED","duration":6.008581999999933,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts:84:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id"],"fullName":"PUT /api/nisab-year-records/:id should require unlock reason when transitioning to UNLOCKED","status":"failed","title":"should require unlock reason when transitioning to UNLOCKED","duration":5.256207000000359,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts:97:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id"],"fullName":"PUT /api/nisab-year-records/:id should reject invalid status transitions","status":"failed","title":"should reject invalid status transitions","duration":4.474695000000338,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts:109:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id"],"fullName":"PUT /api/nisab-year-records/:id should return 404 for non-existent record","status":"failed","title":"should return 404 for non-existent record","duration":4.523207000000184,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts:121:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id"],"fullName":"PUT /api/nisab-year-records/:id should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":6.040430999999899,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts:133:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523704888,"endTime":1770523704953.0405,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.put.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should unlock a FINALIZED record with valid reason","status":"failed","title":"should unlock a FINALIZED record with valid reason","duration":40.03468699999985,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.unlock.test.ts:70:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should reject unlock reason shorter than 10 characters","status":"failed","title":"should reject unlock reason shorter than 10 characters","duration":6.165821000000051,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.unlock.test.ts:83:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should reject unlock without reason","status":"failed","title":"should reject unlock without reason","duration":4.813514999999825,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.unlock.test.ts:94:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should create audit trail entry with unlock reason","status":"passed","title":"should create audit trail entry with unlock reason","duration":3.8572110000000066,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should return 404 for non-existent record","status":"failed","title":"should return 404 for non-existent record","duration":5.152642999999898,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.unlock.test.ts:122:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should return 401 for unauthenticated request","status":"failed","title":"should return 401 for unauthenticated request","duration":5.987619999999879,"failureMessages":["AssertionError: expected { success: false, error: { â€¦(2) } } to have property \"error\" with value 'UNAUTHORIZED'\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.unlock.test.ts:134:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock should return encrypted unlock reason in audit trail","status":"passed","title":"should return encrypted unlock reason in audit trail","duration":3.338248999999905,"failureMessages":[],"meta":{}}],"startTime":1770523703238,"endTime":1770523703308.3381,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/nisabYearRecords.unlock.test.ts"},{"assertionResults":[{"ancestorTitles":["Payment Records Contract Tests","POST /api/zakat/payments"],"fullName":"Payment Records Contract Tests POST /api/zakat/payments should create new payment record with valid data","status":"failed","title":"should create new payment record with valid data","duration":670.5055150000001,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:50:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","POST /api/zakat/payments"],"fullName":"Payment Records Contract Tests POST /api/zakat/payments should create payment record with minimal data","status":"failed","title":"should create payment record with minimal data","duration":610.3865099999998,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:76:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","POST /api/zakat/payments"],"fullName":"Payment Records Contract Tests POST /api/zakat/payments should return 400 for invalid amount","status":"failed","title":"should return 400 for invalid amount","duration":605.0365649999999,"failureMessages":["AssertionError: expected { code: 'VALIDATION_ERROR', â€¦(2) } to be 'VALIDATION_ERROR' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:99:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","POST /api/zakat/payments"],"fullName":"Payment Records Contract Tests POST /api/zakat/payments should return 400 for missing required fields","status":"failed","title":"should return 400 for missing required fields","duration":601.0296389999999,"failureMessages":["AssertionError: expected { code: 'VALIDATION_ERROR', â€¦(2) } to be 'VALIDATION_ERROR' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:115:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","POST /api/zakat/payments"],"fullName":"Payment Records Contract Tests POST /api/zakat/payments should return 401 for unauthorized request","status":"failed","title":"should return 401 for unauthorized request","duration":680.9593530000002,"failureMessages":["AssertionError: expected { code: 'UNAUTHORIZED', â€¦(1) } to be 'UNAUTHORIZED' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:131:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","GET /api/zakat/payments"],"fullName":"Payment Records Contract Tests GET /api/zakat/payments should return paginated list of payments","status":"failed","title":"should return paginated list of payments","duration":690.6891500000002,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:174:53\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","GET /api/zakat/payments"],"fullName":"Payment Records Contract Tests GET /api/zakat/payments should filter payments by year","status":"failed","title":"should filter payments by year","duration":674.3441220000004,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:191:53\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","GET /api/zakat/payments"],"fullName":"Payment Records Contract Tests GET /api/zakat/payments should support pagination","status":"failed","title":"should support pagination","duration":660.5244039999998,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:206:53\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","GET /api/zakat/payments"],"fullName":"Payment Records Contract Tests GET /api/zakat/payments should return 401 for unauthorized request","status":"failed","title":"should return 401 for unauthorized request","duration":656.1675880000003,"failureMessages":["AssertionError: expected { code: 'UNAUTHORIZED', â€¦(1) } to be 'UNAUTHORIZED' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:217:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","PUT /api/zakat/payments/:id"],"fullName":"Payment Records Contract Tests PUT /api/zakat/payments/:id should update payment record","status":"failed","title":"should update payment record","duration":666.351807,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:235:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","PUT /api/zakat/payments/:id"],"fullName":"Payment Records Contract Tests PUT /api/zakat/payments/:id should return 404 for non-existent payment","status":"failed","title":"should return 404 for non-existent payment","duration":678.3562250000014,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:235:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","PUT /api/zakat/payments/:id"],"fullName":"Payment Records Contract Tests PUT /api/zakat/payments/:id should return 401 for unauthorized request","status":"failed","title":"should return 401 for unauthorized request","duration":689.9555889999992,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:235:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","DELETE /api/zakat/payments/:id"],"fullName":"Payment Records Contract Tests DELETE /api/zakat/payments/:id should soft delete payment record","status":"failed","title":"should soft delete payment record","duration":682.0922759999994,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:301:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","DELETE /api/zakat/payments/:id"],"fullName":"Payment Records Contract Tests DELETE /api/zakat/payments/:id should return 404 for non-existent payment","status":"failed","title":"should return 404 for non-existent payment","duration":660.1862170000004,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:301:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","DELETE /api/zakat/payments/:id"],"fullName":"Payment Records Contract Tests DELETE /api/zakat/payments/:id should return 401 for unauthorized request","status":"failed","title":"should return 401 for unauthorized request","duration":662.4295120000006,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:301:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","Receipt URL Generation"],"fullName":"Payment Records Contract Tests Receipt URL Generation should generate valid receipt URL","status":"failed","title":"should generate valid receipt URL","duration":645.8851140000006,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:358:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}},{"ancestorTitles":["Payment Records Contract Tests","Receipt URL Generation"],"fullName":"Payment Records Contract Tests Receipt URL Generation should allow access to receipt via generated URL","status":"failed","title":"should allow access to receipt via generated URL","duration":692.0426900000002,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at /home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts:358:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:309:14)\n    at /home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/chuwi_agent/workspace/zakapp/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"meta":{}}],"startTime":1770523668493,"endTime":1770523679721.0427,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/contract/payment-records.contract.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Cannot find module '../../../shared/src/index' imported from '/home/chuwi_agent/workspace/zakapp/tests/integration/asset-management-enhancements.test.ts'","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/asset-management-enhancements.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/asset-management.test.ts"},{"assertionResults":[{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return current assets for DRAFT record","status":"skipped","title":"should return current assets for DRAFT record","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 400 for FINALIZED record","status":"skipped","title":"should return 400 for FINALIZED record","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 400 for UNLOCKED record","status":"skipped","title":"should return 400 for UNLOCKED record","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 404 for non-existent record","status":"skipped","title":"should return 404 for non-existent record","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 403 when accessing another user's record","status":"skipped","title":"should return 403 when accessing another user's record","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should handle assets deleted after record creation","status":"skipped","title":"should handle assets deleted after record creation","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should only return zakatable assets","status":"skipped","title":"should only return zakatable assets","failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should require authentication","status":"skipped","title":"should require authentication","failureMessages":[],"meta":{}}],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/assetRefresh.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/errorHandling.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/finalization.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Cannot find module '../../server/src/services/HawlTrackingService' imported from '/home/chuwi_agent/workspace/zakapp/tests/integration/hawlDetectionAssets.test.ts'","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/hawlDetectionAssets.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/hawlInterruption.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/liveWealth.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/nisabAchievement.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/statusTransitions.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/unlockEditRefinalize.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/integration/user-registration.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Invalid enum value: __esModule","name":"/home/chuwi_agent/workspace/zakapp/tests/performance/api-performance.test.ts"},{"assertionResults":[{"ancestorTitles":["Implementation Task T023: EncryptionService","Core Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Core Encryption/Decryption should encrypt and decrypt data successfully","status":"passed","title":"should encrypt and decrypt data successfully","duration":3.5839210000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Core Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Core Encryption/Decryption should generate different encrypted values for the same plaintext","status":"passed","title":"should generate different encrypted values for the same plaintext","duration":0.8614489999999932,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Core Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Core Encryption/Decryption should throw error for empty plaintext","status":"failed","title":"should throw error for empty plaintext","duration":9.47896,"failureMessages":["Error: promise resolved \"'XDFO3jPtkmILSqpF::GhIr3dBHoTSLvSF6fEqâ€¦'\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1645:22)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/EncryptionService.test.ts:31:54\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Core Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Core Encryption/Decryption should throw error for empty key","status":"failed","title":"should throw error for empty key","duration":0.9948500000000138,"failureMessages":["TypeError: You must provide a Promise to expect() when using .rejects, not 'object'.\n    at _Assertion.__VITEST_REJECTS__ (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1620:10)\n    at _Assertion.propertyGetter (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1645:22)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/EncryptionService.test.ts:35:57\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Core Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Core Encryption/Decryption should throw error for invalid encrypted data format","status":"passed","title":"should throw error for invalid encrypted data format","duration":1.350201999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Object Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Object Encryption/Decryption should encrypt and decrypt objects successfully","status":"passed","title":"should encrypt and decrypt objects successfully","duration":1.052658000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Object Encryption/Decryption"],"fullName":"Implementation Task T023: EncryptionService Object Encryption/Decryption should handle complex nested objects","status":"passed","title":"should handle complex nested objects","duration":0.555529000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Key Management"],"fullName":"Implementation Task T023: EncryptionService Key Management should generate secure random keys","status":"passed","title":"should generate secure random keys","duration":0.45790200000001846,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Key Management"],"fullName":"Implementation Task T023: EncryptionService Key Management should derive keys from passwords using PBKDF2","status":"passed","title":"should derive keys from passwords using PBKDF2","duration":132.700199,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Key Management"],"fullName":"Implementation Task T023: EncryptionService Key Management should generate different keys for different salts","status":"passed","title":"should generate different keys for different salts","duration":128.940947,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Key Management"],"fullName":"Implementation Task T023: EncryptionService Key Management should generate cryptographically secure salts","status":"passed","title":"should generate cryptographically secure salts","duration":0.34904699999998456,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Key Management"],"fullName":"Implementation Task T023: EncryptionService Key Management should reject empty password for key derivation","status":"passed","title":"should reject empty password for key derivation","duration":0.4116849999999772,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Key Management"],"fullName":"Implementation Task T023: EncryptionService Key Management should reject empty salt for key derivation","status":"passed","title":"should reject empty salt for key derivation","duration":0.27785299999999324,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Hashing and Verification"],"fullName":"Implementation Task T023: EncryptionService Hashing and Verification should create consistent SHA-256 hashes","status":"passed","title":"should create consistent SHA-256 hashes","duration":0.5150120000000129,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Hashing and Verification"],"fullName":"Implementation Task T023: EncryptionService Hashing and Verification should create different hashes for different data","status":"passed","title":"should create different hashes for different data","duration":0.14819199999999455,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Hashing and Verification"],"fullName":"Implementation Task T023: EncryptionService Hashing and Verification should verify hashes correctly","status":"passed","title":"should verify hashes correctly","duration":0.22126599999995733,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Hashing and Verification"],"fullName":"Implementation Task T023: EncryptionService Hashing and Verification should handle empty data in hash verification","status":"passed","title":"should handle empty data in hash verification","duration":0.13079399999998031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Hashing and Verification"],"fullName":"Implementation Task T023: EncryptionService Hashing and Verification should throw error for empty data hashing","status":"passed","title":"should throw error for empty data hashing","duration":0.22834199999999782,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Islamic Compliance Features"],"fullName":"Implementation Task T023: EncryptionService Islamic Compliance Features should encrypt asset data with integrity checks","status":"passed","title":"should encrypt asset data with integrity checks","duration":1.0282809999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Islamic Compliance Features"],"fullName":"Implementation Task T023: EncryptionService Islamic Compliance Features should validate asset data integrity","status":"failed","title":"should validate asset data integrity","duration":3.95357400000006,"failureMessages":["Error: promise resolved \"{ type: 'gold', value: 50000, â€¦(2) }\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1645:22)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/EncryptionService.test.ts:216:78\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Islamic Compliance Features"],"fullName":"Implementation Task T023: EncryptionService Islamic Compliance Features should include timestamp in encrypted asset data","status":"passed","title":"should include timestamp in encrypted asset data","duration":0.5086719999999332,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Security Features"],"fullName":"Implementation Task T023: EncryptionService Security Features should detect encrypted data format","status":"passed","title":"should detect encrypted data format","duration":0.5270430000000488,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Security Features"],"fullName":"Implementation Task T023: EncryptionService Security Features should normalize keys correctly","status":"passed","title":"should normalize keys correctly","duration":0.5114019999999755,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Security Features"],"fullName":"Implementation Task T023: EncryptionService Security Features should validate encryption configuration","status":"failed","title":"should validate encryption configuration","duration":4.177716000000032,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/EncryptionService.test.ts:281:23\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Security Features"],"fullName":"Implementation Task T023: EncryptionService Security Features should handle key length variations","status":"passed","title":"should handle key length variations","duration":0.6247079999999414,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Error Handling"],"fullName":"Implementation Task T023: EncryptionService Error Handling should provide meaningful error messages","status":"failed","title":"should provide meaningful error messages","duration":0.8214530000000195,"failureMessages":["Error: promise resolved \"'bKVdjrjWq+nXszAm::cLBPWZIhm0thUwekG88â€¦'\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1645:22)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/EncryptionService.test.ts:306:54\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Error Handling"],"fullName":"Implementation Task T023: EncryptionService Error Handling should handle malformed encrypted data gracefully","status":"passed","title":"should handle malformed encrypted data gracefully","duration":0.5504070000000638,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Performance and Scalability"],"fullName":"Implementation Task T023: EncryptionService Performance and Scalability should handle large data encryption efficiently","status":"passed","title":"should handle large data encryption efficiently","duration":0.5622110000000475,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T023: EncryptionService","Performance and Scalability"],"fullName":"Implementation Task T023: EncryptionService Performance and Scalability should handle multiple concurrent encryptions","status":"passed","title":"should handle multiple concurrent encryptions","duration":0.5232750000000124,"failureMessages":[],"meta":{}}],"startTime":1770523664276,"endTime":1770523664573.5232,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/EncryptionService.test.ts"},{"assertionResults":[{"ancestorTitles":["Implementation Task T024: JWT Service","Token Creation"],"fullName":"Implementation Task T024: JWT Service Token Creation should create access token with user information","status":"passed","title":"should create access token with user information","duration":5.588563000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Creation"],"fullName":"Implementation Task T024: JWT Service Token Creation should create refresh token","status":"passed","title":"should create refresh token","duration":1.4834960000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Creation"],"fullName":"Implementation Task T024: JWT Service Token Creation should create token pair","status":"passed","title":"should create token pair","duration":1.3972400000000107,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Verification"],"fullName":"Implementation Task T024: JWT Service Token Verification should verify valid access token","status":"passed","title":"should verify valid access token","duration":2.6994510000000105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Verification"],"fullName":"Implementation Task T024: JWT Service Token Verification should verify valid refresh token","status":"passed","title":"should verify valid refresh token","duration":1.2892310000000293,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Verification"],"fullName":"Implementation Task T024: JWT Service Token Verification should throw error for invalid access token","status":"passed","title":"should throw error for invalid access token","duration":1.3635940000000346,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Verification"],"fullName":"Implementation Task T024: JWT Service Token Verification should throw error for invalid refresh token","status":"passed","title":"should throw error for invalid refresh token","duration":0.6181909999999675,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Verification"],"fullName":"Implementation Task T024: JWT Service Token Verification should throw error for wrong token type","status":"passed","title":"should throw error for wrong token type","duration":1.1105790000000297,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Refresh"],"fullName":"Implementation Task T024: JWT Service Token Refresh should refresh access token with valid refresh token","status":"passed","title":"should refresh access token with valid refresh token","duration":1.710331999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Refresh"],"fullName":"Implementation Task T024: JWT Service Token Refresh should throw error when refreshing with invalid token","status":"passed","title":"should throw error when refreshing with invalid token","duration":0.5836060000000316,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Header Extraction"],"fullName":"Implementation Task T024: JWT Service Header Extraction should extract token from valid authorization header","status":"passed","title":"should extract token from valid authorization header","duration":0.3559789999999907,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Header Extraction"],"fullName":"Implementation Task T024: JWT Service Header Extraction should throw error for missing authorization header","status":"passed","title":"should throw error for missing authorization header","duration":0.44959800000003725,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Header Extraction"],"fullName":"Implementation Task T024: JWT Service Header Extraction should throw error for invalid header format","status":"passed","title":"should throw error for invalid header format","duration":0.4372640000000274,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Utilities"],"fullName":"Implementation Task T024: JWT Service Token Utilities should decode token without verification","status":"passed","title":"should decode token without verification","duration":0.7726899999999546,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Utilities"],"fullName":"Implementation Task T024: JWT Service Token Utilities should check if token is expired","status":"passed","title":"should check if token is expired","duration":0.6195210000000202,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Utilities"],"fullName":"Implementation Task T024: JWT Service Token Utilities should get token expiration time","status":"passed","title":"should get token expiration time","duration":0.8120010000000093,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Token Utilities"],"fullName":"Implementation Task T024: JWT Service Token Utilities should return null for invalid token expiration","status":"passed","title":"should return null for invalid token expiration","duration":0.3033659999999827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Configuration Validation"],"fullName":"Implementation Task T024: JWT Service Configuration Validation should validate JWT configuration","status":"passed","title":"should validate JWT configuration","duration":0.9806590000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Singleton Instance"],"fullName":"Implementation Task T024: JWT Service Singleton Instance should export singleton instance","status":"passed","title":"should export singleton instance","duration":0.4265460000000303,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Singleton Instance"],"fullName":"Implementation Task T024: JWT Service Singleton Instance should work with singleton instance","status":"passed","title":"should work with singleton instance","duration":0.6384270000000356,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Security Features"],"fullName":"Implementation Task T024: JWT Service Security Features should generate different tokens for same user","status":"passed","title":"should generate different tokens for same user","duration":0.7756369999999606,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Security Features"],"fullName":"Implementation Task T024: JWT Service Security Features should generate refresh tokens with unique nonces","status":"passed","title":"should generate refresh tokens with unique nonces","duration":0.8929000000000542,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Security Features"],"fullName":"Implementation Task T024: JWT Service Security Features should include proper JWT claims","status":"passed","title":"should include proper JWT claims","duration":0.7702750000000265,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Error Handling"],"fullName":"Implementation Task T024: JWT Service Error Handling should handle malformed tokens gracefully","status":"passed","title":"should handle malformed tokens gracefully","duration":0.4947609999999827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T024: JWT Service","Error Handling"],"fullName":"Implementation Task T024: JWT Service Error Handling should provide meaningful error messages","status":"passed","title":"should provide meaningful error messages","duration":0.6029469999999719,"failureMessages":[],"meta":{}}],"startTime":1770523710613,"endTime":1770523710641.603,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/JWTService.test.ts"},{"assertionResults":[{"ancestorTitles":["Implementation Task T025: Validation Middleware","Validation Error Handling"],"fullName":"Implementation Task T025: Validation Middleware Validation Error Handling should pass to next middleware when no validation errors","status":"passed","title":"should pass to next middleware when no validation errors","duration":2.5619179999999915,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Validation Error Handling"],"fullName":"Implementation Task T025: Validation Middleware Validation Error Handling should return 400 with validation errors","status":"passed","title":"should return 400 with validation errors","duration":0.5787290000000098,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation with Zod"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation with Zod should validate user registration schema successfully","status":"passed","title":"should validate user registration schema successfully","duration":2.1382980000000202,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation with Zod"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation with Zod should reject invalid user registration data","status":"passed","title":"should reject invalid user registration data","duration":2.9572000000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation with Zod"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation with Zod should validate asset creation schema successfully","status":"passed","title":"should validate asset creation schema successfully","duration":1.2810799999999745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation with Zod"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation with Zod should reject invalid asset category","status":"passed","title":"should reject invalid asset category","duration":0.9846889999999462,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation with Zod"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation with Zod should validate Zakat calculation schema","status":"passed","title":"should validate Zakat calculation schema","duration":0.5416319999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation with Zod"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation with Zod should reject invalid methodology","status":"passed","title":"should reject invalid methodology","duration":0.690667000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Input Sanitization"],"fullName":"Implementation Task T025: Validation Middleware Input Sanitization should trim whitespace from request body strings","status":"passed","title":"should trim whitespace from request body strings","duration":0.6374800000000391,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Input Sanitization"],"fullName":"Implementation Task T025: Validation Middleware Input Sanitization should trim whitespace from query parameters","status":"passed","title":"should trim whitespace from query parameters","duration":0.4760360000000219,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Input Sanitization"],"fullName":"Implementation Task T025: Validation Middleware Input Sanitization should handle arrays in sanitization","status":"passed","title":"should handle arrays in sanitization","duration":0.5803000000000225,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Input Sanitization"],"fullName":"Implementation Task T025: Validation Middleware Input Sanitization should preserve non-string values","status":"passed","title":"should preserve non-string values","duration":0.5364450000000147,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Rate Limiting"],"fullName":"Implementation Task T025: Validation Middleware Rate Limiting should allow requests within limit","status":"passed","title":"should allow requests within limit","duration":0.5076949999999556,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Rate Limiting"],"fullName":"Implementation Task T025: Validation Middleware Rate Limiting should block requests exceeding limit","status":"passed","title":"should block requests exceeding limit","duration":0.6317880000000287,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Rate Limiting"],"fullName":"Implementation Task T025: Validation Middleware Rate Limiting should use IP address when userId not available","status":"passed","title":"should use IP address when userId not available","duration":0.3760629999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation Edge Cases"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation Edge Cases should handle validation errors gracefully","status":"passed","title":"should handle validation errors gracefully","duration":0.47335899999995945,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Schema Validation Edge Cases"],"fullName":"Implementation Task T025: Validation Middleware Schema Validation Edge Cases should replace request body with validated data","status":"passed","title":"should replace request body with validated data","duration":1.1683820000000082,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Constitutional Compliance"],"fullName":"Implementation Task T025: Validation Middleware Constitutional Compliance should support Islamic calculation methodologies","status":"passed","title":"should support Islamic calculation methodologies","duration":0.8039420000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Constitutional Compliance"],"fullName":"Implementation Task T025: Validation Middleware Constitutional Compliance should enforce minimum password length","status":"passed","title":"should enforce minimum password length","duration":1.0050980000000322,"failureMessages":[],"meta":{}},{"ancestorTitles":["Implementation Task T025: Validation Middleware","Constitutional Compliance"],"fullName":"Implementation Task T025: Validation Middleware Constitutional Compliance should validate currency codes properly","status":"passed","title":"should validate currency codes properly","duration":1.483571999999981,"failureMessages":[],"meta":{}}],"startTime":1770523710999,"endTime":1770523711020.4836,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/ValidationMiddleware.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Cannot find module '../../server/src/utils/DataMigration' imported from '/home/chuwi_agent/workspace/zakapp/tests/unit/data-migration.test.ts'","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/data-migration.test.ts"},{"assertionResults":[{"ancestorTitles":["EncryptionService","Constructor and Initialization"],"fullName":"EncryptionService Constructor and Initialization should have encryption key configured","status":"passed","title":"should have encryption key configured","duration":1.770814999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Constructor and Initialization"],"fullName":"EncryptionService Constructor and Initialization should throw error with missing encryption key","status":"passed","title":"should throw error with missing encryption key","duration":1.2161680000000104,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Constructor and Initialization"],"fullName":"EncryptionService Constructor and Initialization should throw error with invalid encryption key length","status":"passed","title":"should throw error with invalid encryption key length","duration":0.39874399999999355,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Constructor and Initialization"],"fullName":"EncryptionService Constructor and Initialization should create singleton instance","status":"skipped","title":"should create singleton instance","failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Basic Encryption/Decryption"],"fullName":"EncryptionService Basic Encryption/Decryption should encrypt and decrypt text data","status":"passed","title":"should encrypt and decrypt text data","duration":3.1393770000000245,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Basic Encryption/Decryption"],"fullName":"EncryptionService Basic Encryption/Decryption should encrypt and decrypt JSON objects","status":"passed","title":"should encrypt and decrypt JSON objects","duration":0.8800359999999898,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Basic Encryption/Decryption"],"fullName":"EncryptionService Basic Encryption/Decryption should encrypt and decrypt arrays","status":"passed","title":"should encrypt and decrypt arrays","duration":0.533128999999974,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Basic Encryption/Decryption"],"fullName":"EncryptionService Basic Encryption/Decryption should handle empty strings","status":"failed","title":"should handle empty strings","duration":7.434753000000001,"failureMessages":["AssertionError: expected '{\"encryptedData\":\"\",\"iv\":\"39673d913afâ€¦' to be '' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/encryption.test.ts:81:25\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["EncryptionService","Basic Encryption/Decryption"],"fullName":"EncryptionService Basic Encryption/Decryption should handle null and undefined values in objects","status":"passed","title":"should handle null and undefined values in objects","duration":0.7118179999999938,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Security Properties"],"fullName":"EncryptionService Security Properties should generate different IV for each encryption","status":"passed","title":"should generate different IV for each encryption","duration":2.3789840000000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Security Properties"],"fullName":"EncryptionService Security Properties should produce different ciphertext for identical inputs","status":"passed","title":"should produce different ciphertext for identical inputs","duration":1.1439610000000187,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Security Properties"],"fullName":"EncryptionService Security Properties should handle sensitive financial data correctly","status":"passed","title":"should handle sensitive financial data correctly","duration":0.708311000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Security Properties"],"fullName":"EncryptionService Security Properties should use AES-256-GCM algorithm","status":"passed","title":"should use AES-256-GCM algorithm","duration":0.6597639999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Error Handling"],"fullName":"EncryptionService Error Handling should throw error for invalid encrypted data format","status":"passed","title":"should throw error for invalid encrypted data format","duration":0.4374480000000176,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Error Handling"],"fullName":"EncryptionService Error Handling should throw error for invalid IV format","status":"passed","title":"should throw error for invalid IV format","duration":0.4112440000000106,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Error Handling"],"fullName":"EncryptionService Error Handling should throw error for missing encrypted data","status":"passed","title":"should throw error for missing encrypted data","duration":0.24201700000000415,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Error Handling"],"fullName":"EncryptionService Error Handling should throw error for missing IV","status":"failed","title":"should throw error for missing IV","duration":2.591561999999982,"failureMessages":["AssertionError: expected [Function] to throw an error\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/encryption.test.ts:185:10\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["EncryptionService","Error Handling"],"fullName":"EncryptionService Error Handling should handle JSON parsing errors gracefully","status":"passed","title":"should handle JSON parsing errors gracefully","duration":0.5206519999999841,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Data Types and Edge Cases"],"fullName":"EncryptionService Data Types and Edge Cases should handle very long strings","status":"passed","title":"should handle very long strings","duration":0.554476999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Data Types and Edge Cases"],"fullName":"EncryptionService Data Types and Edge Cases should handle unicode characters","status":"passed","title":"should handle unicode characters","duration":0.2747959999999807,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Data Types and Edge Cases"],"fullName":"EncryptionService Data Types and Edge Cases should handle special characters and symbols","status":"passed","title":"should handle special characters and symbols","duration":0.22584399999999505,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Data Types and Edge Cases"],"fullName":"EncryptionService Data Types and Edge Cases should handle complex nested objects","status":"passed","title":"should handle complex nested objects","duration":0.38893099999995684,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Data Types and Edge Cases"],"fullName":"EncryptionService Data Types and Edge Cases should handle numeric precision correctly","status":"passed","title":"should handle numeric precision correctly","duration":0.2775909999999726,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Performance and Memory"],"fullName":"EncryptionService Performance and Memory should encrypt/decrypt within reasonable time limits","status":"passed","title":"should encrypt/decrypt within reasonable time limits","duration":7.198730000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Performance and Memory"],"fullName":"EncryptionService Performance and Memory should not leak memory with repeated operations","status":"passed","title":"should not leak memory with repeated operations","duration":51.03060700000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Islamic Compliance Data Protection"],"fullName":"EncryptionService Islamic Compliance Data Protection should properly encrypt Zakat calculation data","status":"passed","title":"should properly encrypt Zakat calculation data","duration":0.9749100000000226,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Islamic Compliance Data Protection"],"fullName":"EncryptionService Islamic Compliance Data Protection should encrypt user profile data securely","status":"passed","title":"should encrypt user profile data securely","duration":0.47838500000000295,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Backwards Compatibility"],"fullName":"EncryptionService Backwards Compatibility should maintain consistent encryption format","status":"passed","title":"should maintain consistent encryption format","duration":0.4796890000000076,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService","Backwards Compatibility"],"fullName":"EncryptionService Backwards Compatibility should decrypt data encrypted with same algorithm","status":"passed","title":"should decrypt data encrypted with same algorithm","duration":0.36479399999996076,"failureMessages":[],"meta":{}}],"startTime":1770523665754,"endTime":1770523665842.4797,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/encryption.test.ts"},{"assertionResults":[{"ancestorTitles":["IslamicCalculationService","Nisab Threshold Calculations"],"fullName":"IslamicCalculationService Nisab Threshold Calculations should calculate correct gold nisab threshold","status":"skipped","title":"should calculate correct gold nisab threshold","failureMessages":[],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Nisab Threshold Calculations"],"fullName":"IslamicCalculationService Nisab Threshold Calculations should calculate correct silver nisab threshold","status":"skipped","title":"should calculate correct silver nisab threshold","failureMessages":[],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Nisab Threshold Calculations"],"fullName":"IslamicCalculationService Nisab Threshold Calculations should use lower of gold and silver nisab for cash calculations","status":"skipped","title":"should use lower of gold and silver nisab for cash calculations","failureMessages":[],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Nisab Threshold Calculations"],"fullName":"IslamicCalculationService Nisab Threshold Calculations should handle different currency conversions","status":"skipped","title":"should handle different currency conversions","failureMessages":[],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Zakat Rate Calculations"],"fullName":"IslamicCalculationService Zakat Rate Calculations should apply 2.5% rate for cash and cash equivalents","status":"failed","title":"should apply 2.5% rate for cash and cash equivalents","duration":5.637889000000001,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Zakat Rate Calculations"],"fullName":"IslamicCalculationService Zakat Rate Calculations should apply 2.5% rate for gold","status":"failed","title":"should apply 2.5% rate for gold","duration":0.5717950000000087,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Zakat Rate Calculations"],"fullName":"IslamicCalculationService Zakat Rate Calculations should apply 2.5% rate for silver","status":"failed","title":"should apply 2.5% rate for silver","duration":0.4310520000000224,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Zakat Rate Calculations"],"fullName":"IslamicCalculationService Zakat Rate Calculations should apply 2.5% rate for business assets","status":"failed","title":"should apply 2.5% rate for business assets","duration":0.7612839999999892,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Zakat Rate Calculations"],"fullName":"IslamicCalculationService Zakat Rate Calculations should not apply zakat to property for personal use","status":"failed","title":"should not apply zakat to property for personal use","duration":0.42968799999999874,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Zakat Rate Calculations"],"fullName":"IslamicCalculationService Zakat Rate Calculations should handle cryptocurrency as cash equivalent","status":"failed","title":"should handle cryptocurrency as cash equivalent","duration":2.054557000000017,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Methodology-Specific Calculations","Hanafi Methodology"],"fullName":"IslamicCalculationService Methodology-Specific Calculations Hanafi Methodology should use specific nisab calculations for Hanafi school","status":"failed","title":"should use specific nisab calculations for Hanafi school","duration":0.3595060000000103,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Methodology-Specific Calculations","Hanafi Methodology"],"fullName":"IslamicCalculationService Methodology-Specific Calculations Hanafi Methodology should apply Hanafi rules for mixed assets","status":"failed","title":"should apply Hanafi rules for mixed assets","duration":0.3089909999999918,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Methodology-Specific Calculations","Shafi Methodology"],"fullName":"IslamicCalculationService Methodology-Specific Calculations Shafi Methodology should use Shafi-specific rules for calculations","status":"failed","title":"should use Shafi-specific rules for calculations","duration":0.3564140000000009,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Methodology-Specific Calculations","Maliki Methodology"],"fullName":"IslamicCalculationService Methodology-Specific Calculations Maliki Methodology should apply Maliki school interpretations","status":"failed","title":"should apply Maliki school interpretations","duration":0.3434660000000065,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Methodology-Specific Calculations","Hanbali Methodology"],"fullName":"IslamicCalculationService Methodology-Specific Calculations Hanbali Methodology should follow Hanbali jurisprudence rules","status":"failed","title":"should follow Hanbali jurisprudence rules","duration":0.25688800000000356,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Lunar Calendar Considerations"],"fullName":"IslamicCalculationService Lunar Calendar Considerations should calculate correct lunar year completion","status":"failed","title":"should calculate correct lunar year completion","duration":0.24804000000000315,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Lunar Calendar Considerations"],"fullName":"IslamicCalculationService Lunar Calendar Considerations should handle incomplete lunar year","status":"failed","title":"should handle incomplete lunar year","duration":0.23563899999999194,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Lunar Calendar Considerations"],"fullName":"IslamicCalculationService Lunar Calendar Considerations should adjust for Hijri calendar differences","status":"failed","title":"should adjust for Hijri calendar differences","duration":0.23995899999999892,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Complex Asset Calculations"],"fullName":"IslamicCalculationService Complex Asset Calculations should handle mixed asset portfolio calculation","status":"failed","title":"should handle mixed asset portfolio calculation","duration":0.25253799999998705,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Complex Asset Calculations"],"fullName":"IslamicCalculationService Complex Asset Calculations should exclude non-zakatable business assets","status":"failed","title":"should exclude non-zakatable business assets","duration":0.21855000000002178,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Complex Asset Calculations"],"fullName":"IslamicCalculationService Complex Asset Calculations should handle debt deductions correctly","status":"failed","title":"should handle debt deductions correctly","duration":0.20250799999999458,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Edge Cases and Error Handling"],"fullName":"IslamicCalculationService Edge Cases and Error Handling should handle zero or negative asset values","status":"failed","title":"should handle zero or negative asset values","duration":0.20954100000000153,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Edge Cases and Error Handling"],"fullName":"IslamicCalculationService Edge Cases and Error Handling should handle assets below nisab threshold","status":"failed","title":"should handle assets below nisab threshold","duration":0.20356900000001588,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Edge Cases and Error Handling"],"fullName":"IslamicCalculationService Edge Cases and Error Handling should validate input data types","status":"failed","title":"should validate input data types","duration":0.2021270000000186,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Edge Cases and Error Handling"],"fullName":"IslamicCalculationService Edge Cases and Error Handling should handle very large numbers correctly","status":"failed","title":"should handle very large numbers correctly","duration":0.19462500000000205,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Edge Cases and Error Handling"],"fullName":"IslamicCalculationService Edge Cases and Error Handling should maintain precision with decimal calculations","status":"failed","title":"should maintain precision with decimal calculations","duration":0.20581799999999362,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Historical Accuracy Validation"],"fullName":"IslamicCalculationService Historical Accuracy Validation should match traditional Islamic scholarship calculations","status":"failed","title":"should match traditional Islamic scholarship calculations","duration":0.21325400000000627,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Historical Accuracy Validation"],"fullName":"IslamicCalculationService Historical Accuracy Validation should validate against contemporary Islamic finance standards","status":"failed","title":"should validate against contemporary Islamic finance standards","duration":0.1984290000000044,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Performance and Optimization"],"fullName":"IslamicCalculationService Performance and Optimization should complete calculations within reasonable time","status":"failed","title":"should complete calculations within reasonable time","duration":0.19116099999999392,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}},{"ancestorTitles":["IslamicCalculationService","Performance and Optimization"],"fullName":"IslamicCalculationService Performance and Optimization should cache nisab calculations for performance","status":"failed","title":"should cache nisab calculations for performance","duration":0.19048399999999788,"failureMessages":["TypeError: IslamicCalculationService is not a constructor\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts:17:26\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at callSuiteHook (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1429:21)\n    at runTest (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)"],"meta":{}}],"startTime":1770523666086,"endTime":1770523666101.2131,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/islamic-calculation.test.ts"},{"assertionResults":[{"ancestorTitles":["stableId utility"],"fullName":"stableId utility canonicalize collapses whitespace and normalizes unicode","status":"passed","title":"canonicalize collapses whitespace and normalizes unicode","duration":1.7718590000000063,"failureMessages":[],"meta":{}},{"ancestorTitles":["stableId utility"],"fullName":"stableId utility generateStableId produces hex sha256 of expected input","status":"passed","title":"generateStableId produces hex sha256 of expected input","duration":1.8101380000000233,"failureMessages":[],"meta":{}},{"ancestorTitles":["stableId utility"],"fullName":"stableId utility different inputs produce different stableIds","status":"passed","title":"different inputs produce different stableIds","duration":0.9766209999999944,"failureMessages":[],"meta":{}}],"startTime":1770523713019,"endTime":1770523713022.9766,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/stableId.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"jest is not defined","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/zakat-engine.test.ts"},{"assertionResults":[{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Nisab Calculations by Method"],"fullName":"Comprehensive ZakatService Methodology Tests Nisab Calculations by Method Hanafi method uses silver nisab exclusively","status":"passed","title":"Hanafi method uses silver nisab exclusively","duration":1.8763450000000148,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Nisab Calculations by Method"],"fullName":"Comprehensive ZakatService Methodology Tests Nisab Calculations by Method Shafi'i method uses dual minimum nisab","status":"passed","title":"Shafi'i method uses dual minimum nisab","duration":0.32554499999992004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Nisab Calculations by Method"],"fullName":"Comprehensive ZakatService Methodology Tests Nisab Calculations by Method Standard method uses minimum with specific basis tracking","status":"passed","title":"Standard method uses minimum with specific basis tracking","duration":0.26628900000002886,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Nisab Calculations by Method"],"fullName":"Comprehensive ZakatService Methodology Tests Nisab Calculations by Method Custom method allows configurable nisab approach","status":"passed","title":"Custom method allows configurable nisab approach","duration":0.30031399999995756,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Nisab Boundary Conditions"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Nisab Boundary Conditions should handle assets exactly at nisab threshold","status":"passed","title":"should handle assets exactly at nisab threshold","duration":1.4755179999999655,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Nisab Boundary Conditions"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Nisab Boundary Conditions should handle assets just below nisab threshold","status":"passed","title":"should handle assets just below nisab threshold","duration":0.4344380000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Nisab Boundary Conditions"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Nisab Boundary Conditions should handle assets just above nisab threshold","status":"passed","title":"should handle assets just above nisab threshold","duration":0.35485700000003817,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Debt Deduction Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Debt Deduction Tests should apply comprehensive debt deduction for Hanafi method","status":"failed","title":"should apply comprehensive debt deduction for Hanafi method","duration":8.745803000000024,"failureMessages":["AssertionError: expected 'conservative' to be 'comprehensive' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:242:38\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Debt Deduction Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Debt Deduction Tests should apply conservative debt deduction for Shafi'i method","status":"failed","title":"should apply conservative debt deduction for Shafi'i method","duration":1.501207999999906,"failureMessages":["AssertionError: expected 'comprehensive' to be 'conservative' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:259:38\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Debt Deduction Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Debt Deduction Tests should handle zero debt scenario","status":"passed","title":"should handle zero debt scenario","duration":0.5743820000000142,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Business Asset Inclusion Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Business Asset Inclusion Tests should include business assets comprehensively in Hanafi method","status":"failed","title":"should include business assets comprehensively in Hanafi method","duration":3.225287000000094,"failureMessages":["AssertionError: expected [ 'Hanafi methodology applied' ] to include 'Comprehensive business asset inclusion'\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:300:48\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Edge Case Tests","Business Asset Inclusion Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Edge Case Tests Business Asset Inclusion Tests should categorize business assets detailed for Shafi'i method","status":"passed","title":"should categorize business assets detailed for Shafi'i method","duration":1.0052600000000211,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Cross-Method Validation and Consistency"],"fullName":"Comprehensive ZakatService Methodology Tests Cross-Method Validation and Consistency should produce logically consistent results across all methods","status":"passed","title":"should produce logically consistent results across all methods","duration":1.0915279999999257,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Cross-Method Validation and Consistency"],"fullName":"Comprehensive ZakatService Methodology Tests Cross-Method Validation and Consistency should demonstrate Hanafi vs Standard nisab differences","status":"passed","title":"should demonstrate Hanafi vs Standard nisab differences","duration":0.23445699999990666,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Cross-Method Validation and Consistency"],"fullName":"Comprehensive ZakatService Methodology Tests Cross-Method Validation and Consistency should validate method-specific source citations","status":"failed","title":"should validate method-specific source citations","duration":0.8532659999999623,"failureMessages":["AssertionError: expected [ Array(1) ] to include 'Al-Hidayah by al-Marghinani'\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:415:48\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Cross-Method Validation and Consistency"],"fullName":"Comprehensive ZakatService Methodology Tests Cross-Method Validation and Consistency should ensure all methods handle same asset categories","status":"passed","title":"should ensure all methods handle same asset categories","duration":0.6962519999999586,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Method-Specific Rule Validation"],"fullName":"Comprehensive ZakatService Methodology Tests Method-Specific Rule Validation should apply Hanafi-specific rules correctly","status":"failed","title":"should apply Hanafi-specific rules correctly","duration":0.8674780000000055,"failureMessages":["AssertionError: expected [ 'Hanafi methodology applied' ] to include 'Comprehensive business asset inclusion'\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:472:51\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Method-Specific Rule Validation"],"fullName":"Comprehensive ZakatService Methodology Tests Method-Specific Rule Validation should apply Shafi'i-specific rules correctly","status":"failed","title":"should apply Shafi'i-specific rules correctly","duration":0.9889290000000983,"failureMessages":["AssertionError: expected 'silver' to be 'dual_minimum' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:482:44\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Method-Specific Rule Validation"],"fullName":"Comprehensive ZakatService Methodology Tests Method-Specific Rule Validation should apply Standard method (AAOIFI) rules correctly","status":"failed","title":"should apply Standard method (AAOIFI) rules correctly","duration":0.7578489999999647,"failureMessages":["AssertionError: expected [ Array(1) ] to include 'AAOIFI FAS 9'\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts:503:46\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Custom Method Configuration Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Custom Method Configuration Tests should handle custom nisab values","status":"passed","title":"should handle custom nisab values","duration":0.2252330000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Custom Method Configuration Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Custom Method Configuration Tests should validate custom method configuration requirements","status":"passed","title":"should validate custom method configuration requirements","duration":0.18247899999994388,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Performance and Error Handling Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Performance and Error Handling Tests should handle large asset portfolios efficiently","status":"passed","title":"should handle large asset portfolios efficiently","duration":0.9507939999999735,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Performance and Error Handling Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Performance and Error Handling Tests should handle invalid method gracefully","status":"passed","title":"should handle invalid method gracefully","duration":0.9054409999999962,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Performance and Error Handling Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Performance and Error Handling Tests should handle empty asset list","status":"passed","title":"should handle empty asset list","duration":0.3836630000000696,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Performance and Error Handling Tests"],"fullName":"Comprehensive ZakatService Methodology Tests Performance and Error Handling Tests should handle extreme price scenarios","status":"passed","title":"should handle extreme price scenarios","duration":0.2049610000000257,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Integration and Comprehensive Scenarios"],"fullName":"Comprehensive ZakatService Methodology Tests Integration and Comprehensive Scenarios should handle complete zakat calculation scenario","status":"passed","title":"should handle complete zakat calculation scenario","duration":0.5155190000000403,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comprehensive ZakatService Methodology Tests","Integration and Comprehensive Scenarios"],"fullName":"Comprehensive ZakatService Methodology Tests Integration and Comprehensive Scenarios should provide consistent calculation breakdown structure","status":"passed","title":"should provide consistent calculation breakdown structure","duration":0.8421529999999393,"failureMessages":[],"meta":{}}],"startTime":1770523665474,"endTime":1770523665504.842,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/zakatService.test.ts"},{"assertionResults":[{"ancestorTitles":["MetalPriceScraperService","scrapeGoldPrice"],"fullName":"MetalPriceScraperService scrapeGoldPrice should extract gold price from page title","status":"passed","title":"should extract gold price from page title","duration":10.381586000000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["MetalPriceScraperService","scrapeGoldPrice"],"fullName":"MetalPriceScraperService scrapeGoldPrice should extract gold price from body as fallback","status":"passed","title":"should extract gold price from body as fallback","duration":2.064094999999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["MetalPriceScraperService","scrapeGoldPrice"],"fullName":"MetalPriceScraperService scrapeGoldPrice should throw error if price cannot be found","status":"passed","title":"should throw error if price cannot be found","duration":2.336673000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["MetalPriceScraperService","scrapeSilverPrice"],"fullName":"MetalPriceScraperService scrapeSilverPrice should extract silver price from gram format in title","status":"failed","title":"should extract silver price from gram format in title","duration":5.944737000000032,"failureMessages":["Error: Could not find silver price on https://www.livepriceofgold.com/silver-price/us.html. Check if page structure changed.\n    at MetalPriceScraperService.scrapeSilverPriceForCountry (/home/chuwi_agent/workspace/zakapp/server/src/services/MetalPriceScraperService.ts:233:15)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at MetalPriceScraperService.scrapeSilverPrice (/home/chuwi_agent/workspace/zakapp/server/src/services/MetalPriceScraperService.ts:117:20)\n    at /home/chuwi_agent/workspace/zakapp/server/src/__tests__/MetalPriceScraperService.test.ts:48:27\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["MetalPriceScraperService","scrapeSilverPrice"],"fullName":"MetalPriceScraperService scrapeSilverPrice should convert ounce price if gram price missing","status":"failed","title":"should convert ounce price if gram price missing","duration":2.773526000000004,"failureMessages":["Error: Could not find silver price on https://www.livepriceofgold.com/silver-price/us.html. Check if page structure changed.\n    at MetalPriceScraperService.scrapeSilverPriceForCountry (/home/chuwi_agent/workspace/zakapp/server/src/services/MetalPriceScraperService.ts:233:15)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at MetalPriceScraperService.scrapeSilverPrice (/home/chuwi_agent/workspace/zakapp/server/src/services/MetalPriceScraperService.ts:117:20)\n    at /home/chuwi_agent/workspace/zakapp/server/src/__tests__/MetalPriceScraperService.test.ts:57:27\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["MetalPriceScraperService","scrapeSilverPrice"],"fullName":"MetalPriceScraperService scrapeSilverPrice should ignore high values (gold price) in body and throw or find correct silver price","status":"passed","title":"should ignore high values (gold price) in body and throw or find correct silver price","duration":2.0734750000000304,"failureMessages":[],"meta":{}},{"ancestorTitles":["MetalPriceScraperService","scrapeSilverPrice"],"fullName":"MetalPriceScraperService scrapeSilverPrice should throw error if only high value (gold) is found","status":"passed","title":"should throw error if only high value (gold) is found","duration":0.9103470000000016,"failureMessages":[],"meta":{}}],"startTime":1770523671750,"endTime":1770523671776.9104,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/MetalPriceScraperService.test.ts"},{"assertionResults":[{"ancestorTitles":["SyncService","ensureUserAndDatabases"],"fullName":"SyncService ensureUserAndDatabases should create user and databases if they do not exist","status":"passed","title":"should create user and databases if they do not exist","duration":10.317250999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["SyncService","ensureUserAndDatabases"],"fullName":"SyncService ensureUserAndDatabases should handle existing user by updating with revision","status":"passed","title":"should handle existing user by updating with revision","duration":4.313619000000017,"failureMessages":[],"meta":{}},{"ancestorTitles":["SyncService","deleteUser"],"fullName":"SyncService deleteUser should delete all user databases and the user document","status":"passed","title":"should delete all user databases and the user document","duration":1.4765429999999924,"failureMessages":[],"meta":{}},{"ancestorTitles":["SyncService","deleteUser"],"fullName":"SyncService deleteUser should handle already deleted databases gracefully","status":"passed","title":"should handle already deleted databases gracefully","duration":2.9620199999999954,"failureMessages":[],"meta":{}}],"startTime":1770523712739,"endTime":1770523712758.962,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/SyncService.test.ts"},{"assertionResults":[{"ancestorTitles":["AuthController isVerified Response","POST /auth/register"],"fullName":"AuthController isVerified Response POST /auth/register should return isVerified field in response","status":"passed","title":"should return isVerified field in response","duration":385.729472,"failureMessages":[],"meta":{}},{"ancestorTitles":["AuthController isVerified Response","POST /auth/login"],"fullName":"AuthController isVerified Response POST /auth/login should return isVerified field in response","status":"passed","title":"should return isVerified field in response","duration":318.690783,"failureMessages":[],"meta":{}},{"ancestorTitles":["AuthController isVerified Response","GET /auth/me"],"fullName":"AuthController isVerified Response GET /auth/me should return isVerified field in response","status":"passed","title":"should return isVerified field in response","duration":7.308436999999685,"failureMessages":[],"meta":{}},{"ancestorTitles":["AuthController isVerified Response","Admin verification flow"],"fullName":"AuthController isVerified Response Admin verification flow should update isVerified status when admin verifies user","status":"passed","title":"should update isVerified status when admin verifies user","duration":4.515030999999908,"failureMessages":[],"meta":{}}],"startTime":1770523673754,"endTime":1770523674471.5151,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/authController.isVerified.test.ts"},{"assertionResults":[{"ancestorTitles":["Calculation History Basic Functionality","Service Import and Instantiation"],"fullName":"Calculation History Basic Functionality Service Import and Instantiation should import CalculationHistoryService successfully","status":"passed","title":"should import CalculationHistoryService successfully","duration":50.15983400000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Basic Functionality","Basic Test Data Structure"],"fullName":"Calculation History Basic Functionality Basic Test Data Structure should define expected calculation data structure","status":"passed","title":"should define expected calculation data structure","duration":0.508039999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Basic Functionality","Service Integration"],"fullName":"Calculation History Basic Functionality Service Integration should be ready for integration testing","status":"passed","title":"should be ready for integration testing","duration":0.37216399999999794,"failureMessages":[],"meta":{}}],"startTime":1770523712975,"endTime":1770523713026.372,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/calculation-history-basic.test.ts"},{"assertionResults":[{"ancestorTitles":["Calculation History Functionality","Save Calculation"],"fullName":"Calculation History Functionality Save Calculation should save a new calculation with encryption","status":"passed","title":"should save a new calculation with encryption","duration":2.443509000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Save Calculation"],"fullName":"Calculation History Functionality Save Calculation should handle saving calculation without optional fields","status":"passed","title":"should handle saving calculation without optional fields","duration":0.7012359999999944,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Retrieve Calculation by ID"],"fullName":"Calculation History Functionality Retrieve Calculation by ID should retrieve calculation by ID with decrypted data","status":"passed","title":"should retrieve calculation by ID with decrypted data","duration":0.7440190000000371,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Retrieve Calculation by ID"],"fullName":"Calculation History Functionality Retrieve Calculation by ID should return null for non-existent calculation","status":"passed","title":"should return null for non-existent calculation","duration":1.611475999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Retrieve Calculation by ID"],"fullName":"Calculation History Functionality Retrieve Calculation by ID should return null for calculation owned by different user","status":"passed","title":"should return null for calculation owned by different user","duration":0.34177599999998165,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","List Calculations with Pagination"],"fullName":"Calculation History Functionality List Calculations with Pagination should list calculations with default pagination","status":"passed","title":"should list calculations with default pagination","duration":0.5222360000000208,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","List Calculations with Pagination"],"fullName":"Calculation History Functionality List Calculations with Pagination should support custom pagination","status":"passed","title":"should support custom pagination","duration":0.33760200000000395,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","List Calculations with Pagination"],"fullName":"Calculation History Functionality List Calculations with Pagination should filter by methodology","status":"passed","title":"should filter by methodology","duration":0.3253249999999639,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","List Calculations with Pagination"],"fullName":"Calculation History Functionality List Calculations with Pagination should filter by date range","status":"passed","title":"should filter by date range","duration":0.4238080000000082,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","List Calculations with Pagination"],"fullName":"Calculation History Functionality List Calculations with Pagination should sort calculations by date","status":"passed","title":"should sort calculations by date","duration":0.3881109999999808,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","List Calculations with Pagination"],"fullName":"Calculation History Functionality List Calculations with Pagination should sort calculations by wealth amount","status":"passed","title":"should sort calculations by wealth amount","duration":0.2785720000000538,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Calculate Trends"],"fullName":"Calculation History Functionality Calculate Trends should calculate trends for different periods","status":"passed","title":"should calculate trends for different periods","duration":1.3933629999999653,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Calculate Trends"],"fullName":"Calculation History Functionality Calculate Trends should include methodology breakdown in trends","status":"passed","title":"should include methodology breakdown in trends","duration":0.24807099999998172,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Compare Calculations"],"fullName":"Calculation History Functionality Compare Calculations should compare multiple calculations","status":"passed","title":"should compare multiple calculations","duration":0.8157049999999799,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Compare Calculations"],"fullName":"Calculation History Functionality Compare Calculations should handle comparing minimum number of calculations","status":"passed","title":"should handle comparing minimum number of calculations","duration":0.26756799999998293,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Compare Calculations"],"fullName":"Calculation History Functionality Compare Calculations should reject comparing too few calculations","status":"passed","title":"should reject comparing too few calculations","duration":0.36370399999998426,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Compare Calculations"],"fullName":"Calculation History Functionality Compare Calculations should reject comparing too many calculations","status":"passed","title":"should reject comparing too many calculations","duration":0.3172930000000065,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Update Calculation Notes"],"fullName":"Calculation History Functionality Update Calculation Notes should update calculation notes","status":"passed","title":"should update calculation notes","duration":0.35434900000001335,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Update Calculation Notes"],"fullName":"Calculation History Functionality Update Calculation Notes should handle empty notes","status":"passed","title":"should handle empty notes","duration":0.2899919999999838,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Update Calculation Notes"],"fullName":"Calculation History Functionality Update Calculation Notes should reject updating notes for non-existent calculation","status":"passed","title":"should reject updating notes for non-existent calculation","duration":0.32947499999994534,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Update Calculation Notes"],"fullName":"Calculation History Functionality Update Calculation Notes should reject updating notes for calculation owned by different user","status":"passed","title":"should reject updating notes for calculation owned by different user","duration":0.29783300000002555,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Delete Calculation"],"fullName":"Calculation History Functionality Delete Calculation should delete calculation successfully","status":"passed","title":"should delete calculation successfully","duration":0.22620200000000068,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Delete Calculation"],"fullName":"Calculation History Functionality Delete Calculation should reject deleting non-existent calculation","status":"passed","title":"should reject deleting non-existent calculation","duration":0.2835309999999822,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Delete Calculation"],"fullName":"Calculation History Functionality Delete Calculation should reject deleting calculation owned by different user","status":"passed","title":"should reject deleting calculation owned by different user","duration":0.35575799999998026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Performance Validation"],"fullName":"Calculation History Functionality Performance Validation should save calculation within performance target","status":"passed","title":"should save calculation within performance target","duration":0.29747800000001234,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Performance Validation"],"fullName":"Calculation History Functionality Performance Validation should list calculations within performance target","status":"passed","title":"should list calculations within performance target","duration":0.18366699999995717,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Performance Validation"],"fullName":"Calculation History Functionality Performance Validation should calculate trends within performance target","status":"passed","title":"should calculate trends within performance target","duration":0.42540199999996275,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Performance Validation"],"fullName":"Calculation History Functionality Performance Validation should compare calculations within performance target","status":"passed","title":"should compare calculations within performance target","duration":0.1585450000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Error Handling"],"fullName":"Calculation History Functionality Error Handling should handle invalid user ID gracefully","status":"passed","title":"should handle invalid user ID gracefully","duration":0.8044649999999933,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Error Handling"],"fullName":"Calculation History Functionality Error Handling should handle malformed calculation data","status":"passed","title":"should handle malformed calculation data","duration":0.4723210000000222,"failureMessages":[],"meta":{}},{"ancestorTitles":["Calculation History Functionality","Error Handling"],"fullName":"Calculation History Functionality Error Handling should handle encryption/decryption errors gracefully","status":"passed","title":"should handle encryption/decryption errors gracefully","duration":0.3750220000000013,"failureMessages":[],"meta":{}}],"startTime":1770523709962,"endTime":1770523709980.375,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/calculation-history.test.ts"},{"assertionResults":[{"ancestorTitles":["CalendarService","gregorianToHijri conversion"],"fullName":"CalendarService gregorianToHijri conversion should convert known Gregorian dates to Hijri dates accurately","status":"passed","title":"should convert known Gregorian dates to Hijri dates accurately","duration":2.585751000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","gregorianToHijri conversion"],"fullName":"CalendarService gregorianToHijri conversion should convert January 1, 2024 to a valid Hijri date","status":"passed","title":"should convert January 1, 2024 to a valid Hijri date","duration":0.9184930000000122,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","gregorianToHijri conversion"],"fullName":"CalendarService gregorianToHijri conversion should convert October 9, 2025 (current date) to valid Hijri","status":"passed","title":"should convert October 9, 2025 (current date) to valid Hijri","duration":0.32876199999998335,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","gregorianToHijri conversion"],"fullName":"CalendarService gregorianToHijri conversion should handle year boundary conversions correctly","status":"passed","title":"should handle year boundary conversions correctly","duration":0.5744779999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","gregorianToHijri conversion"],"fullName":"CalendarService gregorianToHijri conversion should handle month boundary conversions correctly","status":"passed","title":"should handle month boundary conversions correctly","duration":0.7865820000000099,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","gregorianToHijri conversion"],"fullName":"CalendarService gregorianToHijri conversion should return valid month names","status":"passed","title":"should return valid month names","duration":0.9802219999999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getCurrentIslamicDate"],"fullName":"CalendarService getCurrentIslamicDate should return current Hijri date","status":"failed","title":"should return current Hijri date","duration":6.511718000000002,"failureMessages":["AssertionError: expected undefined to be truthy\n    at /home/chuwi_agent/workspace/zakapp/server/src/__tests__/calendarService.test.ts:137:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CalendarService","formatHijriDate"],"fullName":"CalendarService formatHijriDate should format Hijri date correctly","status":"passed","title":"should format Hijri date correctly","duration":0.27586299999998687,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","formatHijriDate"],"fullName":"CalendarService formatHijriDate should format all month names correctly","status":"passed","title":"should format all month names correctly","duration":0.5882960000000139,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","formatHijriDate"],"fullName":"CalendarService formatHijriDate should handle different day values","status":"passed","title":"should handle different day values","duration":0.32418799999999237,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","isHijriLeapYear"],"fullName":"CalendarService isHijriLeapYear should correctly identify leap years in 30-year cycle","status":"passed","title":"should correctly identify leap years in 30-year cycle","duration":0.7489380000000097,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","isHijriLeapYear"],"fullName":"CalendarService isHijriLeapYear should work for years beyond first cycle","status":"passed","title":"should work for years beyond first cycle","duration":0.19702599999999393,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","isHijriLeapYear"],"fullName":"CalendarService isHijriLeapYear should handle year 0","status":"passed","title":"should handle year 0","duration":0.11025900000001343,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getDaysInHijriMonth"],"fullName":"CalendarService getDaysInHijriMonth should return 30 days for odd months","status":"passed","title":"should return 30 days for odd months","duration":0.22431900000000837,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getDaysInHijriMonth"],"fullName":"CalendarService getDaysInHijriMonth should return 29 days for even months (except month 12 in leap years)","status":"passed","title":"should return 29 days for even months (except month 12 in leap years)","duration":0.2538499999999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getDaysInHijriMonth"],"fullName":"CalendarService getDaysInHijriMonth should return 29 days for month 12 in leap years","status":"passed","title":"should return 29 days for month 12 in leap years","duration":0.09349199999999769,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getDaysInHijriMonth"],"fullName":"CalendarService getDaysInHijriMonth should return 30 days for month 12 in non-leap years","status":"passed","title":"should return 30 days for month 12 in non-leap years","duration":0.09541799999999512,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getDaysInHijriMonth"],"fullName":"CalendarService getDaysInHijriMonth should handle all 12 months correctly","status":"passed","title":"should handle all 12 months correctly","duration":0.3455319999999915,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getLunarYearAdjustment"],"fullName":"CalendarService getLunarYearAdjustment should return correct lunar year adjustment factor","status":"passed","title":"should return correct lunar year adjustment factor","duration":0.19543200000001093,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getLunarYearAdjustment"],"fullName":"CalendarService getLunarYearAdjustment should be less than 1 (lunar year is shorter)","status":"passed","title":"should be less than 1 (lunar year is shorter)","duration":0.17259500000000116,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getCalendarInfo"],"fullName":"CalendarService getCalendarInfo should return complete calendar calculation information","status":"passed","title":"should return complete calendar calculation information","duration":0.4661249999999768,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getCalendarInfo"],"fullName":"CalendarService getCalendarInfo should include valid Hijri date components","status":"passed","title":"should include valid Hijri date components","duration":0.2347560000000044,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","getCalendarInfo"],"fullName":"CalendarService getCalendarInfo should return lunar adjustment factor by default","status":"passed","title":"should return lunar adjustment factor by default","duration":0.12444999999999595,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","calculateZakatYearPeriod"],"fullName":"CalendarService calculateZakatYearPeriod should calculate lunar year period correctly","status":"passed","title":"should calculate lunar year period correctly","duration":0.4042910000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","calculateZakatYearPeriod"],"fullName":"CalendarService calculateZakatYearPeriod should calculate solar year period correctly","status":"passed","title":"should calculate solar year period correctly","duration":0.17958699999999794,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","calculateZakatYearPeriod"],"fullName":"CalendarService calculateZakatYearPeriod should handle leap years correctly for solar calendar","status":"passed","title":"should handle leap years correctly for solar calendar","duration":0.17690500000000497,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","calculateZakatYearPeriod"],"fullName":"CalendarService calculateZakatYearPeriod should calculate different end dates for lunar vs solar","status":"passed","title":"should calculate different end dates for lunar vs solar","duration":0.20396800000000326,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Edge cases and error handling"],"fullName":"CalendarService Edge cases and error handling should handle very old dates","status":"passed","title":"should handle very old dates","duration":0.14331800000002204,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Edge cases and error handling"],"fullName":"CalendarService Edge cases and error handling should handle future dates","status":"passed","title":"should handle future dates","duration":0.13242299999998863,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Edge cases and error handling"],"fullName":"CalendarService Edge cases and error handling should handle Islamic epoch date","status":"passed","title":"should handle Islamic epoch date","duration":0.15449500000002558,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService"],"fullName":"CalendarService should handle midnight dates","status":"passed","title":"should handle midnight dates","duration":0.23235500000001252,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService"],"fullName":"CalendarService should handle end of day dates","status":"passed","title":"should handle end of day dates","duration":0.1756599999999935,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Zakat calculation integration"],"fullName":"CalendarService Zakat calculation integration should provide correct adjustment factor for zakat calculations","status":"passed","title":"should provide correct adjustment factor for zakat calculations","duration":0.18465799999998467,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Zakat calculation integration"],"fullName":"CalendarService Zakat calculation integration should calculate next zakat date correctly","status":"passed","title":"should calculate next zakat date correctly","duration":0.18263500000000477,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Performance and consistency"],"fullName":"CalendarService Performance and consistency should return consistent results for same date","status":"passed","title":"should return consistent results for same date","duration":0.3045669999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Performance and consistency"],"fullName":"CalendarService Performance and consistency should handle rapid sequential calls","status":"passed","title":"should handle rapid sequential calls","duration":0.7189500000000066,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarService","Performance and consistency"],"fullName":"CalendarService Performance and consistency should complete conversion in reasonable time","status":"passed","title":"should complete conversion in reasonable time","duration":0.1258669999999995,"failureMessages":[],"meta":{}}],"startTime":1770523664812,"endTime":1770523664834.126,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/calendarService.test.ts"},{"assertionResults":[{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Structure and Content"],"fullName":"User Documentation for Methodologies - T156 Documentation Structure and Content should have comprehensive methodology guide documentation","status":"passed","title":"should have comprehensive methodology guide documentation","duration":2.622160000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Structure and Content"],"fullName":"User Documentation for Methodologies - T156 Documentation Structure and Content should document all four methodologies comprehensively","status":"passed","title":"should document all four methodologies comprehensively","duration":0.4568869999999947,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Structure and Content"],"fullName":"User Documentation for Methodologies - T156 Documentation Structure and Content should provide detailed nisab threshold information","status":"passed","title":"should provide detailed nisab threshold information","duration":0.32169999999996435,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Structure and Content"],"fullName":"User Documentation for Methodologies - T156 Documentation Structure and Content should include practical calculation examples","status":"passed","title":"should include practical calculation examples","duration":0.8891909999999825,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Methodology-Specific Documentation"],"fullName":"User Documentation for Methodologies - T156 Methodology-Specific Documentation should document Standard (AAOIFI) methodology completely","status":"passed","title":"should document Standard (AAOIFI) methodology completely","duration":0.3756840000000352,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Methodology-Specific Documentation"],"fullName":"User Documentation for Methodologies - T156 Methodology-Specific Documentation should document Hanafi methodology with school-specific details","status":"passed","title":"should document Hanafi methodology with school-specific details","duration":0.3558699999999817,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Methodology-Specific Documentation"],"fullName":"User Documentation for Methodologies - T156 Methodology-Specific Documentation should document Shafi'i methodology with school-specific details","status":"passed","title":"should document Shafi'i methodology with school-specific details","duration":0.27442800000000034,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Methodology-Specific Documentation"],"fullName":"User Documentation for Methodologies - T156 Methodology-Specific Documentation should document Custom methodology with configuration options","status":"passed","title":"should document Custom methodology with configuration options","duration":0.3542449999999917,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Decision-Making Support"],"fullName":"User Documentation for Methodologies - T156 Decision-Making Support should provide clear methodology selection guidance","status":"passed","title":"should provide clear methodology selection guidance","duration":0.283615999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Decision-Making Support"],"fullName":"User Documentation for Methodologies - T156 Decision-Making Support should include comprehensive methodology comparison table","status":"passed","title":"should include comprehensive methodology comparison table","duration":0.2506469999999581,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Decision-Making Support"],"fullName":"User Documentation for Methodologies - T156 Decision-Making Support should explain asset categories clearly","status":"passed","title":"should explain asset categories clearly","duration":0.23334299999999075,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Advanced Topics and FAQ"],"fullName":"User Documentation for Methodologies - T156 Advanced Topics and FAQ should cover calendar considerations","status":"passed","title":"should cover calendar considerations","duration":0.20707299999997986,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Advanced Topics and FAQ"],"fullName":"User Documentation for Methodologies - T156 Advanced Topics and FAQ should include advanced calculation considerations","status":"passed","title":"should include advanced calculation considerations","duration":0.15064200000000483,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Advanced Topics and FAQ"],"fullName":"User Documentation for Methodologies - T156 Advanced Topics and FAQ should provide comprehensive FAQ section","status":"passed","title":"should provide comprehensive FAQ section","duration":0.35208299999999326,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Advanced Topics and FAQ"],"fullName":"User Documentation for Methodologies - T156 Advanced Topics and FAQ should provide help and support information","status":"passed","title":"should provide help and support information","duration":0.1701800000000162,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Quality and Usability"],"fullName":"User Documentation for Methodologies - T156 Documentation Quality and Usability should have appropriate documentation length and depth","status":"passed","title":"should have appropriate documentation length and depth","duration":0.7051400000000285,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Quality and Usability"],"fullName":"User Documentation for Methodologies - T156 Documentation Quality and Usability should use clear formatting and structure","status":"passed","title":"should use clear formatting and structure","duration":0.48393900000002077,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Quality and Usability"],"fullName":"User Documentation for Methodologies - T156 Documentation Quality and Usability should include visual elements and aids","status":"passed","title":"should include visual elements and aids","duration":0.25486399999999776,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Quality and Usability"],"fullName":"User Documentation for Methodologies - T156 Documentation Quality and Usability should provide actionable guidance","status":"passed","title":"should provide actionable guidance","duration":0.20820600000001832,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Accuracy and Completeness"],"fullName":"User Documentation for Methodologies - T156 Documentation Accuracy and Completeness should have accurate financial information","status":"passed","title":"should have accurate financial information","duration":0.6432980000000157,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Accuracy and Completeness"],"fullName":"User Documentation for Methodologies - T156 Documentation Accuracy and Completeness should include disclaimers and legal notices","status":"passed","title":"should include disclaimers and legal notices","duration":0.19233700000000908,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Accuracy and Completeness"],"fullName":"User Documentation for Methodologies - T156 Documentation Accuracy and Completeness should be culturally and religiously appropriate","status":"passed","title":"should be culturally and religiously appropriate","duration":0.39873700000003964,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Documentation for Methodologies - T156","Documentation Validation Summary"],"fullName":"User Documentation for Methodologies - T156 Documentation Validation Summary should meet all T156 requirements","status":"passed","title":"should meet all T156 requirements","duration":1.5754680000000008,"failureMessages":[],"meta":{}}],"startTime":1770523711309,"endTime":1770523711322.5754,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/methodology-documentation.test.ts"},{"assertionResults":[{"ancestorTitles":["T158: Methodology Selection Guide","Guide Structure and Content"],"fullName":"T158: Methodology Selection Guide Guide Structure and Content should have a comprehensive introduction","status":"passed","title":"should have a comprehensive introduction","duration":1.437307000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Guide Structure and Content"],"fullName":"T158: Methodology Selection Guide Guide Structure and Content should include a quick decision tree","status":"passed","title":"should include a quick decision tree","duration":0.4335930000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Guide Structure and Content"],"fullName":"T158: Methodology Selection Guide Guide Structure and Content should provide regional recommendations","status":"passed","title":"should provide regional recommendations","duration":0.3924599999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Guide Structure and Content"],"fullName":"T158: Methodology Selection Guide Guide Structure and Content should include asset type considerations","status":"passed","title":"should include asset type considerations","duration":0.33933600000000297,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Interactive Quiz Component"],"fullName":"T158: Methodology Selection Guide Interactive Quiz Component should provide a methodology selection quiz","status":"passed","title":"should provide a methodology selection quiz","duration":0.3932559999999796,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Interactive Quiz Component"],"fullName":"T158: Methodology Selection Guide Interactive Quiz Component should have quiz results interpretation","status":"passed","title":"should have quiz results interpretation","duration":0.3796920000000057,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Interactive Quiz Component"],"fullName":"T158: Methodology Selection Guide Interactive Quiz Component should cover all major decision factors","status":"passed","title":"should cover all major decision factors","duration":0.4068670000000054,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Methodology Explanations"],"fullName":"T158: Methodology Selection Guide Methodology Explanations should explain all supported methodologies","status":"passed","title":"should explain all supported methodologies","duration":0.2595049999999901,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Methodology Explanations"],"fullName":"T158: Methodology Selection Guide Methodology Explanations should provide detailed methodology comparisons","status":"passed","title":"should provide detailed methodology comparisons","duration":0.25004899999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Methodology Explanations"],"fullName":"T158: Methodology Selection Guide Methodology Explanations should explain nisab differences","status":"passed","title":"should explain nisab differences","duration":0.281753000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Practical Guidance"],"fullName":"T158: Methodology Selection Guide Practical Guidance should address special situations","status":"passed","title":"should address special situations","duration":0.23402200000001017,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Practical Guidance"],"fullName":"T158: Methodology Selection Guide Practical Guidance should provide getting started steps","status":"passed","title":"should provide getting started steps","duration":0.2599390000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Practical Guidance"],"fullName":"T158: Methodology Selection Guide Practical Guidance should guide when to consult scholars","status":"passed","title":"should guide when to consult scholars","duration":0.18295200000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","User Experience Features"],"fullName":"T158: Methodology Selection Guide User Experience Features should use clear visual indicators","status":"passed","title":"should use clear visual indicators","duration":0.22290399999999977,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","User Experience Features"],"fullName":"T158: Methodology Selection Guide User Experience Features should provide actionable recommendations","status":"passed","title":"should provide actionable recommendations","duration":0.19333199999999806,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","User Experience Features"],"fullName":"T158: Methodology Selection Guide User Experience Features should be accessible to beginners","status":"passed","title":"should be accessible to beginners","duration":0.2501049999999907,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Additional Resources"],"fullName":"T158: Methodology Selection Guide Additional Resources should provide additional resources","status":"passed","title":"should provide additional resources","duration":0.206844000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Additional Resources"],"fullName":"T158: Methodology Selection Guide Additional Resources should encourage scholarly consultation","status":"passed","title":"should encourage scholarly consultation","duration":1.413710000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Additional Resources"],"fullName":"T158: Methodology Selection Guide Additional Resources should include appropriate disclaimers","status":"passed","title":"should include appropriate disclaimers","duration":0.2550070000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Content Quality"],"fullName":"T158: Methodology Selection Guide Content Quality should have sufficient content depth","status":"passed","title":"should have sufficient content depth","duration":0.5348930000000109,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Content Quality"],"fullName":"T158: Methodology Selection Guide Content Quality should be well structured with clear sections","status":"passed","title":"should be well structured with clear sections","duration":0.18557100000001014,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Content Quality"],"fullName":"T158: Methodology Selection Guide Content Quality should provide logical decision process","status":"passed","title":"should provide logical decision process","duration":0.16780799999997953,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Content Quality"],"fullName":"T158: Methodology Selection Guide Content Quality should balance different considerations","status":"passed","title":"should balance different considerations","duration":0.17083999999999833,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Summary and Validation"],"fullName":"T158: Methodology Selection Guide Summary and Validation should provide clear summary guidance","status":"passed","title":"should provide clear summary guidance","duration":0.19489899999999238,"failureMessages":[],"meta":{}},{"ancestorTitles":["T158: Methodology Selection Guide","Summary and Validation"],"fullName":"T158: Methodology Selection Guide Summary and Validation should meet all T158 requirements","status":"passed","title":"should meet all T158 requirements","duration":1.7519470000000013,"failureMessages":[],"meta":{}}],"startTime":1770523710221,"endTime":1770523710232.752,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/methodology-selection-guide.test.ts"},{"assertionResults":[{"ancestorTitles":["Performance Testing and Optimization - T155","Calendar Conversion Performance"],"fullName":"Performance Testing and Optimization - T155 Calendar Conversion Performance should validate calendar conversion performance <50ms","status":"passed","title":"should validate calendar conversion performance <50ms","duration":63.847334000000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Calendar Conversion Performance"],"fullName":"Performance Testing and Optimization - T155 Calendar Conversion Performance should test batch calendar conversion performance","status":"passed","title":"should test batch calendar conversion performance","duration":0.5504010000000221,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Calendar Conversion Performance"],"fullName":"Performance Testing and Optimization - T155 Calendar Conversion Performance should validate calendar service caching performance","status":"passed","title":"should validate calendar service caching performance","duration":0.4432639999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Zakat Calculation Performance"],"fullName":"Performance Testing and Optimization - T155 Zakat Calculation Performance should validate basic calculation performance <200ms","status":"passed","title":"should validate basic calculation performance <200ms","duration":175.38104700000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Zakat Calculation Performance"],"fullName":"Performance Testing and Optimization - T155 Zakat Calculation Performance should test calculation with historical data performance","status":"passed","title":"should test calculation with historical data performance","duration":0.8409470000000283,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Zakat Calculation Performance"],"fullName":"Performance Testing and Optimization - T155 Zakat Calculation Performance should validate methodology comparison performance","status":"passed","title":"should validate methodology comparison performance","duration":0.43957400000010693,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Database Performance"],"fullName":"Performance Testing and Optimization - T155 Database Performance should validate asset retrieval performance","status":"passed","title":"should validate asset retrieval performance","duration":96.50306999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Database Performance"],"fullName":"Performance Testing and Optimization - T155 Database Performance should test calculation history query performance","status":"passed","title":"should test calculation history query performance","duration":0.5866790000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Database Performance"],"fullName":"Performance Testing and Optimization - T155 Database Performance should validate encryption/decryption performance","status":"passed","title":"should validate encryption/decryption performance","duration":0.4840360000000601,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","API Performance"],"fullName":"Performance Testing and Optimization - T155 API Performance should validate API response times","status":"passed","title":"should validate API response times","duration":523.1768440000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","API Performance"],"fullName":"Performance Testing and Optimization - T155 API Performance should test concurrent API request performance","status":"passed","title":"should test concurrent API request performance","duration":203.6646149999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","API Performance"],"fullName":"Performance Testing and Optimization - T155 API Performance should validate rate limiting performance","status":"passed","title":"should validate rate limiting performance","duration":0.7355979999999818,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Frontend Performance"],"fullName":"Performance Testing and Optimization - T155 Frontend Performance should validate Core Web Vitals targets","status":"passed","title":"should validate Core Web Vitals targets","duration":0.2413370000001578,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Frontend Performance"],"fullName":"Performance Testing and Optimization - T155 Frontend Performance should test JavaScript bundle performance","status":"passed","title":"should test JavaScript bundle performance","duration":0.18545900000003712,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Frontend Performance"],"fullName":"Performance Testing and Optimization - T155 Frontend Performance should validate component render performance","status":"passed","title":"should validate component render performance","duration":177.47540099999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Memory and Resource Performance"],"fullName":"Performance Testing and Optimization - T155 Memory and Resource Performance should validate memory usage patterns","status":"passed","title":"should validate memory usage patterns","duration":0.44825700000001234,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Memory and Resource Performance"],"fullName":"Performance Testing and Optimization - T155 Memory and Resource Performance should test garbage collection efficiency","status":"passed","title":"should test garbage collection efficiency","duration":0.20902299999988827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Memory and Resource Performance"],"fullName":"Performance Testing and Optimization - T155 Memory and Resource Performance should validate resource cleanup","status":"passed","title":"should validate resource cleanup","duration":0.3069000000000415,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Performance Optimization Validation"],"fullName":"Performance Testing and Optimization - T155 Performance Optimization Validation should verify caching strategies effectiveness","status":"passed","title":"should verify caching strategies effectiveness","duration":0.3731920000000173,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Performance Optimization Validation"],"fullName":"Performance Testing and Optimization - T155 Performance Optimization Validation should test lazy loading effectiveness","status":"passed","title":"should test lazy loading effectiveness","duration":0.371646999999939,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Performance Optimization Validation"],"fullName":"Performance Testing and Optimization - T155 Performance Optimization Validation should validate database optimization","status":"passed","title":"should validate database optimization","duration":0.2062269999998989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance Testing and Optimization - T155","Performance Optimization Validation"],"fullName":"Performance Testing and Optimization - T155 Performance Optimization Validation should create performance monitoring report","status":"passed","title":"should create performance monitoring report","duration":0.23704299999985778,"failureMessages":[],"meta":{}}],"startTime":1770523709791,"endTime":1770523711039.3716,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/performance-testing.test.ts"},{"assertionResults":[{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Successful Deletion"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Successful Deletion should delete DRAFT record","status":"passed","title":"should delete DRAFT record","duration":49.943303000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Successful Deletion"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Successful Deletion should allow delete of UNLOCKED record","status":"passed","title":"should allow delete of UNLOCKED record","duration":21.155709000000115,"failureMessages":[],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Delete Restrictions"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Delete Restrictions should reject delete of FINALIZED record","status":"passed","title":"should reject delete of FINALIZED record","duration":23.04615899999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Delete Restrictions"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Delete Restrictions should provide helpful error message for finalized record deletion","status":"passed","title":"should provide helpful error message for finalized record deletion","duration":18.032666999999947,"failureMessages":[],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Error Cases should return 404 for non-existent record","status":"passed","title":"should return 404 for non-existent record","duration":6.33006400000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Error Cases should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":4.682630000000245,"failureMessages":[],"meta":{}},{"ancestorTitles":["DELETE /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"DELETE /api/nisab-year-records/:id - Contract Tests Error Cases should return 404 when trying to delete another user's record","status":"passed","title":"should return 404 when trying to delete another user's record","duration":28.338844999999765,"failureMessages":[],"meta":{}}],"startTime":1770523702268,"endTime":1770523702420.3389,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.delete.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Successful Finalization"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Successful Finalization should finalize DRAFT record when Hawl is complete","status":"passed","title":"should finalize DRAFT record when Hawl is complete","duration":88.45437600000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Successful Finalization"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Successful Finalization should allow finalization with override flag even when Hawl early","status":"passed","title":"should allow finalization with override flag even when Hawl early","duration":60.23526000000038,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Validation Errors should reject finalization when Hawl not complete","status":"passed","title":"should reject finalization when Hawl not complete","duration":23.94239400000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Validation Errors should require acknowledgePremature when override is true","status":"passed","title":"should require acknowledgePremature when override is true","duration":21.335521999999855,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Validation Errors should reject finalization of already FINALIZED record","status":"passed","title":"should reject finalization of already FINALIZED record","duration":20.07667399999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Error Cases"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Error Cases should return 400 (Record Not Found) for non-existent record","status":"passed","title":"should return 400 (Record Not Found) for non-existent record","duration":5.264020000000073,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/finalize - Contract Tests","Error Cases"],"fullName":"POST /api/nisab-year-records/:id/finalize - Contract Tests Error Cases should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":4.268369999999777,"failureMessages":[],"meta":{}}],"startTime":1770523697186,"endTime":1770523697410.2683,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.finalize.test.ts"},{"assertionResults":[{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Response Schema Validation"],"fullName":"GET /api/nisab-year-records - Contract Tests Response Schema Validation should return 200 with valid schema for empty records","status":"passed","title":"should return 200 with valid schema for empty records","duration":35.53235399999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Response Schema Validation"],"fullName":"GET /api/nisab-year-records - Contract Tests Response Schema Validation should return records with correct properties when data exists","status":"passed","title":"should return records with correct properties when data exists","duration":39.776194999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Query Parameter Filtering"],"fullName":"GET /api/nisab-year-records - Contract Tests Query Parameter Filtering should filter by status=DRAFT","status":"passed","title":"should filter by status=DRAFT","duration":27.3525810000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Query Parameter Filtering"],"fullName":"GET /api/nisab-year-records - Contract Tests Query Parameter Filtering should filter by status=FINALIZED","status":"passed","title":"should filter by status=FINALIZED","duration":21.049289999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Query Parameter Filtering"],"fullName":"GET /api/nisab-year-records - Contract Tests Query Parameter Filtering should filter by year=2025","status":"passed","title":"should filter by year=2025","duration":42.6333410000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Query Parameter Filtering"],"fullName":"GET /api/nisab-year-records - Contract Tests Query Parameter Filtering should return all records with status=ALL","status":"passed","title":"should return all records with status=ALL","duration":21.484909999999672,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Authentication & Authorization"],"fullName":"GET /api/nisab-year-records - Contract Tests Authentication & Authorization should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":3.9539989999998397,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Authentication & Authorization"],"fullName":"GET /api/nisab-year-records - Contract Tests Authentication & Authorization should return 401 with invalid token","status":"passed","title":"should return 401 with invalid token","duration":3.86324599999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Authentication & Authorization"],"fullName":"GET /api/nisab-year-records - Contract Tests Authentication & Authorization should only return records owned by authenticated user","status":"passed","title":"should only return records owned by authenticated user","duration":42.85426700000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records - Contract Tests","Live Tracking for DRAFT Records"],"fullName":"GET /api/nisab-year-records - Contract Tests Live Tracking for DRAFT Records should include live tracking fields for DRAFT records","status":"passed","title":"should include live tracking fields for DRAFT records","duration":29.7003679999998,"failureMessages":[],"meta":{}}],"startTime":1770523697119,"endTime":1770523697387.7004,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.get.test.ts"},{"assertionResults":[{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Successful Retrieval"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Successful Retrieval should return 200 with complete record data","status":"passed","title":"should return 200 with complete record data","duration":46.70202700000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Successful Retrieval"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Successful Retrieval should include live tracking for DRAFT records","status":"passed","title":"should include live tracking for DRAFT records","duration":11.503429000000324,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Error Cases should return 404 for non-existent record ID","status":"passed","title":"should return 404 for non-existent record ID","duration":18.330359999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Error Cases should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":4.7779709999999795,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Error Cases should return 404 when accessing another user's record","status":"passed","title":"should return 404 when accessing another user's record","duration":22.335669000000053,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Response Schema Validation"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Response Schema Validation should return correct response structure","status":"passed","title":"should return correct response structure","duration":9.672775999999885,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /api/nisab-year-records/:id - Contract Tests","Response Schema Validation"],"fullName":"GET /api/nisab-year-records/:id - Contract Tests Response Schema Validation should decrypt sensitive fields for display","status":"failed","title":"should decrypt sensitive fields for display","duration":11.601928000000044,"failureMessages":["AssertionError: expected 'number' to be 'string' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.getById.test.ts:160:53\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523694522,"endTime":1770523694647.6018,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.getById.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Successful Record Creation"],"fullName":"POST /api/nisab-year-records - Contract Tests Successful Record Creation should create DRAFT record with required fields","status":"passed","title":"should create DRAFT record with required fields","duration":65.15880599999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Successful Record Creation"],"fullName":"POST /api/nisab-year-records - Contract Tests Successful Record Creation should create record with silver nisab basis","status":"passed","title":"should create record with silver nisab basis","duration":34.005822999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Successful Record Creation"],"fullName":"POST /api/nisab-year-records - Contract Tests Successful Record Creation should calculate nisabThresholdAtStart if not provided","status":"failed","title":"should calculate nisabThresholdAtStart if not provided","duration":29.144064999999955,"failureMessages":["AssertionError: expected 0 to be greater than 0\n    at /home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.post.test.ts:112:56\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Successful Record Creation"],"fullName":"POST /api/nisab-year-records - Contract Tests Successful Record Creation should accept user-provided nisabThresholdAtStart","status":"failed","title":"should accept user-provided nisabThresholdAtStart","duration":29.75220900000022,"failureMessages":["AssertionError: expected +0 to be 5687.2 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.post.test.ts:132:56\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Successful Record Creation"],"fullName":"POST /api/nisab-year-records - Contract Tests Successful Record Creation should accept optional userNotes field","status":"passed","title":"should accept optional userNotes field","duration":25.939190999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Successful Record Creation"],"fullName":"POST /api/nisab-year-records - Contract Tests Successful Record Creation should calculate hawlCompletionDate (354 days after start)","status":"passed","title":"should calculate hawlCompletionDate (354 days after start)","duration":24.19471599999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Request Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Request Validation should return 400 when hawlStartDate is missing","status":"passed","title":"should return 400 when hawlStartDate is missing","duration":4.682024000000183,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Request Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Request Validation should return 400 when nisabBasis is missing","status":"passed","title":"should return 400 when nisabBasis is missing","duration":4.362948000000415,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Request Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Request Validation should return 400 when nisabBasis is invalid","status":"passed","title":"should return 400 when nisabBasis is invalid","duration":5.982715999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Request Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Request Validation should return 400 when hawlStartDate is invalid format","status":"passed","title":"should return 400 when hawlStartDate is invalid format","duration":5.203905000000304,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Request Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Request Validation should return 400 when nisabThresholdAtStart is negative","status":"passed","title":"should return 400 when nisabThresholdAtStart is negative","duration":4.0036770000001525,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Authentication & Authorization"],"fullName":"POST /api/nisab-year-records - Contract Tests Authentication & Authorization should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":4.266432999999779,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Authentication & Authorization"],"fullName":"POST /api/nisab-year-records - Contract Tests Authentication & Authorization should return 401 with invalid token","status":"passed","title":"should return 401 with invalid token","duration":3.8128939999996874,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Authentication & Authorization"],"fullName":"POST /api/nisab-year-records - Contract Tests Authentication & Authorization should create record with authenticated user ID","status":"passed","title":"should create record with authenticated user ID","duration":23.51407300000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Response Schema Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Response Schema Validation should return correct response structure","status":"passed","title":"should return correct response structure","duration":27.66039099999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Response Schema Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Response Schema Validation should include Hijri dates in response","status":"passed","title":"should include Hijri dates in response","duration":24.52262699999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Business Logic Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Business Logic Validation should encrypt sensitive fields in database","status":"passed","title":"should encrypt sensitive fields in database","duration":25.069798999999875,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records - Contract Tests","Business Logic Validation"],"fullName":"POST /api/nisab-year-records - Contract Tests Business Logic Validation should set correct initial status to DRAFT","status":"passed","title":"should set correct initial status to DRAFT","duration":24.245809999999892,"failureMessages":[],"meta":{}}],"startTime":1770523696518,"endTime":1770523696885.2458,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.post.test.ts"},{"assertionResults":[{"ancestorTitles":["PUT /api/nisab-year-records/:id - Contract Tests","Update Records"],"fullName":"PUT /api/nisab-year-records/:id - Contract Tests Update Records should update userNotes on DRAFT record","status":"passed","title":"should update userNotes on DRAFT record","duration":81.15911700000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id - Contract Tests","Update Records"],"fullName":"PUT /api/nisab-year-records/:id - Contract Tests Update Records should update totalLiabilities on DRAFT record","status":"failed","title":"should update totalLiabilities on DRAFT record","duration":39.25017800000023,"failureMessages":["AssertionError: expected '0' to be '1500' // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.put.test.ts:75:59\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id - Contract Tests","Update Records"],"fullName":"PUT /api/nisab-year-records/:id - Contract Tests Update Records should update UNLOCKED record","status":"passed","title":"should update UNLOCKED record","duration":39.068788999999924,"failureMessages":[],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id - Contract Tests","Update Restriction Validation"],"fullName":"PUT /api/nisab-year-records/:id - Contract Tests Update Restriction Validation should reject updates to FINALIZED records","status":"passed","title":"should reject updates to FINALIZED records","duration":24.65442099999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"PUT /api/nisab-year-records/:id - Contract Tests Error Cases should return 404 for non-existent record","status":"passed","title":"should return 404 for non-existent record","duration":9.217385000000377,"failureMessages":[],"meta":{}},{"ancestorTitles":["PUT /api/nisab-year-records/:id - Contract Tests","Error Cases"],"fullName":"PUT /api/nisab-year-records/:id - Contract Tests Error Cases should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":4.038522000000285,"failureMessages":[],"meta":{}}],"startTime":1770523705873,"endTime":1770523706072.0386,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.put.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Successful Unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Successful Unlock should unlock FINALIZED record with valid reason","status":"passed","title":"should unlock FINALIZED record with valid reason","duration":74.29736299999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Successful Unlock"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Successful Unlock should create audit trail entry with unlock reason","status":"passed","title":"should create audit trail entry with unlock reason","duration":33.95204899999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Validation Errors should reject unlock without reason","status":"passed","title":"should reject unlock without reason","duration":18.6303640000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Validation Errors should reject unlock with reason too short (< 10 chars)","status":"passed","title":"should reject unlock with reason too short (< 10 chars)","duration":16.220138000000134,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Validation Errors should reject unlock of DRAFT record","status":"passed","title":"should reject unlock of DRAFT record","duration":20.022647000000234,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Validation Errors"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Validation Errors should reject unlock of already UNLOCKED record","status":"passed","title":"should reject unlock of already UNLOCKED record","duration":22.39720800000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Error Cases"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Error Cases should return 404 for non-existent record","status":"passed","title":"should return 404 for non-existent record","duration":5.500788999999713,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Error Cases"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Error Cases should return 401 without auth token","status":"passed","title":"should return 401 without auth token","duration":4.171308999999837,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Error Cases"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Error Cases should return 404 when trying to unlock another user's record","status":"passed","title":"should return 404 when trying to unlock another user's record","duration":31.357880999999907,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/nisab-year-records/:id/unlock - Contract Tests","Response Schema Validation"],"fullName":"POST /api/nisab-year-records/:id/unlock - Contract Tests Response Schema Validation should return correct response structure","status":"passed","title":"should return correct response structure","duration":30.734106999999767,"failureMessages":[],"meta":{}}],"startTime":1770523693791,"endTime":1770523694048.7341,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/contract/nisabYearRecords.unlock.test.ts"},{"assertionResults":[{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return current assets for DRAFT record","status":"passed","title":"should return current assets for DRAFT record","duration":730.7101629999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 400 for FINALIZED record","status":"passed","title":"should return 400 for FINALIZED record","duration":646.1420469999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 400 for UNLOCKED record","status":"passed","title":"should return 400 for UNLOCKED record","duration":602.876992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 404 for non-existent record","status":"passed","title":"should return 404 for non-existent record","duration":660.2038210000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should return 403 when accessing another user's record","status":"passed","title":"should return 403 when accessing another user's record","duration":1349.494482,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should handle assets deleted after record creation","status":"passed","title":"should handle assets deleted after record creation","duration":698.3507029999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should only return zakatable assets","status":"passed","title":"should only return zakatable assets","duration":732.6861939999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should allow updating record with refreshed assets and persist zakatable wealth correctly","status":"passed","title":"should allow updating record with refreshed assets and persist zakatable wealth correctly","duration":809.8450940000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Asset Refresh Workflow Integration Test","GET /api/nisab-year-records/:id/assets/refresh"],"fullName":"Asset Refresh Workflow Integration Test GET /api/nisab-year-records/:id/assets/refresh should require authentication","status":"passed","title":"should require authentication","duration":722.3812080000007,"failureMessages":[],"meta":{}}],"startTime":1770523668751,"endTime":1770523675703.381,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/assetRefresh.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should finalize DRAFT record after Hawl completion date","status":"failed","title":"should finalize DRAFT record after Hawl completion date","duration":85.6999209999999,"failureMessages":["AssertionError: expected 409 to be 403 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:76:34\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should NOT finalize before Hawl completion date without override","status":"failed","title":"should NOT finalize before Hawl completion date without override","duration":40.87101699999994,"failureMessages":["AssertionError: expected 409 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:103:37\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should allow early finalization with override flag","status":"failed","title":"should allow early finalization with override flag","duration":31.30409200000031,"failureMessages":["AssertionError: expected 409 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:131:37\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should record FINALIZED event in audit trail","status":"failed","title":"should record FINALIZED event in audit trail","duration":51.50850400000036,"failureMessages":["AssertionError: expected 404 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:162:34\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should prevent deletion of FINALIZED record","status":"failed","title":"should prevent deletion of FINALIZED record","duration":48.165441999999985,"failureMessages":["AssertionError: expected 409 to be 403 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:201:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should lock all financial values on finalization","status":"failed","title":"should lock all financial values on finalization","duration":69.99944099999993,"failureMessages":["AssertionError: expected +0 to be 11000 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:235:49\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should NOT allow re-finalization of already FINALIZED record","status":"failed","title":"should NOT allow re-finalization of already FINALIZED record","duration":52.041065000000344,"failureMessages":["AssertionError: expected 409 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts:267:43\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Finalization Workflow"],"fullName":"Integration: Finalization Workflow should include finalizedAt timestamp","status":"passed","title":"should include finalizedAt timestamp","duration":42.73938199999975,"failureMessages":[],"meta":{}}],"startTime":1770523688370,"endTime":1770523688792.7395,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/finalization.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Nisab Achievement Detection"],"fullName":"Integration: Nisab Achievement Detection should detect Nisab achievement and create DRAFT record","status":"failed","title":"should detect Nisab achievement and create DRAFT record","duration":63.20169900000019,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts:90:37\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Nisab Achievement Detection"],"fullName":"Integration: Nisab Achievement Detection should not create duplicate Hawl if active DRAFT exists","status":"failed","title":"should not create duplicate Hawl if active DRAFT exists","duration":29.84633699999995,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts:124:33\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Nisab Achievement Detection"],"fullName":"Integration: Nisab Achievement Detection should use gold-based Nisab if gold threshold is lower","status":"failed","title":"should use gold-based Nisab if gold threshold is lower","duration":25.17782299999999,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts:174:32\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Nisab Achievement Detection"],"fullName":"Integration: Nisab Achievement Detection should lock Nisab threshold value at Hawl start","status":"failed","title":"should lock Nisab threshold value at Hawl start","duration":36.26257399999986,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts:202:55\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Nisab Achievement Detection"],"fullName":"Integration: Nisab Achievement Detection should calculate Hawl completion date as 354 days from start","status":"failed","title":"should calculate Hawl completion date as 354 days from start","duration":24.990086999999676,"failureMessages":["AssertionError: expected NaN to be 354 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts:241:22\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Nisab Achievement Detection"],"fullName":"Integration: Nisab Achievement Detection should include Hijri date equivalents","status":"failed","title":"should include Hijri date equivalents","duration":30.38326300000017,"failureMessages":["TypeError: .toMatch() expects to receive a string, but got undefined\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1165:10)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts:265:44\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523688006,"endTime":1770523688216.3833,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetection.test.ts"},{"assertionResults":[{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should create DRAFT record with assetBreakdown populated when Nisab achieved","status":"passed","title":"should create DRAFT record with assetBreakdown populated when Nisab achieved","duration":830.9291669999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should include correct asset details in snapshot","status":"passed","title":"should include correct asset details in snapshot","duration":750.6591899999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should only include zakatable assets in snapshot","status":"passed","title":"should only include zakatable assets in snapshot","duration":757.7642679999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should encrypt assetBreakdown field","status":"passed","title":"should encrypt assetBreakdown field","duration":800.3383159999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should handle user with no assets","status":"passed","title":"should handle user with no assets","duration":718.8715900000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should handle user with assets below Nisab","status":"passed","title":"should handle user with assets below Nisab","duration":718.0807779999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should create snapshot at exact moment of detection","status":"passed","title":"should create snapshot at exact moment of detection","duration":723.3582080000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should not create duplicate records if Nisab already achieved","status":"passed","title":"should not create duplicate records if Nisab already achieved","duration":783.8224229999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should handle assets with zero value","status":"passed","title":"should handle assets with zero value","duration":767.7346620000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","Asset Snapshot Creation"],"fullName":"Automatic Asset Inclusion in Hawl Detection Asset Snapshot Creation should preserve asset order by addedAt date","status":"passed","title":"should preserve asset order by addedAt date","duration":888.6050660000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Automatic Asset Inclusion in Hawl Detection","JSON Structure Validation"],"fullName":"Automatic Asset Inclusion in Hawl Detection JSON Structure Validation should match exact assetBreakdown JSON structure","status":"passed","title":"should match exact assetBreakdown JSON structure","duration":772.0327010000001,"failureMessages":[],"meta":{}}],"startTime":1770523676691,"endTime":1770523685204.0327,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetectionAssets.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Hawl Detection & Reconciliation Job"],"fullName":"Integration: Hawl Detection & Reconciliation Job should reconcile wealth drift in DRAFT records","status":"passed","title":"should reconcile wealth drift in DRAFT records","duration":68.55515700000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Hawl Detection & Reconciliation Job"],"fullName":"Integration: Hawl Detection & Reconciliation Job should detect missed Nisab achievement (Safety Net)","status":"passed","title":"should detect missed Nisab achievement (Safety Net)","duration":39.23377500000015,"failureMessages":[],"meta":{}}],"startTime":1770523682629,"endTime":1770523682737.234,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlDetectionJob.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Hawl Interruption"],"fullName":"Integration: Hawl Interruption should detect Hawl interruption when wealth drops below Nisab","status":"failed","title":"should detect Hawl interruption when wealth drops below Nisab","duration":26.101016999999956,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts:62:40\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Hawl Interruption"],"fullName":"Integration: Hawl Interruption should archive interrupted DRAFT record","status":"failed","title":"should archive interrupted DRAFT record","duration":38.390398000000005,"failureMessages":["TypeError: Cannot read properties of undefined (reading '0')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts:111:33\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Hawl Interruption"],"fullName":"Integration: Hawl Interruption should allow new Hawl to start after interruption if wealth rises again","status":"failed","title":"should allow new Hawl to start after interruption if wealth rises again","duration":19.089418999999907,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts:141:40\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Hawl Interruption"],"fullName":"Integration: Hawl Interruption should not interrupt if wealth temporarily fluctuates but stays above Nisab","status":"failed","title":"should not interrupt if wealth temporarily fluctuates but stays above Nisab","duration":47.283090999999786,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts:205:33\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Hawl Interruption"],"fullName":"Integration: Hawl Interruption should record interruption in audit trail","status":"failed","title":"should record interruption in audit trail","duration":33.057660999999825,"failureMessages":["TypeError: Cannot read properties of undefined (reading '0')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts:247:42\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Hawl Interruption"],"fullName":"Integration: Hawl Interruption should clear Hawl completion date on interruption","status":"failed","title":"should clear Hawl completion date on interruption","duration":25.710352000000057,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts:282:45\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523685354,"endTime":1770523685543.7104,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/hawlInterruption.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Authentication Errors"],"fullName":"Integration: Invalid Operations and Error Handling Authentication Errors should reject requests without auth token","status":"passed","title":"should reject requests without auth token","duration":5.789135999999871,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Authentication Errors"],"fullName":"Integration: Invalid Operations and Error Handling Authentication Errors should reject requests with invalid token","status":"passed","title":"should reject requests with invalid token","duration":3.8706959999999526,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Authentication Errors"],"fullName":"Integration: Invalid Operations and Error Handling Authentication Errors should reject requests with expired token","status":"passed","title":"should reject requests with expired token","duration":4.621389000000363,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Authorization Errors"],"fullName":"Integration: Invalid Operations and Error Handling Authorization Errors should prevent user from accessing another user's records","status":"failed","title":"should prevent user from accessing another user's records","duration":39.58947100000023,"failureMessages":["AssertionError: expected 404 to be 403 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:108:36\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Authorization Errors"],"fullName":"Integration: Invalid Operations and Error Handling Authorization Errors should prevent user from modifying another user's records","status":"failed","title":"should prevent user from modifying another user's records","duration":26.464380999999776,"failureMessages":["AssertionError: expected 404 to be 403 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:134:36\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Authorization Errors"],"fullName":"Integration: Invalid Operations and Error Handling Authorization Errors should prevent user from deleting another user's records","status":"failed","title":"should prevent user from deleting another user's records","duration":24.982078999999885,"failureMessages":["AssertionError: expected 404 to be 403 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:158:36\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Validation Errors"],"fullName":"Integration: Invalid Operations and Error Handling Validation Errors should reject creation with missing required fields","status":"passed","title":"should reject creation with missing required fields","duration":3.169663000000128,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Validation Errors"],"fullName":"Integration: Invalid Operations and Error Handling Validation Errors should reject invalid nisabBasis value","status":"passed","title":"should reject invalid nisabBasis value","duration":4.425529999999981,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Validation Errors"],"fullName":"Integration: Invalid Operations and Error Handling Validation Errors should reject invalid Hawl completion date (not 354 days)","status":"failed","title":"should reject invalid Hawl completion date (not 354 days)","duration":23.674269000000095,"failureMessages":["AssertionError: expected 201 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:210:31\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Validation Errors"],"fullName":"Integration: Invalid Operations and Error Handling Validation Errors should reject negative wealth values","status":"failed","title":"should reject negative wealth values","duration":16.924575999999888,"failureMessages":["AssertionError: expected 201 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:229:31\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Validation Errors"],"fullName":"Integration: Invalid Operations and Error Handling Validation Errors should reject Zakat amount not equal to 2.5% of zakatable wealth","status":"failed","title":"should reject Zakat amount not equal to 2.5% of zakatable wealth","duration":16.385221999999885,"failureMessages":["AssertionError: expected 201 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:249:31\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Not Found Errors"],"fullName":"Integration: Invalid Operations and Error Handling Not Found Errors should return 404 for non-existent record","status":"passed","title":"should return 404 for non-existent record","duration":4.3047200000000885,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Not Found Errors"],"fullName":"Integration: Invalid Operations and Error Handling Not Found Errors should return 400 when finalizing non-existent record","status":"failed","title":"should return 400 when finalizing non-existent record","duration":4.43597600000021,"failureMessages":["AssertionError: expected 404 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:270:31\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Not Found Errors"],"fullName":"Integration: Invalid Operations and Error Handling Not Found Errors should return 400 when unlocking non-existent record","status":"passed","title":"should return 400 when unlocking non-existent record","duration":2.733371000000261,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Business Logic Errors"],"fullName":"Integration: Invalid Operations and Error Handling Business Logic Errors should reject finalization before Hawl completion without override","status":"failed","title":"should reject finalization before Hawl completion without override","duration":20.22762399999965,"failureMessages":["AssertionError: expected 409 to be 400 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:306:39\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Business Logic Errors"],"fullName":"Integration: Invalid Operations and Error Handling Business Logic Errors should reject unlock without reason","status":"failed","title":"should reject unlock without reason","duration":39.093335000000025,"failureMessages":["AssertionError: expected 'unlockReason is required' to contain 'reason'\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:337:43\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Business Logic Errors"],"fullName":"Integration: Invalid Operations and Error Handling Business Logic Errors should reject unlock with reason too short","status":"failed","title":"should reject unlock with reason too short","duration":38.151928000000225,"failureMessages":["AssertionError: expected 'unlockReason is required' to contain '10 characters'\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:367:43\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Edge Cases"],"fullName":"Integration: Invalid Operations and Error Handling Edge Cases should handle very large wealth values","status":"passed","title":"should handle very large wealth values","duration":20.404249000000164,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Edge Cases"],"fullName":"Integration: Invalid Operations and Error Handling Edge Cases should handle concurrent edits to same record","status":"failed","title":"should handle concurrent edits to same record","duration":5.762444999999843,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts:406:49\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Invalid Operations and Error Handling","Edge Cases"],"fullName":"Integration: Invalid Operations and Error Handling Edge Cases should handle malformed JSON in request body","status":"passed","title":"should handle malformed JSON in request body","duration":5.612899999999627,"failureMessages":[],"meta":{}}],"startTime":1770523684870,"endTime":1770523685183.6128,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/invalidOperations.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should update DRAFT record when asset is added","status":"passed","title":"should update DRAFT record when asset is added","duration":30.46040499999981,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should update DRAFT record when asset value is modified","status":"failed","title":"should update DRAFT record when asset value is modified","duration":6.605993999999555,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts:104:46\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should update DRAFT record when asset is deleted","status":"failed","title":"should update DRAFT record when asset is deleted","duration":11.17988399999922,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts:142:46\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should recalculate Zakat amount when wealth changes","status":"failed","title":"should recalculate Zakat amount when wealth changes","duration":23.521317000000636,"failureMessages":["AssertionError: expected NaN to be close to NaN, received difference is NaN, but expected 0.005\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts:194:24\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should handle non-zakatable assets correctly","status":"passed","title":"should handle non-zakatable assets correctly","duration":16.57885299999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should meet performance requirement (<100ms for aggregation)","status":"failed","title":"should meet performance requirement (<100ms for aggregation)","duration":549.2424950000004,"failureMessages":["AssertionError: expected 404 to be 200 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts:251:29\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should provide asset breakdown by category","status":"failed","title":"should provide asset breakdown by category","duration":4.65783300000021,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts:261:42\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Live Wealth Tracking"],"fullName":"Integration: Live Wealth Tracking should update updatedAt timestamp on recalculation","status":"failed","title":"should update updatedAt timestamp on recalculation","duration":5001.925676,"failureMessages":["Error: STACK_TRACE_ERROR\n    at task (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:638:27)\n    at Object.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:662:16)\n    at Object.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:458:28)\n    at chain (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:369:14)\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts:274:3\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:734:40\n    at runWithSuite (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1849:8)\n    at Object.collect (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:734:10)\n    at Object.collect (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:738:54)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at collectTests (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1179:25)\n    at startTests (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:1817:17)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:117:26\n    at withEnv (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:84:3)\n    at run (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/vitest/dist/chunks/runBaseTests.9Ij9_de-.js:109:2)"],"meta":{}}],"startTime":1770523655258,"endTime":1770523660902.9258,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/liveTracking.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Status Transition Validation","Valid Transitions"],"fullName":"Integration: Status Transition Validation Valid Transitions should allow DRAFT â†’ FINALIZED transition","status":"passed","title":"should allow DRAFT â†’ FINALIZED transition","duration":59.898177999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","Valid Transitions"],"fullName":"Integration: Status Transition Validation Valid Transitions should allow FINALIZED â†’ UNLOCKED transition","status":"passed","title":"should allow FINALIZED â†’ UNLOCKED transition","duration":69.47905700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","Valid Transitions"],"fullName":"Integration: Status Transition Validation Valid Transitions should allow UNLOCKED â†’ FINALIZED transition (re-finalization)","status":"passed","title":"should allow UNLOCKED â†’ FINALIZED transition (re-finalization)","duration":98.04299199999969,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","Invalid Transitions"],"fullName":"Integration: Status Transition Validation Invalid Transitions should NOT allow DRAFT â†’ UNLOCKED transition","status":"passed","title":"should NOT allow DRAFT â†’ UNLOCKED transition","duration":31.97112500000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","Invalid Transitions"],"fullName":"Integration: Status Transition Validation Invalid Transitions should NOT allow FINALIZED â†’ DRAFT transition","status":"passed","title":"should NOT allow FINALIZED â†’ DRAFT transition","duration":43.91716799999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","Invalid Transitions"],"fullName":"Integration: Status Transition Validation Invalid Transitions should NOT allow UNLOCKED â†’ DRAFT transition","status":"passed","title":"should NOT allow UNLOCKED â†’ DRAFT transition","duration":65.06940299999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","Invalid Transitions"],"fullName":"Integration: Status Transition Validation Invalid Transitions should NOT allow direct status field updates","status":"passed","title":"should NOT allow direct status field updates","duration":20.277160000000094,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","State Transition Constraints"],"fullName":"Integration: Status Transition Validation State Transition Constraints should maintain status integrity across multiple operations","status":"passed","title":"should maintain status integrity across multiple operations","duration":77.11056300000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Status Transition Validation","State Transition Constraints"],"fullName":"Integration: Status Transition Validation State Transition Constraints should prevent concurrent status changes","status":"failed","title":"should prevent concurrent status changes","duration":70.0921400000002,"failureMessages":["AssertionError: expected 0 to be greater than or equal to 1\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/statusTransitions.test.ts:333:67\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523691619,"endTime":1770523692156.092,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/statusTransitions.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should unlock FINALIZED record with valid reason","status":"passed","title":"should unlock FINALIZED record with valid reason","duration":109.77372100000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should require unlock reason with minimum 10 characters","status":"passed","title":"should require unlock reason with minimum 10 characters","duration":62.7556639999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should allow editing of UNLOCKED record","status":"failed","title":"should allow editing of UNLOCKED record","duration":108.37508399999979,"failureMessages":["AssertionError: expected +0 to be 12000 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/integration/unlockEdit.test.ts:159:58\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should record UNLOCKED event in audit trail with reason","status":"passed","title":"should record UNLOCKED event in audit trail with reason","duration":82.44675899999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should record EDITED events with changes summary","status":"passed","title":"should record EDITED events with changes summary","duration":113.04932300000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should allow re-finalization after edit","status":"passed","title":"should allow re-finalization after edit","duration":142.10963399999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should record REFINALIZED event in audit trail","status":"passed","title":"should record REFINALIZED event in audit trail","duration":141.92643799999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should NOT allow unlocking DRAFT record","status":"passed","title":"should NOT allow unlocking DRAFT record","duration":44.2687219999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration: Unlock-Edit-Refinalize Workflow"],"fullName":"Integration: Unlock-Edit-Refinalize Workflow should encrypt unlock reason in audit trail","status":"passed","title":"should encrypt unlock reason in audit trail","duration":81.35134700000026,"failureMessages":[],"meta":{}}],"startTime":1770523687998,"endTime":1770523688884.3513,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/integration/unlockEdit.test.ts"},{"assertionResults":[{"ancestorTitles":["WealthAggregationService Performance"],"fullName":"WealthAggregationService Performance should calculate wealth for 500 assets in < 100ms","status":"passed","title":"should calculate wealth for 500 assets in < 100ms","duration":9.533313000000021,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService Performance"],"fullName":"WealthAggregationService Performance should maintain consistent performance across 10 runs","status":"passed","title":"should maintain consistent performance across 10 runs","duration":62.383144000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService Performance"],"fullName":"WealthAggregationService Performance should handle incremental load (50, 100, 250, 500 assets)","status":"passed","title":"should handle incremental load (50, 100, 250, 500 assets)","duration":175.08627299999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService Performance"],"fullName":"WealthAggregationService Performance should efficiently query with userId + isActive index","status":"passed","title":"should efficiently query with userId + isActive index","duration":8.922020999999972,"failureMessages":[],"meta":{}}],"startTime":1770523689340,"endTime":1770523689596.922,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/performance/wealthAggregation.performance.test.ts"},{"assertionResults":[{"ancestorTitles":["EncryptionService alternative separator handling"],"fullName":"EncryptionService alternative separator handling should decrypt encrypted payloads where separator has been replaced with `.=`, and isEncrypted should detect it","status":"passed","title":"should decrypt encrypted payloads where separator has been replaced with `.=`, and isEncrypted should detect it","duration":3.5862129999999866,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService alternative separator handling"],"fullName":"EncryptionService alternative separator handling PaymentRecordService should decrypt fields that use \".=\" separator","status":"failed","title":"PaymentRecordService should decrypt fields that use \".=\" separator","duration":6.9507110000000125,"failureMessages":["AssertionError: expected NaN to be close to 12.34, received difference is NaN, but expected 0.005\n    at /home/chuwi_agent/workspace/zakapp/server/tests/unit/EncryptionServiceAltSeparator.test.ts:41:30\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523680029,"endTime":1770523680039.9507,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/unit/EncryptionServiceAltSeparator.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/components/AuditTrailView.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/components/FinalizationModal.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/components/HawlProgressIndicator.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/components/NisabComparisonWidget.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/components/UnlockReasonDialog.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/security/payment-security-audit.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/services/auditTrailService.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/services/hawlTrackingService.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/services/nisabCalculationService.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/services/nisabYearRecordService.test.ts"},{"assertionResults":[],"startTime":1770523648619,"endTime":1770523648619,"status":"failed","message":"Do not import `@jest/globals` outside of the Jest test environment","name":"/home/chuwi_agent/workspace/zakapp/tests/unit/services/wealthAggregationService.test.ts"},{"assertionResults":[{"ancestorTitles":["Admin System API"],"fullName":"Admin System API GET /api/admin/system/status returns system status","status":"passed","title":"GET /api/admin/system/status returns system status","duration":33.18512499999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin System API"],"fullName":"Admin System API GET /api/admin/system/status/schema returns detailed schema info","status":"failed","title":"GET /api/admin/system/status/schema returns detailed schema info","duration":14.824513999999908,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/admin-system.test.ts:86:30\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin System API"],"fullName":"Admin System API GET /api/admin/system/status requires admin privileges","status":"passed","title":"GET /api/admin/system/status requires admin privileges","duration":684.24136,"failureMessages":[],"meta":{}}],"startTime":1770523700065,"endTime":1770523700797.2415,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/admin-system.test.ts"},{"assertionResults":[{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/summary"],"fullName":"Analytics API Integration Tests GET /api/analytics/summary should return analytics summary for current year","status":"passed","title":"should return analytics summary for current year","duration":39.336186,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/summary"],"fullName":"Analytics API Integration Tests GET /api/analytics/summary should return analytics summary for specific year","status":"passed","title":"should return analytics summary for specific year","duration":24.522306999999728,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/summary"],"fullName":"Analytics API Integration Tests GET /api/analytics/summary should return analytics summary with trends when requested","status":"passed","title":"should return analytics summary with trends when requested","duration":23.930590999999822,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/metrics"],"fullName":"Analytics API Integration Tests GET /api/analytics/metrics should return multiple analytics metrics","status":"passed","title":"should return multiple analytics metrics","duration":41.84523100000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/metrics"],"fullName":"Analytics API Integration Tests GET /api/analytics/metrics should return specific metric types when requested","status":"passed","title":"should return specific metric types when requested","duration":24.844626000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/trends"],"fullName":"Analytics API Integration Tests GET /api/analytics/trends should return analytics trends for default period","status":"passed","title":"should return analytics trends for default period","duration":24.042025999999623,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/trends"],"fullName":"Analytics API Integration Tests GET /api/analytics/trends should return analytics trends for specific period","status":"passed","title":"should return analytics trends for specific period","duration":34.30989599999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/comparison"],"fullName":"Analytics API Integration Tests GET /api/analytics/comparison should return analytics comparison for default years","status":"passed","title":"should return analytics comparison for default years","duration":16.653053,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","GET /api/analytics/comparison"],"fullName":"Analytics API Integration Tests GET /api/analytics/comparison should return analytics comparison for specific years","status":"passed","title":"should return analytics comparison for specific years","duration":13.27765700000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics API Integration Tests","POST /api/analytics/cache/clear"],"fullName":"Analytics API Integration Tests POST /api/analytics/cache/clear should clear analytics cache successfully","status":"passed","title":"should clear analytics cache successfully","duration":9.562409000000116,"failureMessages":[],"meta":{}}],"startTime":1770523691070,"endTime":1770523691323.5625,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/analytics-api.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Auth and Assets API"],"fullName":"Integration: Auth and Assets API should register, login, and create an asset successfully","status":"passed","title":"should register, login, and create an asset successfully","duration":731.376851,"failureMessages":[],"meta":{}}],"startTime":1770523681161,"endTime":1770523681892.377,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/assets.api.test.ts"},{"assertionResults":[{"ancestorTitles":["Integration: Asset eligibility and passive modifier"],"fullName":"Integration: Asset eligibility and passive modifier creates a passive asset, then disables eligibility and verifies summary excludes it","status":"passed","title":"creates a passive asset, then disables eligibility and verifies summary excludes it","duration":754.6557469999998,"failureMessages":[],"meta":{}}],"startTime":1770523678236,"endTime":1770523678990.6558,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/assets.eligibility.test.ts"},{"assertionResults":[{"ancestorTitles":["Assets API - Passive Investment Integration (US1)","POST /api/assets with passive investment"],"fullName":"Assets API - Passive Investment Integration (US1) POST /api/assets with passive investment creates Stock asset with passive flag and returns 30% modifier","status":"passed","title":"creates Stock asset with passive flag and returns 30% modifier","duration":1.6385980000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Assets API - Passive Investment Integration (US1)","POST /api/assets with passive investment"],"fullName":"Assets API - Passive Investment Integration (US1) POST /api/assets with passive investment rejects Stock with conflicting modifiers (passive + restricted)","status":"passed","title":"rejects Stock with conflicting modifiers (passive + restricted)","duration":0.36252600000000257,"failureMessages":[],"meta":{}},{"ancestorTitles":["Assets API - Passive Investment Integration (US1)","POST /api/assets with passive investment"],"fullName":"Assets API - Passive Investment Integration (US1) POST /api/assets with passive investment rejects passive flag for non-applicable asset type (Cash)","status":"passed","title":"rejects passive flag for non-applicable asset type (Cash)","duration":0.22193299999997862,"failureMessages":[],"meta":{}},{"ancestorTitles":["Assets API - Passive Investment Integration (US1)","GET /api/assets with modifier filters"],"fullName":"Assets API - Passive Investment Integration (US1) GET /api/assets with modifier filters filters assets by modifierType=passive","status":"passed","title":"filters assets by modifierType=passive","duration":0.3014350000000263,"failureMessages":[],"meta":{}},{"ancestorTitles":["Assets API - Passive Investment Integration (US1)","PUT /api/assets/:id modifier update"],"fullName":"Assets API - Passive Investment Integration (US1) PUT /api/assets/:id modifier update updates asset from active (1.0) to passive (0.3)","status":"passed","title":"updates asset from active (1.0) to passive (0.3)","duration":0.2886540000000082,"failureMessages":[],"meta":{}}],"startTime":1770523712902,"endTime":1770523712905.2886,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/assets.passive.test.ts"},{"assertionResults":[{"ancestorTitles":["Admin Encryption Remediation API"],"fullName":"Admin Encryption Remediation API scan creates remediation for prev-key encrypted payment","status":"failed","title":"scan creates remediation for prev-key encrypted payment","duration":13.752005000000281,"failureMessages":["AssertionError: expected 0 to be greater than or equal to 1\n    at /home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/encryption-admin.test.ts:122:30\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin Encryption Remediation API"],"fullName":"Admin Encryption Remediation API retry with correct previous key resolves remediation and re-encrypts","status":"failed","title":"retry with correct previous key resolves remediation and re-encrypts","duration":8.686415000000125,"failureMessages":["AssertionError: expected undefined to be truthy\n    at /home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/encryption-admin.test.ts:135:19\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1770523700614,"endTime":1770523700636.6865,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/integration/encryption-admin.test.ts"},{"assertionResults":[{"ancestorTitles":["AnalyticsService - Cache Logic","constructor"],"fullName":"AnalyticsService - Cache Logic constructor should throw error if ENCRYPTION_KEY is not set","status":"passed","title":"should throw error if ENCRYPTION_KEY is not set","duration":2.2161350000000084,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","constructor"],"fullName":"AnalyticsService - Cache Logic constructor should initialize with correct cache TTL values","status":"passed","title":"should initialize with correct cache TTL values","duration":0.5364390000000299,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should return 60 minutes for wealth_trend","status":"passed","title":"should return 60 minutes for wealth_trend","duration":0.2270819999999958,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should return 60 minutes for zakat_trend","status":"passed","title":"should return 60 minutes for zakat_trend","duration":0.20666699999998173,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should return 30 minutes for asset_composition","status":"passed","title":"should return 30 minutes for asset_composition","duration":0.19946099999998523,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should return 30 minutes for payment_distribution","status":"passed","title":"should return 30 minutes for payment_distribution","duration":0.2223470000000134,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should return 15 minutes for unknown metric types (default)","status":"passed","title":"should return 15 minutes for unknown metric types (default)","duration":0.1523239999999646,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should handle uppercase metric names","status":"passed","title":"should handle uppercase metric names","duration":0.1343599999999583,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getCacheTTL"],"fullName":"AnalyticsService - Cache Logic getCacheTTL should handle mixed case metric names","status":"passed","title":"should handle mixed case metric names","duration":0.18181600000002618,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getWealthTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getWealthTrend - Cache Behavior should check cache first","status":"passed","title":"should check cache first","duration":2.295447000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getWealthTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getWealthTrend - Cache Behavior should return cached result if available","status":"passed","title":"should return cached result if available","duration":0.48827599999998483,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getWealthTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getWealthTrend - Cache Behavior should calculate and cache if not in cache","status":"passed","title":"should calculate and cache if not in cache","duration":1.8019560000000183,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getWealthTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getWealthTrend - Cache Behavior should use correct TTL when caching wealth trend","status":"passed","title":"should use correct TTL when caching wealth trend","duration":0.4896850000000086,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getWealthTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getWealthTrend - Cache Behavior should filter snapshots by date range","status":"passed","title":"should filter snapshots by date range","duration":0.6933200000000284,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getZakatTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getZakatTrend - Cache Behavior should use 60-minute TTL for historical Zakat data","status":"passed","title":"should use 60-minute TTL for historical Zakat data","duration":0.5187440000000265,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getZakatTrend - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getZakatTrend - Cache Behavior should check cache before calculating","status":"passed","title":"should check cache before calculating","duration":0.3323769999999513,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getPaymentDistribution - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getPaymentDistribution - Cache Behavior should use 30-minute TTL for payment distribution","status":"passed","title":"should use 30-minute TTL for payment distribution","duration":0.4240780000000086,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","getPaymentDistribution - Cache Behavior"],"fullName":"AnalyticsService - Cache Logic getPaymentDistribution - Cache Behavior should return cached distribution if available","status":"passed","title":"should return cached distribution if available","duration":0.24157399999995732,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","cache TTL optimization strategy"],"fullName":"AnalyticsService - Cache Logic cache TTL optimization strategy should prioritize historical metrics with longer TTL","status":"passed","title":"should prioritize historical metrics with longer TTL","duration":0.2056800000000294,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","cache TTL optimization strategy"],"fullName":"AnalyticsService - Cache Logic cache TTL optimization strategy should use same TTL for all historical metrics","status":"passed","title":"should use same TTL for all historical metrics","duration":0.17115400000000136,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","cache TTL optimization strategy"],"fullName":"AnalyticsService - Cache Logic cache TTL optimization strategy should use same TTL for all moderate frequency metrics","status":"passed","title":"should use same TTL for all moderate frequency metrics","duration":0.14044799999999213,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","decryptMetricData"],"fullName":"AnalyticsService - Cache Logic decryptMetricData should handle null metric","status":"passed","title":"should handle null metric","duration":0.15572499999996126,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","decryptMetricData"],"fullName":"AnalyticsService - Cache Logic decryptMetricData should handle already decrypted JSON objects","status":"passed","title":"should handle already decrypted JSON objects","duration":0.3406190000000038,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","decryptMetricData"],"fullName":"AnalyticsService - Cache Logic decryptMetricData should preserve non-encrypted fields","status":"passed","title":"should preserve non-encrypted fields","duration":0.19413100000002714,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","performance characteristics"],"fullName":"AnalyticsService - Cache Logic performance characteristics should minimize database calls with caching","status":"passed","title":"should minimize database calls with caching","duration":0.2680599999999913,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnalyticsService - Cache Logic","performance characteristics"],"fullName":"AnalyticsService - Cache Logic performance characteristics should batch snapshots queries efficiently","status":"passed","title":"should batch snapshots queries efficiently","duration":5.585664000000008,"failureMessages":[],"meta":{}}],"startTime":1770523666439,"endTime":1770523666458.5857,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/unit/AnalyticsService.test.ts"},{"assertionResults":[{"ancestorTitles":["AnnualSummaryService","constructor"],"fullName":"AnnualSummaryService constructor should throw error if ENCRYPTION_KEY is not set","status":"passed","title":"should throw error if ENCRYPTION_KEY is not set","duration":2.676224999999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should throw error if snapshot not found","status":"passed","title":"should throw error if snapshot not found","duration":1.5328939999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should generate summary with correct totals","status":"passed","title":"should generate summary with correct totals","duration":2.097122000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should calculate total paid correctly","status":"passed","title":"should calculate total paid correctly","duration":1.9972080000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should calculate outstanding Zakat correctly","status":"passed","title":"should calculate outstanding Zakat correctly","duration":0.6309709999999882,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should group payments by category","status":"passed","title":"should group payments by category","duration":1.0184219999999868,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should group payments by type","status":"passed","title":"should group payments by type","duration":0.5062910000000329,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should handle zero payments","status":"passed","title":"should handle zero payments","duration":0.5736360000000218,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should include comparative analysis when previous year exists","status":"passed","title":"should include comparative analysis when previous year exists","duration":0.6061559999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should calculate percentage changes correctly","status":"passed","title":"should calculate percentage changes correctly","duration":0.5199420000000146,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should handle division by zero in percentage calculations","status":"passed","title":"should handle division by zero in percentage calculations","duration":0.32901800000001913,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should not include comparative analysis for first year","status":"passed","title":"should not include comparative analysis for first year","duration":0.27640300000001616,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should include asset breakdown from snapshot","status":"passed","title":"should include asset breakdown from snapshot","duration":0.25302799999997205,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should include nisab information","status":"passed","title":"should include nisab information","duration":0.6216120000000274,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should calculate correct number of payments","status":"passed","title":"should calculate correct number of payments","duration":0.5165669999999523,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should set correct years","status":"passed","title":"should set correct years","duration":0.4058459999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","generateSummary"],"fullName":"AnnualSummaryService generateSummary should use methodology from snapshot","status":"passed","title":"should use methodology from snapshot","duration":0.37284800000003315,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","getSummary"],"fullName":"AnnualSummaryService getSummary should retrieve summary by ID","status":"passed","title":"should retrieve summary by ID","duration":0.3424330000000282,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","getSummary"],"fullName":"AnnualSummaryService getSummary should return null if summary not found","status":"passed","title":"should return null if summary not found","duration":0.18535600000001295,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","getSummaryBySnapshot"],"fullName":"AnnualSummaryService getSummaryBySnapshot should retrieve summary by snapshot ID","status":"passed","title":"should retrieve summary by snapshot ID","duration":0.29277099999995926,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","decryptSummaryData"],"fullName":"AnnualSummaryService decryptSummaryData should handle null summary","status":"passed","title":"should handle null summary","duration":0.14099499999997533,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","decryptSummaryData"],"fullName":"AnnualSummaryService decryptSummaryData should handle already decrypted objects","status":"passed","title":"should handle already decrypted objects","duration":0.4999180000000365,"failureMessages":[],"meta":{}},{"ancestorTitles":["AnnualSummaryService","decryptSummaryData"],"fullName":"AnnualSummaryService decryptSummaryData should preserve non-encrypted fields","status":"passed","title":"should preserve non-encrypted fields","duration":0.2615339999999833,"failureMessages":[],"meta":{}}],"startTime":1770523710567,"endTime":1770523710584.2615,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/unit/AnnualSummaryService.test.ts"},{"assertionResults":[{"ancestorTitles":["CalendarConversionService","gregorianToHijri"],"fullName":"CalendarConversionService gregorianToHijri should convert a known Gregorian date to Hijri correctly","status":"passed","title":"should convert a known Gregorian date to Hijri correctly","duration":2.5211839999999484,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","gregorianToHijri"],"fullName":"CalendarConversionService gregorianToHijri should convert Ramadan dates correctly","status":"passed","title":"should convert Ramadan dates correctly","duration":0.5510719999999765,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","gregorianToHijri"],"fullName":"CalendarConversionService gregorianToHijri should handle edge case dates","status":"passed","title":"should handle edge case dates","duration":0.5377340000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","gregorianToHijri"],"fullName":"CalendarConversionService gregorianToHijri should return correct month names for all months","status":"passed","title":"should return correct month names for all months","duration":3.1031960000000254,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","hijriToGregorian"],"fullName":"CalendarConversionService hijriToGregorian should convert a known Hijri date to Gregorian correctly","status":"passed","title":"should convert a known Hijri date to Gregorian correctly","duration":0.5446139999999104,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","hijriToGregorian"],"fullName":"CalendarConversionService hijriToGregorian should convert back and forth consistently","status":"passed","title":"should convert back and forth consistently","duration":0.4264050000001589,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","hijriToGregorian"],"fullName":"CalendarConversionService hijriToGregorian should handle Muharram (first month)","status":"passed","title":"should handle Muharram (first month)","duration":0.40768900000011854,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","hijriToGregorian"],"fullName":"CalendarConversionService hijriToGregorian should handle Dhu al-Hijjah (last month)","status":"passed","title":"should handle Dhu al-Hijjah (last month)","duration":0.22120700000004945,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","formatBothCalendars"],"fullName":"CalendarConversionService formatBothCalendars should format date with both calendars","status":"passed","title":"should format date with both calendars","duration":1.531336999999894,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","formatBothCalendars"],"fullName":"CalendarConversionService formatBothCalendars should use custom format pattern","status":"passed","title":"should use custom format pattern","duration":0.48150299999997515,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","formatBothCalendars"],"fullName":"CalendarConversionService formatBothCalendars should include Hijri month name","status":"passed","title":"should include Hijri month name","duration":0.3444810000000871,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","getCurrentHijriDate"],"fullName":"CalendarConversionService getCurrentHijriDate should return current Hijri date","status":"passed","title":"should return current Hijri date","duration":0.46527599999990343,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","getCurrentHijriDate"],"fullName":"CalendarConversionService getCurrentHijriDate should return valid month name","status":"passed","title":"should return valid month name","duration":16.46656599999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","getCurrentHijriYear"],"fullName":"CalendarConversionService getCurrentHijriYear should return current Hijri year as a number","status":"passed","title":"should return current Hijri year as a number","duration":0.36932200000001103,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","getCurrentHijriYear"],"fullName":"CalendarConversionService getCurrentHijriYear should be consistent with getCurrentHijriDate","status":"passed","title":"should be consistent with getCurrentHijriDate","duration":0.17740600000001905,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","edge cases and error handling"],"fullName":"CalendarConversionService edge cases and error handling should handle leap years correctly","status":"passed","title":"should handle leap years correctly","duration":0.23301000000014938,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","edge cases and error handling"],"fullName":"CalendarConversionService edge cases and error handling should handle dates around year boundaries","status":"passed","title":"should handle dates around year boundaries","duration":0.16211000000021158,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","edge cases and error handling"],"fullName":"CalendarConversionService edge cases and error handling should handle century transitions","status":"passed","title":"should handle century transitions","duration":0.14734699999985423,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","integration scenarios"],"fullName":"CalendarConversionService integration scenarios should support Zakat anniversary calculations","status":"passed","title":"should support Zakat anniversary calculations","duration":0.2452250000001186,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarConversionService","integration scenarios"],"fullName":"CalendarConversionService integration scenarios should handle Ramadan date tracking","status":"passed","title":"should handle Ramadan date tracking","duration":0.17929500000013832,"failureMessages":[],"meta":{}}],"startTime":1770523711953,"endTime":1770523711983.245,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/unit/CalendarConversionService.test.ts"},{"assertionResults":[{"ancestorTitles":["ComparisonService","constructor"],"fullName":"ComparisonService constructor should throw error if ENCRYPTION_KEY is not set","status":"passed","title":"should throw error if ENCRYPTION_KEY is not set","duration":2.7493029999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should throw error if less than 2 snapshots provided","status":"passed","title":"should throw error if less than 2 snapshots provided","duration":1.2883729999999787,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should throw error if snapshot not found","status":"passed","title":"should throw error if snapshot not found","duration":0.7483119999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should detect increasing wealth trend","status":"passed","title":"should detect increasing wealth trend","duration":1.5201729999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should detect increasing zakat trend","status":"passed","title":"should detect increasing zakat trend","duration":0.4038620000000037,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should calculate correct growth rate","status":"passed","title":"should calculate correct growth rate","duration":0.5166209999999865,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should calculate correct wealth statistics","status":"passed","title":"should calculate correct wealth statistics","duration":0.41700700000001234,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should calculate correct zakat statistics","status":"passed","title":"should calculate correct zakat statistics","duration":0.4441439999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should sort snapshots by year","status":"passed","title":"should sort snapshots by year","duration":0.5528719999999794,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should generate insights","status":"passed","title":"should generate insights","duration":0.4955539999999701,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should detect decreasing trend","status":"passed","title":"should detect decreasing trend","duration":0.37029799999999113,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareSnapshots"],"fullName":"ComparisonService compareSnapshots should detect stable trend","status":"passed","title":"should detect stable trend","duration":0.31995799999998553,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareAllYears"],"fullName":"ComparisonService compareAllYears should return empty result if no snapshots","status":"passed","title":"should return empty result if no snapshots","duration":1.1284329999999727,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareAllYears"],"fullName":"ComparisonService compareAllYears should return all years data","status":"passed","title":"should return all years data","duration":0.6999870000000215,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareAllYears"],"fullName":"ComparisonService compareAllYears should include payment data","status":"passed","title":"should include payment data","duration":0.2536359999999718,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareAllYears"],"fullName":"ComparisonService compareAllYears should calculate year-over-year changes","status":"passed","title":"should calculate year-over-year changes","duration":0.3301370000000361,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","compareAllYears"],"fullName":"ComparisonService compareAllYears should detect overall trend from multiple years","status":"passed","title":"should detect overall trend from multiple years","duration":0.5341840000000388,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","trend calculation logic"],"fullName":"ComparisonService trend calculation logic should handle edge case with single value","status":"passed","title":"should handle edge case with single value","duration":0.1484609999999975,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","trend calculation logic"],"fullName":"ComparisonService trend calculation logic should handle exact threshold values","status":"passed","title":"should handle exact threshold values","duration":0.22604499999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","trend calculation logic"],"fullName":"ComparisonService trend calculation logic should handle mixed trends","status":"passed","title":"should handle mixed trends","duration":0.2618800000000192,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","insights generation"],"fullName":"ComparisonService insights generation should generate positive growth insights","status":"passed","title":"should generate positive growth insights","duration":0.28846499999997377,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","insights generation"],"fullName":"ComparisonService insights generation should generate decline warnings","status":"passed","title":"should generate decline warnings","duration":0.2871719999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["ComparisonService","insights generation"],"fullName":"ComparisonService insights generation should acknowledge stable wealth","status":"passed","title":"should acknowledge stable wealth","duration":0.29232600000000275,"failureMessages":[],"meta":{}}],"startTime":1770523710323,"endTime":1770523710338.2922,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/unit/ComparisonService.test.ts"},{"assertionResults":[{"ancestorTitles":["PaymentService","recordPayment"],"fullName":"PaymentService recordPayment should record a payment successfully","status":"passed","title":"should record a payment successfully","duration":4.954161999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["PaymentService","recordPayment"],"fullName":"PaymentService recordPayment should throw error if calculation not found","status":"passed","title":"should throw error if calculation not found","duration":1.7571609999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["PaymentService","recordPayment"],"fullName":"PaymentService recordPayment should throw error if recipients total does not match amount","status":"passed","title":"should throw error if recipients total does not match amount","duration":0.4869810000000143,"failureMessages":[],"meta":{}},{"ancestorTitles":["PaymentService","getPaymentById"],"fullName":"PaymentService getPaymentById should return payment if found","status":"passed","title":"should return payment if found","duration":0.4223929999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["PaymentService","getPaymentById"],"fullName":"PaymentService getPaymentById should throw error if payment not found","status":"passed","title":"should throw error if payment not found","duration":0.36750299999999925,"failureMessages":[],"meta":{}},{"ancestorTitles":["PaymentService","getPaymentHistory"],"fullName":"PaymentService getPaymentHistory should return paginated payments","status":"passed","title":"should return paginated payments","duration":0.9374649999999747,"failureMessages":[],"meta":{}}],"startTime":1770523711932,"endTime":1770523711941.9375,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/unit/PaymentService.test.ts"},{"assertionResults":[{"ancestorTitles":["ReminderService","createReminder"],"fullName":"ReminderService createReminder should create a reminder with all required fields","status":"passed","title":"should create a reminder with all required fields","duration":3.511244999999974,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","createReminder"],"fullName":"ReminderService createReminder should handle optional metadata","status":"passed","title":"should handle optional metadata","duration":0.5465940000000273,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","getReminder"],"fullName":"ReminderService getReminder should retrieve reminder by ID","status":"passed","title":"should retrieve reminder by ID","duration":0.45581599999997024,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","getReminder"],"fullName":"ReminderService getReminder should return null if reminder not found","status":"passed","title":"should return null if reminder not found","duration":0.2334830000000352,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","getActiveReminders"],"fullName":"ReminderService getActiveReminders should retrieve all active reminders","status":"passed","title":"should retrieve all active reminders","duration":0.3941599999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","getActiveReminders"],"fullName":"ReminderService getActiveReminders should return empty array if no active reminders","status":"passed","title":"should return empty array if no active reminders","duration":0.3498459999999568,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","listReminders"],"fullName":"ReminderService listReminders should list reminders with pagination","status":"passed","title":"should list reminders with pagination","duration":1.0259290000000192,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","listReminders"],"fullName":"ReminderService listReminders should filter by status","status":"passed","title":"should filter by status","duration":1.7115799999999695,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","listReminders"],"fullName":"ReminderService listReminders should filter by event type","status":"passed","title":"should filter by event type","duration":0.5622720000000072,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","listReminders"],"fullName":"ReminderService listReminders should support sorting","status":"passed","title":"should support sorting","duration":0.45632399999999507,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","updateStatus"],"fullName":"ReminderService updateStatus should update reminder status","status":"passed","title":"should update reminder status","duration":0.37438900000000785,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","updateStatus"],"fullName":"ReminderService updateStatus should handle all status transitions","status":"passed","title":"should handle all status transitions","duration":0.2820600000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","acknowledgeReminder"],"fullName":"ReminderService acknowledgeReminder should acknowledge a reminder","status":"passed","title":"should acknowledge a reminder","duration":0.46183100000001787,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","dismissReminder"],"fullName":"ReminderService dismissReminder should dismiss a reminder","status":"passed","title":"should dismiss a reminder","duration":0.36530799999997043,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","markPendingAsShown"],"fullName":"ReminderService markPendingAsShown should mark all pending reminders as shown","status":"passed","title":"should mark all pending reminders as shown","duration":0.20862900000003037,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","markPendingAsShown"],"fullName":"ReminderService markPendingAsShown should return 0 if no pending reminders","status":"passed","title":"should return 0 if no pending reminders","duration":0.16888199999999642,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","deleteReminder"],"fullName":"ReminderService deleteReminder should delete a reminder","status":"passed","title":"should delete a reminder","duration":0.25233199999996714,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","deleteOldReminders"],"fullName":"ReminderService deleteOldReminders should delete reminders older than specified days","status":"passed","title":"should delete reminders older than specified days","duration":0.26965800000004947,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","deleteOldReminders"],"fullName":"ReminderService deleteOldReminders should use default of 90 days if not specified","status":"passed","title":"should use default of 90 days if not specified","duration":0.21143200000000206,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","deleteOldReminders"],"fullName":"ReminderService deleteOldReminders should handle different retention periods","status":"passed","title":"should handle different retention periods","duration":0.22743200000002162,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","getStatistics"],"fullName":"ReminderService getStatistics should return reminder statistics","status":"passed","title":"should return reminder statistics","duration":0.43320099999999684,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","getStatistics"],"fullName":"ReminderService getStatistics should return zero statistics for new user","status":"passed","title":"should return zero statistics for new user","duration":0.2307299999999941,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","triggerZakatAnniversaryReminders"],"fullName":"ReminderService triggerZakatAnniversaryReminders should create reminders for upcoming anniversaries","status":"passed","title":"should create reminders for upcoming anniversaries","duration":0.9228899999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","triggerZakatAnniversaryReminders"],"fullName":"ReminderService triggerZakatAnniversaryReminders should check for existing reminders","status":"passed","title":"should check for existing reminders","duration":0.2510040000000231,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","triggerZakatAnniversaryReminders"],"fullName":"ReminderService triggerZakatAnniversaryReminders should not duplicate reminders","status":"passed","title":"should not duplicate reminders","duration":0.17055099999998902,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","priority handling"],"fullName":"ReminderService priority handling should support high priority reminders","status":"passed","title":"should support high priority reminders","duration":0.14161699999999655,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","priority handling"],"fullName":"ReminderService priority handling should support medium priority reminders","status":"passed","title":"should support medium priority reminders","duration":0.12243799999998828,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","priority handling"],"fullName":"ReminderService priority handling should support low priority reminders","status":"passed","title":"should support low priority reminders","duration":0.11748899999997775,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","event types"],"fullName":"ReminderService event types should support zakat_anniversary_approaching event type","status":"passed","title":"should support zakat_anniversary_approaching event type","duration":0.12261800000004541,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","event types"],"fullName":"ReminderService event types should support payment_incomplete event type","status":"passed","title":"should support payment_incomplete event type","duration":0.07590199999998504,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","event types"],"fullName":"ReminderService event types should support calculation_overdue event type","status":"passed","title":"should support calculation_overdue event type","duration":0.0680290000000241,"failureMessages":[],"meta":{}},{"ancestorTitles":["ReminderService","event types"],"fullName":"ReminderService event types should support methodology_review event type","status":"passed","title":"should support methodology_review event type","duration":0.10478499999999258,"failureMessages":[],"meta":{}}],"startTime":1770523709995,"endTime":1770523710011.1047,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/unit/ReminderService.test.ts"},{"assertionResults":[{"ancestorTitles":["assetModifiers utils","determineModifier"],"fullName":"assetModifiers utils determineModifier returns 0.0 when restricted","status":"passed","title":"returns 0.0 when restricted","duration":1.862419999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","determineModifier"],"fullName":"assetModifiers utils determineModifier returns 0.3 when passive","status":"passed","title":"returns 0.3 when passive","duration":0.21764899999999443,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","determineModifier"],"fullName":"assetModifiers utils determineModifier returns 1.0 when no flags set","status":"passed","title":"returns 1.0 when no flags set","duration":0.16944999999998345,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","determineModifier"],"fullName":"assetModifiers utils determineModifier prioritizes restricted over passive","status":"passed","title":"prioritizes restricted over passive","duration":0.20722200000000157,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","calculateZakatableAmount"],"fullName":"assetModifiers utils calculateZakatableAmount applies modifier and exchange rate","status":"passed","title":"applies modifier and exchange rate","duration":0.24182000000001835,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","calculateAssetZakat"],"fullName":"assetModifiers utils calculateAssetZakat calculates zakat with passive modifier","status":"passed","title":"calculates zakat with passive modifier","duration":0.2607360000000085,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","calculateAssetZakat"],"fullName":"assetModifiers utils calculateAssetZakat calculates zero zakat for restricted modifier","status":"passed","title":"calculates zero zakat for restricted modifier","duration":0.16423900000000913,"failureMessages":[],"meta":{}},{"ancestorTitles":["assetModifiers utils","getModifierLabel"],"fullName":"assetModifiers utils getModifierLabel returns friendly labels","status":"passed","title":"returns friendly labels","duration":0.3422979999999711,"failureMessages":[],"meta":{}}],"startTime":1770523711642,"endTime":1770523711646.3423,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/utils/assetModifiers.test.ts"},{"assertionResults":[{"ancestorTitles":["checkSchemaStatus"],"fullName":"checkSchemaStatus should return upToDate=true when no pending migrations","status":"passed","title":"should return upToDate=true when no pending migrations","duration":6.750188999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSchemaStatus"],"fullName":"checkSchemaStatus should return upToDate=false when there are pending migrations","status":"passed","title":"should return upToDate=false when there are pending migrations","duration":2.9559059999999704,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSchemaStatus"],"fullName":"checkSchemaStatus should detect missing migrations (applied but not in code)","status":"passed","title":"should detect missing migrations (applied but not in code)","duration":0.8969629999999711,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSchemaStatus"],"fullName":"checkSchemaStatus should handle error when migrations directory is not found","status":"passed","title":"should handle error when migrations directory is not found","duration":0.712018999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["checkSchemaStatus"],"fullName":"checkSchemaStatus should handle DB errors","status":"passed","title":"should handle DB errors","duration":0.8190700000000106,"failureMessages":[],"meta":{}}],"startTime":1770523712267,"endTime":1770523712279.819,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/__tests__/utils/schemaCheck.test.ts"},{"assertionResults":[{"ancestorTitles":["AssetService category normalization"],"fullName":"AssetService category normalization accepts PRIMARY_RESIDENCE and maps to property","status":"passed","title":"accepts PRIMARY_RESIDENCE and maps to property","duration":21.696504000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["AssetService category normalization"],"fullName":"AssetService category normalization accepts BUSINESS_INVENTORY and maps to business","status":"passed","title":"accepts BUSINESS_INVENTORY and maps to business","duration":2.549954000000014,"failureMessages":[],"meta":{}}],"startTime":1770523676124,"endTime":1770523676148.55,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/services/__tests__/AssetService.categoryNormalization.test.ts"},{"assertionResults":[{"ancestorTitles":["AssetService update asset modifier validation"],"fullName":"AssetService update asset modifier validation allows setting passive investment for stocks (case-insensitive category)","status":"passed","title":"allows setting passive investment for stocks (case-insensitive category)","duration":5.500743,"failureMessages":[],"meta":{}},{"ancestorTitles":["AssetService update asset modifier validation"],"fullName":"AssetService update asset modifier validation rejects passive investment on ineligible category","status":"passed","title":"rejects passive investment on ineligible category","duration":1.7522960000000012,"failureMessages":[],"meta":{}}],"startTime":1770523713319,"endTime":1770523713326.7522,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/services/__tests__/AssetService.update.test.ts"},{"assertionResults":[{"ancestorTitles":["EncryptionService decryption tolerance"],"fullName":"EncryptionService decryption tolerance decryptObject should return object for non-encrypted object input (sync)","status":"passed","title":"decryptObject should return object for non-encrypted object input (sync)","duration":2.985034999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService decryption tolerance"],"fullName":"EncryptionService decryption tolerance decryptObject should return number for non-encrypted numeric input (sync)","status":"passed","title":"decryptObject should return number for non-encrypted numeric input (sync)","duration":0.651958000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["EncryptionService decryption tolerance"],"fullName":"EncryptionService decryption tolerance decryptObject should return stringified object for non-encrypted object using async path (with key)","status":"passed","title":"decryptObject should return stringified object for non-encrypted object using async path (with key)","duration":0.46718699999996716,"failureMessages":[],"meta":{}}],"startTime":1770523712703,"endTime":1770523712707.4673,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/services/__tests__/EncryptionService.decryption-tolerance.test.ts"},{"assertionResults":[{"ancestorTitles":["NisabService"],"fullName":"NisabService should fetch live gold price successfully","status":"passed","title":"should fetch live gold price successfully","duration":3.2274960000000874,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabService"],"fullName":"NisabService should fallback to API if scraper fails","status":"passed","title":"should fallback to API if scraper fails","duration":3.2836449999999786,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabService"],"fullName":"NisabService should fallback to static value on API error","status":"passed","title":"should fallback to static value on API error","duration":1.3462799999999788,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabService"],"fullName":"NisabService should fallback to manual env var if set on API & Scraper error","status":"passed","title":"should fallback to manual env var if set on API & Scraper error","duration":0.6854430000000775,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabService"],"fullName":"NisabService should use cache if valid","status":"passed","title":"should use cache if valid","duration":0.6587819999999738,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabService"],"fullName":"NisabService should calculate silver nisab correctly","status":"passed","title":"should calculate silver nisab correctly","duration":0.8975030000000288,"failureMessages":[],"meta":{}}],"startTime":1770523711634,"endTime":1770523711643.8975,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/services/__tests__/NisabService.test.ts"},{"assertionResults":[{"ancestorTitles":["WealthAggregationService.getZakatableAssets"],"fullName":"WealthAggregationService.getZakatableAssets respects encrypted metadata zakatEligible flag and calculates zakatableValue","status":"passed","title":"respects encrypted metadata zakatEligible flag and calculates zakatableValue","duration":2.796617000000026,"failureMessages":[],"meta":{}}],"startTime":1770523713328,"endTime":1770523713330.7966,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/src/services/__tests__/WealthAggregationService.test.ts"},{"assertionResults":[{"ancestorTitles":["AuditTrailService","recordEvent"],"fullName":"AuditTrailService recordEvent should record CREATED event for new Nisab Year Record","status":"passed","title":"should record CREATED event for new Nisab Year Record","duration":5.750759999999957,"failureMessages":[],"meta":{}},{"ancestorTitles":["AuditTrailService","recordEvent"],"fullName":"AuditTrailService recordEvent should enforce minimum 10 characters for unlock reason","status":"passed","title":"should enforce minimum 10 characters for unlock reason","duration":8.478261999999972,"failureMessages":[],"meta":{}},{"ancestorTitles":["AuditTrailService","getAuditTrail"],"fullName":"AuditTrailService getAuditTrail should retrieve audit trail for a Nisab Year Record","status":"passed","title":"should retrieve audit trail for a Nisab Year Record","duration":1.905760999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["AuditTrailService","getUserAuditTrail"],"fullName":"AuditTrailService getUserAuditTrail should retrieve activity history for a user","status":"passed","title":"should retrieve activity history for a user","duration":0.9487120000000004,"failureMessages":[],"meta":{}}],"startTime":1770523712605,"endTime":1770523712621.9487,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/unit/services/auditTrailService.test.ts"},{"assertionResults":[{"ancestorTitles":["HawlTrackingService","calculateHawlCompletionDate"],"fullName":"HawlTrackingService calculateHawlCompletionDate should add 354 days to start date for lunar year","status":"passed","title":"should add 354 days to start date for lunar year","duration":3.3625490000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["HawlTrackingService","toHijriDate"],"fullName":"HawlTrackingService toHijriDate should convert Gregorian date to Hijri format","status":"passed","title":"should convert Gregorian date to Hijri format","duration":1.038140999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["HawlTrackingService","detectNisabAchievement"],"fullName":"HawlTrackingService detectNisabAchievement should process users and create DRAFT records if Nisab reached","status":"failed","title":"should process users and create DRAFT records if Nisab reached","duration":10.791246999999998,"failureMessages":["AssertionError: expected +0 to be 1 // Object.is equality\n    at /home/chuwi_agent/workspace/zakapp/server/tests/unit/services/hawlTrackingService.test.ts:90:21\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["HawlTrackingService","isHawlComplete"],"fullName":"HawlTrackingService isHawlComplete should return true if 354 days have passed","status":"passed","title":"should return true if 354 days have passed","duration":1.0461310000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["HawlTrackingService","isHawlComplete"],"fullName":"HawlTrackingService isHawlComplete should return false if 354 days have not passed","status":"passed","title":"should return false if 354 days have not passed","duration":0.7796690000000126,"failureMessages":[],"meta":{}},{"ancestorTitles":["HawlTrackingService","handleWealthChange"],"fullName":"HawlTrackingService handleWealthChange should start Hawl if wealth >= Nisab and no active Hawl","status":"failed","title":"should start Hawl if wealth >= Nisab and no active Hawl","duration":3.402138999999977,"failureMessages":["AssertionError: expected \"spy\" to be called at least once\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1335:10)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/server/tests/unit/services/hawlTrackingService.test.ts:115:48\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["HawlTrackingService","handleWealthChange"],"fullName":"HawlTrackingService handleWealthChange should interrupt Hawl if wealth < Nisab and active Hawl exists","status":"failed","title":"should interrupt Hawl if wealth < Nisab and active Hawl exists","duration":2.592310999999995,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ { where: { id: 'record1' } } ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/chuwi_agent/workspace/zakapp/server/node_modules/chai/index.js:1686:25)\n    at /home/chuwi_agent/workspace/zakapp/server/tests/unit/services/hawlTrackingService.test.ts:129:48\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///home/chuwi_agent/workspace/zakapp/server/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["HawlTrackingService","handleWealthChange"],"fullName":"HawlTrackingService handleWealthChange should do nothing if wealth < Nisab and no active Hawl","status":"passed","title":"should do nothing if wealth < Nisab and no active Hawl","duration":1.388590000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["HawlTrackingService","handleWealthChange"],"fullName":"HawlTrackingService handleWealthChange should do nothing if wealth >= Nisab and active Hawl exists","status":"passed","title":"should do nothing if wealth >= Nisab and active Hawl exists","duration":1.371861000000024,"failureMessages":[],"meta":{}}],"startTime":1770523671261,"endTime":1770523671287.3718,"status":"failed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/unit/services/hawlTrackingService.test.ts"},{"assertionResults":[{"ancestorTitles":["NisabCalculationService","calculateNisabThreshold"],"fullName":"NisabCalculationService calculateNisabThreshold should calculate Nisab thresholds based on fetched prices","status":"passed","title":"should calculate Nisab thresholds based on fetched prices","duration":4.708976000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabCalculationService","calculateNisabThreshold"],"fullName":"NisabCalculationService calculateNisabThreshold should use fallback prices if API fetch fails","status":"passed","title":"should use fallback prices if API fetch fails","duration":2.048614999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabCalculationService","calculateZakat"],"fullName":"NisabCalculationService calculateZakat should calculate 2.5% of wealth","status":"passed","title":"should calculate 2.5% of wealth","duration":0.9142510000000357,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabCalculationService","isAboveNisab"],"fullName":"NisabCalculationService isAboveNisab should return true if wealth is above or equal to threshold","status":"passed","title":"should return true if wealth is above or equal to threshold","duration":0.5963040000000319,"failureMessages":[],"meta":{}}],"startTime":1770523712339,"endTime":1770523712347.5962,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/unit/services/nisabCalculationService.test.ts"},{"assertionResults":[{"ancestorTitles":["NisabYearRecordService","createRecord"],"fullName":"NisabYearRecordService createRecord should create a new DRAFT Nisab Year Record","status":"passed","title":"should create a new DRAFT Nisab Year Record","duration":5.549892999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabYearRecordService","createRecord"],"fullName":"NisabYearRecordService createRecord should validate Hawl completion date is 354 days after start","status":"passed","title":"should validate Hawl completion date is 354 days after start","duration":1.1739189999999553,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabYearRecordService","getRecord"],"fullName":"NisabYearRecordService getRecord should retrieve and decrypt a Nisab Year Record","status":"passed","title":"should retrieve and decrypt a Nisab Year Record","duration":1.6074760000000197,"failureMessages":[],"meta":{}},{"ancestorTitles":["NisabYearRecordService","getRecords"],"fullName":"NisabYearRecordService getRecords should list all records for a user","status":"passed","title":"should list all records for a user","duration":2.3581330000000094,"failureMessages":[],"meta":{}}],"startTime":1770523712414,"endTime":1770523712425.3582,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/unit/services/nisabYearRecordService.test.ts"},{"assertionResults":[{"ancestorTitles":["WealthAggregationService","calculateTotalZakatableWealth"],"fullName":"WealthAggregationService calculateTotalZakatableWealth should sum all active asset values","status":"passed","title":"should sum all active asset values","duration":3.096892999999966,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService","calculateTotalZakatableWealth"],"fullName":"WealthAggregationService calculateTotalZakatableWealth should apply calculation modifiers","status":"passed","title":"should apply calculation modifiers","duration":0.6235450000000355,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService","calculateTotalLiabilities"],"fullName":"WealthAggregationService calculateTotalLiabilities should sum all active liability amounts","status":"passed","title":"should sum all active liability amounts","duration":0.8694429999999898,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService","calculateNetZakatableWealth"],"fullName":"WealthAggregationService calculateNetZakatableWealth should subtract liabilities from total zakatable wealth","status":"passed","title":"should subtract liabilities from total zakatable wealth","duration":0.6019790000000285,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService","calculatePeriodWealth"],"fullName":"WealthAggregationService calculatePeriodWealth should calculate wealth for specific date range","status":"passed","title":"should calculate wealth for specific date range","duration":3.8586409999999773,"failureMessages":[],"meta":{}},{"ancestorTitles":["WealthAggregationService","getWealthByCategory"],"fullName":"WealthAggregationService getWealthByCategory should return sum of assets in category","status":"passed","title":"should return sum of assets in category","duration":0.9383100000000013,"failureMessages":[],"meta":{}}],"startTime":1770523711932,"endTime":1770523711942.9382,"status":"passed","message":"","name":"/home/chuwi_agent/workspace/zakapp/server/tests/unit/services/wealthAggregationService.test.ts"}]}
